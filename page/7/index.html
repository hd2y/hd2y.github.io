<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>åç¯</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ç›ˆæœˆèˆæ¸…é£ï¼Œåç¯è‡ªæ‘‡æ›³ã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="åç¯">
<meta property="og:url" content="https://hd2y.github.io/page/7/index.html">
<meta property="og:site_name" content="åç¯">
<meta property="og:description" content="ç›ˆæœˆèˆæ¸…é£ï¼Œåç¯è‡ªæ‘‡æ›³ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hd2y">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="åç¯" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">åç¯</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hd2y.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-190407-kindle" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/kindle/" class="article-date">
  <time class="dt-published" datetime="2019-04-07T10:17:37.000Z" itemprop="datePublished">2019-04-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%97%A5%E5%BF%97/">æ—¥å¿—</a>â–º<a class="article-category-link" href="/categories/%E6%97%A5%E5%BF%97/%E5%BC%80%E7%AE%B1/">å¼€ç®±</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/kindle/">å…¥æ‰‹Kindle</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="â€œå¥½è¯»ä¹¦â€"><a href="#â€œå¥½è¯»ä¹¦â€" class="headerlink" title="â€œå¥½è¯»ä¹¦â€"></a>â€œå¥½è¯»ä¹¦â€</h2><p>ä»å°åˆ°å¤§ï¼Œè‡ªè®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªä¸çˆ±çœ‹ä¹¦çš„äººï¼ˆç½‘æ–‡é™¤å¤–ï¼‰ï¼Œä½†æ˜¯èº«ä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œèª“è¦å‘<code>dalao</code>çœ‹é½çš„äººä¸€ç›´æƒ³åŸ¹å…»ä¸€ä¸ªè‰¯å¥½çš„é˜…è¯»ä¹ æƒ¯ã€‚</p>
<p>åœ¨å·¥ä½œçš„å‰æœŸæ›¾ç»è´­ç½®äº†å¾ˆå¤šä¹¦ï¼ŒåŒ…æ‹¬<code>C#</code>ã€<code>JavaScript</code>ã€<code>Oracle</code>çš„å·¥å…·ä¹¦è¿˜æœ‰ä¸€äº›åè‘—ã€æ•£æ–‡ã€è±†ç“£æ¨èç­‰å¾ˆå¤šä¹¦ï¼Œä½†æ˜¯å› ä¸ºä¸æ–¹ä¾¿æºå¸¦ï¼Œå¾ˆå¤šéƒ½åœ¨æ¬å®¶çš„è¿‡ç¨‹ä¸­é—å¤±äº†ï¼Œæˆ–è€…å¸¦å›è€å®¶å«æ¡Œè„šäº†ã€‚</p>
<p>ä»é‚£ä»¥åï¼Œæ¯æ¬¡äº¬ä¸œå’Œå½“å½“æœ‰æ´»åŠ¨ï¼Œéƒ½è¦çº ç»“ç€è¦ä¸è¦å†å‰æ‰‹ä¹°å‡ æœ¬ï¼Œæœ€åéƒ½å¿äº†ï¼Œå› ä¸ºè¿™äº›ä¹¦å¹¶ä¸æ–¹ä¾¿æºå¸¦ï¼Œè€Œä¸”é€‰æ‹©å›°éš¾ç—‡çš„æˆ‘ç»å¸¸ä¼šçº ç»“å¤–å‡ºçš„æ—¶å€™å¸¦å“ªæœ¬ä¹¦å¥½ã€‚</p>
<h2 id="â€œKindleâ€è½¯ä»¶"><a href="#â€œKindleâ€è½¯ä»¶" class="headerlink" title="â€œKindleâ€è½¯ä»¶"></a>â€œKindleâ€è½¯ä»¶</h2><p>Kindleå…¶å®å·²ç»æµè¡Œäº†å¥½å¤šå¹´ï¼Œä½†æ˜¯èº«è¾¹è®¤è¯†çš„å°ä¼™ä¼´å‡ ä¹æ²¡æœ‰ä¸Šæ‰‹è¿‡çš„ï¼Œæ‰€ä»¥ä¹Ÿåªæ˜¯å¬è¯´ï¼ŒçŸ¥é“æœ‰ä¸ªâ€œå¢¨æ°´å±â€çš„æŠ€æœ¯ã€‚</p>
<p>çœŸæ­£ç”¨Kindleï¼Œæ˜¯å› ä¸ºä¹‹å‰åœ¨Telegramå‘ç°äº†ä¸€ä¸ªç¾¤ï¼Œæ¯å¤©éƒ½ä¼šåˆ†äº«ä¸€äº›å¥½ä¹¦ã€‚å¼€å§‹ç”¨ä¸€ä¸ªPCç‰ˆåŸºäº<code>Python</code>å¼€å‘çš„é˜…è¯»è½¯ä»¶ï¼Œä½†æ˜¯ä½“éªŒä¸å¥½ï¼Œä½¿ç”¨æ²¡å¤šä¹…å°±æ”¾å¼ƒäº†ã€‚åæ¥æƒ³èµ·æ¥Kindleå¥½åƒå¯ä»¥åœ¨PCæˆ–ç§»åŠ¨è®¾å¤‡ä¸Šå®‰è£…ï¼Œäºæ˜¯ä¾¿ä¸‹è½½ä½“éªŒäº†ä¸€ä¸‹ï¼Œä¸å¾—ä¸è¯´â€”â€”çœŸé¦™ï¼Œåœ¨æ‰‹æœºã€å¹³æ¿ã€PCä¸Šéƒ½å®‰è£…äº†Kindleçš„è½¯ä»¶ã€‚</p>
<p>è€Œåœ¨ä½“éªŒäº†ä¸€æ®µæ—¶é—´ï¼Œå¾ˆæ­£å¸¸çš„æ“ä½œæ˜¯ï¼Œä¹°äº†<code>Kindle Unlimited</code>ç”µå­ä¹¦åŒ…æœˆæœåŠ¡ï¼Œè€Œä¸”ä¹°äº†ä¸€å¹´ï¼Œå“ˆå“ˆã€‚</p>
<p>å½“ç„¶ä¹°äº†ä»¥åï¼Œä¹Ÿå¹¶æ²¡æœ‰è€è€å®å®è¯»ä¹¦ï¼Œå•ƒäº†ä¸€æœ¬ã€Šç™½é¹¿åŸã€‹åï¼Œæ¸æ¸åˆå›åˆ°äº†ä¸Šç­æ‘¸é±¼ä¸‹ç­æ‘¸é±¼çš„ç”Ÿæ´»ã€‚</p>
<h2 id="å­¦ä¹ çš„â€œå†²åŠ¨â€"><a href="#å­¦ä¹ çš„â€œå†²åŠ¨â€" class="headerlink" title="å­¦ä¹ çš„â€œå†²åŠ¨â€"></a>å­¦ä¹ çš„â€œå†²åŠ¨â€</h2><p>ä¸€ç›´æƒ³ç³»ç»Ÿçš„å­¦ä¹ ä¸€ä¸‹å¹³æ—¶æ¥è§¦çš„æŠ€æœ¯ï¼Œå¹¶ä¸”äº†è§£ä¸€äº›ä¸€ç›´æ„Ÿå…´è¶£çš„é¢†åŸŸã€‚</p>
<p>æ¯”å¦‚ç³»ç»Ÿçš„çœ‹ä¸€ä¸‹<code>JavaScript</code>ã€<code>C#</code>ã€<code>MVC</code>ã€<code>æ•°æ®ç»“æ„ä¸ç®—æ³•</code>ã€<code>23ç§è®¾è®¡æ¨¡å¼</code>ç­‰çš„å·¥å…·ä¹¦ä¸æ•™æã€‚æƒ³è¦å­¦ä¹ ä¸€ä¸‹<code>Git</code>ã€<code>Docker</code>ã€<code>Python</code>ã€<code>PowerShell</code>ç­‰æ¯”è¾ƒçƒ­é—¨çš„æŠ€æœ¯ã€‚</p>
<p>è¿™äº›ä¹¦ä¸€èˆ¬åšä¸”è´µï¼Œå½“ç„¶ä¼˜é€‰è¿˜æ˜¯æ‰¾ç”µå­ä¹¦ï¼Œå…ˆæ˜¯åœ¨å½“å½“å’Œäº¬ä¸œé€‰æ‹©äº†å‡ æœ¬ï¼Œä½†æ˜¯åæ¥æƒ³åˆ°äº†è‡ªå·±å®‰è£…çš„Kindleï¼Œåˆæ”¾å¼ƒäº†ä¸‹å•ã€‚</p>
<p>çº ç»“äº†å¾ˆä¹…ï¼Œè¦ä¸è¦ä¹°ä»¥åŠè¦ä¸è¦è€ƒè™‘äº¬ä¸œ/iReader/å½“å½“å®¶çš„ç”µçº¸ä¹¦é˜…è¯»å™¨ï¼Œæœ€ç»ˆè¿˜åœ¨äº¬ä¸œå°†KindleåŠ å…¥äº†è´­ç‰©è½¦ã€‚</p>
<h2 id="è´­ç½®"><a href="#è´­ç½®" class="headerlink" title="è´­ç½®"></a>è´­ç½®</h2><p>ç”µå­äº§å“å½“ç„¶è¦åœ¨äº¬ä¸œä¸Šè´­ä¹°æ‰æ¯”è¾ƒèˆ’æœï¼Œå› ä¸ºé€Ÿåº¦ã€å”®åã€ä»·æ ¼ç­‰æœåŠ¡ä¸Šè¿˜æ˜¯æœ‰ä¸€äº›ä¼˜åŠ¿çš„ï¼Œè€Œä¸”â€¦â€¦plusä¼šå‘˜ä¸èƒ½ç™½ä¹°äº†ã€‚/(ã„’oã„’)/~~</p>
<p>ä¹‹å‰åœ¨çŸ¥ä¹åˆ«äººæ¨èï¼Œå¦‚æœçŸ¥è¯†ä½“éªŒç”µçº¸ä¹¦ï¼Œæ¨èä¹°å…¥é—¨ç‰ˆï¼Œä½†æ˜¯ä¸ºäº†â€œå¥–åŠ±â€ä¸€ä¸‹è‡ªå·±çš„ä¸Šè¿›å¿ƒï¼ˆé’±éƒ½èŠ±äº†ï¼Œä¸èƒ½ç™½èŠ±ä¸€å®šè¦å¥½å¥½è¯»ä¹¦å¥½å¥½å­¦ä¹ ï¼‰ï¼Œæœæ–­â€”â€”å½“ç„¶ä¹°ä¸èµ·3k+çš„ç‰ˆæœ¬ï¼Œå‰²è‚‰ä¹°äº†32Gçš„ç‰ˆæœ¬ã€‚</p>
<p>å½“ç„¶æœ€ç»ˆçš„ä»·æ ¼æ˜¯1288(ä¹°äº†ä¸ªçš®å¥—)-50(plusä¼šå‘˜æ»¡1200å‡50ä¼˜æƒ åˆ¸)ï¼Œå…¥æ‰‹ä»·æ ¼æ˜¯1238ã€‚ï¼ˆä¹°ä¹‹å‰å¿˜è®°æ¯”ä»·çœ‹ä¸€ä¸‹è¿™ä¸ªç‚¹ä¹°æœ‰æ²¡æœ‰äºï¼Œä¹°ä¹‹åä¸Šå»æŸ¥äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰è¿˜å¥½ï¼Œä»·æ ¼ä¸€ç›´å¾ˆç¨³å®šã€‚ï¼‰</p>
<h2 id="å¼€ç®±"><a href="#å¼€ç®±" class="headerlink" title="å¼€ç®±"></a>å¼€ç®±</h2><p>äº¬ä¸œçš„æœåŠ¡å°±æ˜¯å¿«ï¼Œä¸Šåˆåç‚¹ä¸‹å•ï¼Œä¸‹åˆä¸‰ç‚¹å¿«é€’å‘˜å°±ç»™æˆ‘æ‰“äº†ç”µè¯ã€‚å½“ç„¶æ¯”è¾ƒä¸æ„‰å¿«çš„æ˜¯ä¹‹å‰éƒ½æœ‰é€è´§ä¸Šæ¥¼ï¼Œè¿™æ¬¡å±…ç„¶è®©æˆ‘å»èœ‚å·¢è‡ªå·±å–å¿«é€’ã€‚ğŸ˜”</p>
<p>å½“ç„¶ï¼ŒKindleçš„åˆ°æ¥ï¼Œå¼€ç®±çš„å–œæ‚¦ï¼Œè¿™äº›å°æ’æ›²éƒ½æ˜¯æµ®äº‘å“¦ã€‚å°å¿ƒç¿¼ç¿¼çš„å¼€ç®±ä¸­â€¦â€¦</p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle1_1562726351240.jpg" alt="kindle1"></p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle2_1562726351248.jpg" alt="kindle2"></p>
<p>å•Šï¼Ÿå¿˜è®°äº†ä¸¤ä¸ªå¿«é€’åŒ…è£¹ï¼Œå› ä¸ºé¡ºä¾¿è¡¥å……äº†ä¸€ä¸‹æ´—é¢å¥¶çš„å­˜è´§ï¼Œçœ‹åˆ°å¤§çš„ç›’å­æƒ³å½“ç„¶çš„ä»¥ä¸ºæ˜¯Kindleï¼Œç»“æœå¹¶ä¸æ˜¯ï¼Œäºæ˜¯å¼€å¦å¤–ä¸€ä¸ªåŒ…è£¹ã€‚</p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle3_1562726351244.jpg" alt="kindle3"></p>
<p>åŒ…è£…å¾ˆâ€œèŠ‚çº¦â€ï¼Œç›’å­çš„å¤§å°æ„Ÿè§‰ä¹Ÿå°±æ¯”Kindleæœ¬èº«å¤§ä¸€ç‚¹ç‚¹ã€‚</p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle4_1562726351243.jpg" alt="kindle4"></p>
<p>ç›’å­ä¸Šçš„å›¾å½¢åˆšå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯æ°´æ¸ï¼Œåæ¥æ‰å‘ç°åŸæ¥æ˜¯å¹³æ—¶Kindleä¸Šè§åˆ°çš„å°é¢å›¾ã€‚</p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle5_1562726351243.jpg" alt="kindle5"></p>
<p>ä¸€å®¶äººå½“ç„¶è¦æ•´æ•´é½é½çš„ï¼Œ6å¯¸çš„å¤§å°å’Œæ‰‹æŒçš„å¤§å°å·®ä¸å¤šï¼Œå¯ä»¥è£…è¿›è¡£å…œé‡Œã€‚</p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle6_1562726351242.jpg" alt="kindle6"></p>
<p>åˆšå¼€å§‹ä»¥ä¸ºé‚£äº›æç¤ºæ˜¯è´´è†œï¼Œå·®ç‚¹æŠŠå±å¹•æ€èµ·æ¥â€¦â€¦ç›´æ¥å¼€æœºå°±å¥½äº†ã€‚</p>
<p><img src="https://hd2y.oss-cn-beijing.aliyuncs.com/kindle7_1562726351247.jpg" alt="kindle7"></p>
<p>æœ€ç»ˆè¿›ç³»ç»Ÿå°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œæ„æ–™ä¹‹ä¸­çš„å»¶è¿Ÿï¼Œå¯ä»¥æ¥å—ã€‚å¦å¤–ç™»å½•Amazonè´¦å·ä¼šæœ‰ç‚¹é—®é¢˜ï¼Œç™»å½•ç°æœ‰è´¦å·ä¸‹é¢æŒ‰é’®æ˜¾ç¤ºçš„å´æ˜¯æ³¨å†Œï¼Œè€Œä¸”å›è½¦ä»¥åä¸€ç›´æç¤ºå¤±è´¥ï¼Œæœ€ç»ˆå‘ç°é‚®ç®±é‡Œèººç€Amazonå‘é€çš„â€œéªŒè¯ç â€ï¼Œç”¨è¿™ä¸ªå°±å¯ä»¥ç™»å½•ã€‚</p>
<h2 id="é˜…è¯»ä½“éªŒ"><a href="#é˜…è¯»ä½“éªŒ" class="headerlink" title="é˜…è¯»ä½“éªŒ"></a>é˜…è¯»ä½“éªŒ</h2><p>åˆšåˆ°æ‰‹å‰©ä½™â€œ50%â€çš„ç”µé‡ï¼Œåœ¨å°†é˜…è¯»ç¯å¼€äº†20+çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨äº†å¤§æ¦‚å…«ä¹ä¸ªå°æ—¶ã€‚æ„Ÿè§‰åœ¨ç»­èˆªä¸Šï¼Œä¸å¤ªæ»¡æ„ï¼Œæˆ‘ç†æƒ³çš„æ˜¯å……æ»¡ç”µå·¥ä½œ30hå·¦å³ã€‚</p>
<p>åé¢å……äº†ç”µï¼Œå¹¶å°†é˜…è¯»ç¯å…³äº†å†ä½¿ç”¨ä¸€ä¸‹çœ‹çœ‹æ²¡æœ‰å¼€é˜…è¯»ç¯çš„ç»­èˆªæ€ä¹ˆæ ·ï¼Œæ¯”è¾ƒä¸ç†è§£çš„æ˜¯ä¸ºä»€ä¹ˆç”µçº¸ä¹¦é˜…è¯»å™¨è¿™ä¸ªä½“ç§¯ä¸æå‡ä¸€ä¸‹ç”µæ± ï¼Œ1500mAhè¿˜æ˜¯æœ‰ä¸€äº›è¿›æ­¥ç©ºé—´çš„ã€‚</p>
<p>å› ä¸ºæœ¬èº«æœ‰äº›è¿‘è§†ï¼Œæ‰€ä»¥ä½¿ç”¨ç”µå­è®¾å¤‡å–œæ¬¢é å±å¹•å¾ˆè¿‘è§‚çœ‹ï¼Œé•¿æ—¶é—´ç”¨Kindleé˜…è¯»ï¼Œæ˜æ˜¾æ²¡æœ‰ç”¨æ‰‹æœºæˆ–è€…ç”µè„‘é‚£ç§çœ©ç›®çš„æ„Ÿè§‰ï¼Œä½“éªŒéå¸¸ä¸é”™ã€‚</p>
<p>ä¸å¤šè¯´äº†ï¼Œå»çœ‹ä¹¦äº†ã€‚ğŸ˜„</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/kindle/" data-id="cklhsu178001d05rj5j2xeg4e" data-title="å…¥æ‰‹Kindle" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kindle/" rel="tag">Kindle</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190407-23-design-patterns-and-common-design-patterns" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/23-design-patterns-and-common-design-patterns/" class="article-date">
  <time class="dt-published" datetime="2019-04-07T03:09:36.000Z" itemprop="datePublished">2019-04-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%9F%BA%E7%A1%80/">åŸºç¡€</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/23-design-patterns-and-common-design-patterns/">23ç§è®¾è®¡æ¨¡å¼ä¸å¸¸ç”¨è®¾è®¡æ¨¡å¼</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h2><h3 id="è®¾è®¡æ¨¡å¼-1"><a href="#è®¾è®¡æ¨¡å¼-1" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h3><p>è®¾è®¡æ¨¡å¼(<code>Design Pattern</code>)æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚</p>
<p>ç›®çš„æ˜¯ä¸ºäº†ä»£ç å¯é‡ç”¨æ€§ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚</p>
<h3 id="è®¾è®¡æ¨¡å¼ä¸‰å¤§ç±»å‹"><a href="#è®¾è®¡æ¨¡å¼ä¸‰å¤§ç±»å‹" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¸‰å¤§ç±»å‹"></a>è®¾è®¡æ¨¡å¼ä¸‰å¤§ç±»å‹</h3><p>è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œå…±23ç±»ã€‚</p>
<ul>
<li>åˆ›å»ºå‹æ¨¡å¼ï¼šåˆ›å»ºå‹æ¨¡å¼ç”¨æ¥å¤„ç†å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå•ä¾‹æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€‚</li>
<li>ç»“æ„å‹æ¨¡å¼ï¼šç»“æ„å‹æ¨¡å¼ç”¨æ¥å¤„ç†ç±»æˆ–è€…å¯¹è±¡çš„ç»„åˆï¼Œé€‚é…å™¨æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€‚</li>
<li>è¡Œä¸ºå‹æ¨¡å¼ï¼šè¡Œä¸ºå‹æ¨¡å¼ç”¨æ¥å¯¹ç±»æˆ–å¯¹è±¡æ€æ ·äº¤äº’å’Œæ€æ ·åˆ†é…èŒè´£è¿›è¡Œæè¿°ï¼Œæ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€‚</li>
</ul>
<h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p>å•ä¾‹æ¨¡å¼(<code>Singleton Pattern</code>)ä¿è¯ç³»ç»Ÿä¸­ï¼Œåº”ç”¨è¯¥æ¨¡å¼çš„ç±»ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚å³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</p>
<h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><h4 id="é¥¿æ±‰å¼"><a href="#é¥¿æ±‰å¼" class="headerlink" title="é¥¿æ±‰å¼"></a>é¥¿æ±‰å¼</h4><p>ç¬¬ä¸€æ—¶é—´åˆ›å»ºå®ä¾‹</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> é™æ€æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> *è¯¥æ–¹æ³•ç”±CLRä¿è¯ï¼Œç¨‹åºç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªç±»å‹å‰è¢«è°ƒç”¨ï¼Œä¸”åªè°ƒç”¨ä¸€æ¬¡</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Singleton2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">Singleton2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Thread.Sleep(<span class="number">1000</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton2)&#125;</span>\tæ„é€ æˆåŠŸ\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//æµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton2)&#125;</span>\tå•ä¾‹æ¨¡å¼æµ‹è¯•å¼€å§‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">        Singleton2 singleton = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Task.Factory.StartNew(() =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                singleton = <span class="keyword">new</span> Singleton2();</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton2)&#125;</span>\tè·å–å•ä¾‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> é™æ€å­—æ®µ</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> *è¯¥æ–¹æ³•ç”±CLRä¿è¯ï¼Œç¨‹åºç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªç±»å‹å‰è¢«åˆå§‹åŒ–ï¼Œä¸”åªåˆå§‹åŒ–ä¸€æ¬¡</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Singleton3</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton3</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Thread.Sleep(<span class="number">1000</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton3)&#125;</span>\tæ„é€ æˆåŠŸ\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton3 _singleton = <span class="keyword">new</span> Singleton3();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton3 <span class="title">CreateInstance</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> _singleton;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//æµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton3)&#125;</span>\tå•ä¾‹æ¨¡å¼æµ‹è¯•å¼€å§‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">        Singleton3 singleton = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Task.Factory.StartNew(() =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                singleton = CreateInstance();</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton3)&#125;</span>\tè·å–å•ä¾‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‡’æ±‰å¼"><a href="#æ‡’æ±‰å¼" class="headerlink" title="æ‡’æ±‰å¼"></a>æ‡’æ±‰å¼</h4><p>éœ€è¦æ‰åˆ›å»ºå®ä¾‹</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åŒifåˆ¤æ–­åŠ é”</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> *å†…å±‚ifåˆ¤æ–­ä¿è¯å•ä¾‹æ¨¡å¼</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> *å¤–å±‚ifåˆ¤æ–­é¿å…åŠ é”é˜»ç¢å¤šçº¿ç¨‹è¿è¡Œ</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> *åŠ é”é¿å…å¤šçº¿ç¨‹å¯¹è±¡è¢«å¤šæ¬¡åˆ›å»º</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Singleton1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Thread.Sleep(<span class="number">1000</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton1)&#125;</span>\tæ„é€ æˆåŠŸ\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton1 _singleton = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">object</span> Singleton_Lock = <span class="keyword">new</span> <span class="built_in">object</span>();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton1 <span class="title">CreateInstance</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_singleton == <span class="literal">null</span>)<span class="comment">//ä¸ä¸ºç©ºæ‰å»ç­‰å¾…é”</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">lock</span> (Singleton_Lock)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton1)&#125;</span>\tç­‰å¾…é”ä¹‹åé‡Šæ”¾\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">                Thread.Sleep(<span class="number">500</span>);</span><br><span class="line">                <span class="keyword">if</span> (_singleton == <span class="literal">null</span>)<span class="comment">//ä¿è¯ä¸è¢«é‡å¤åˆ›å»º</span></span><br><span class="line">                &#123;</span><br><span class="line">                    _singleton = <span class="keyword">new</span> Singleton1();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> _singleton;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton1)&#125;</span>\tå•ä¾‹æ¨¡å¼æµ‹è¯•å¼€å§‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">        Singleton1 singleton = <span class="literal">null</span>;</span><br><span class="line">        List&lt;Task&gt; listTask = <span class="keyword">new</span> List&lt;Task&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            listTask.Add(Task.Factory.StartNew(() =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                singleton = CreateInstance();</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton1)&#125;</span>\tè·å–å•ä¾‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">            &#125;));</span><br><span class="line">        &#125;</span><br><span class="line">        Task.WaitAll(listTask.ToArray());</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Task.Factory.StartNew(() =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                singleton = CreateInstance();</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;HH:mm:ss&quot;</span>)&#125;</span>: <span class="subst">&#123;<span class="keyword">nameof</span>(Singleton1)&#125;</span>\tè·å–å•ä¾‹\tçº¿ç¨‹IDä¸º<span class="subst">&#123;Thread.CurrentThread.ManagedThreadId&#125;</span>ã€‚&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ç§å·¥å‚æ¨¡å¼"><a href="#ä¸‰ç§å·¥å‚æ¨¡å¼" class="headerlink" title="ä¸‰ç§å·¥å‚æ¨¡å¼"></a>ä¸‰ç§å·¥å‚æ¨¡å¼</h2><p>ç®€å•å·¥å‚ã€å·¥å‚æ–¹æ³•ã€æŠ½è±¡å·¥å‚éƒ½å±äºè®¾è®¡æ¨¡å¼ä¸­çš„åˆ›å»ºå‹æ¨¡å¼ã€‚å…¶ä¸»è¦åŠŸèƒ½éƒ½æ˜¯å¸®åŠ©æˆ‘ä»¬æŠŠå¯¹è±¡çš„å®ä¾‹åŒ–éƒ¨åˆ†æŠ½è±¡å–äº†å‡ºæ¥ï¼Œä¼˜åŒ–äº†ç³»ç»Ÿçš„æ¶æ„ï¼Œå¹¶ä¸”å¢å¼ºäº†ç³»ç»Ÿçš„æ‰©å±•æ€§ã€‚</p>
<h3 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a>ç®€å•å·¥å‚</h3><p>ç®€å•å·¥å‚(<code>Simple Factory</code>)ï¼šç®€å•å·¥å‚æ¨¡å¼çš„å·¥å‚ç±»ä¸€èˆ¬æ˜¯ä½¿ç”¨é™æ€æ–¹æ³•ï¼Œé€šè¿‡æ¥æ”¶çš„å‚æ•°ä¸åŒæ¥è¿”å›ä¸åŒçš„å¯¹è±¡å®ä¾‹ã€‚ä¸ä¿®æ”¹ä»£ç çš„è¯ï¼Œæ˜¯æ— æ³•æ‰©å±•çš„ã€‚  </p>
<ul>
<li>ä¼˜ç‚¹ï¼šå®¢æˆ·ç«¯å¯ä»¥å…é™¤ç›´æ¥åˆ›å»ºäº§å“å¯¹è±¡çš„è´£ä»»ï¼Œè€Œä»…ä»…æ˜¯â€œæ¶ˆè´¹â€äº§å“ã€‚ç®€å•å·¥å‚æ¨¡å¼é€šè¿‡è¿™ç§åšæ³•å®ç°äº†å¯¹è´£ä»»çš„åˆ†å‰²ã€‚</li>
<li>ç¼ºç‚¹ï¼šç”±äºå·¥å‚ç±»é›†ä¸­äº†æ‰€æœ‰å®ä¾‹çš„åˆ›å»ºé€»è¾‘ï¼Œè¿åäº†é«˜å†…èšè´£ä»»åˆ†é…åŸåˆ™ï¼Œå°†å…¨éƒ¨åˆ›å»ºé€»è¾‘é›†ä¸­åˆ°äº†ä¸€ä¸ªå·¥å‚ç±»ä¸­ï¼›å®ƒæ‰€èƒ½åˆ›å»ºçš„ç±»åªèƒ½æ˜¯äº‹å…ˆè€ƒè™‘åˆ°çš„ï¼Œå¦‚æœéœ€è¦æ·»åŠ æ–°çš„ç±»ï¼Œåˆ™å°±éœ€è¦æ”¹å˜å·¥å‚ç±»äº†ã€‚</li>
</ul>
<p>é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">appSettings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;BallType&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Test.exe,Test.Factory.Basketball&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å®ä½“ä¸æšä¸¾</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Sportsman</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Sportsman</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">bool</span> gender, <span class="built_in">int</span> age, <span class="built_in">string</span> country</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">        Gender = gender;</span><br><span class="line">        Age = age;</span><br><span class="line">        Country = country;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> Gender &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Age &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Country &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PlayGame</span>(<span class="params">IBall ball</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;You&#x27;re watching <span class="subst">&#123;ball.PlayGame()&#125;</span> The name of the sportsman is <span class="subst">&#123;Name&#125;</span>. <span class="subst">&#123;(Gender ? <span class="string">&quot;He&quot;</span> : <span class="string">&quot;She&quot;</span>)&#125;</span> is a <span class="subst">&#123;Age&#125;</span> years old <span class="subst">&#123;(Gender ? <span class="string">&quot;boy&quot;</span> : <span class="string">&quot;girl&quot;</span>)&#125;</span> from <span class="subst">&#123;Country&#125;</span>.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IBall</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">PlayGame</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> BallType</span><br><span class="line">&#123;</span><br><span class="line">    Basketball,</span><br><span class="line">    Football,</span><br><span class="line">    Baseball,</span><br><span class="line">    Volleyball</span><br><span class="line">&#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p>ç®€å•å·¥å‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SimpleFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Sportsman sportsman = <span class="keyword">new</span> Sportsman(<span class="string">&quot;Kangkang&quot;</span>, <span class="literal">true</span>, <span class="number">17</span>, <span class="string">&quot;China&quot;</span>);</span><br><span class="line">        &#123;</span><br><span class="line">            Basketball basketball = <span class="keyword">new</span> Basketball();<span class="comment">//1.å·¦å³éƒ½æ˜¯ç»†èŠ‚</span></span><br><span class="line">            sportsman.PlayGame(basketball);</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            IBall ball = <span class="keyword">new</span> Football();<span class="comment">//2.å·¦è¾¹æ˜¯æŠ½è±¡ å³è¾¹æ˜¯ç»†èŠ‚</span></span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//éµå¾ªä¾èµ–å€’ç½® ä½†æ˜¯è¿èƒŒäº†å•ä¸€èŒè´£</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;********ç®€å•å·¥å‚-è½¬ç§»ç»†èŠ‚********&quot;</span>);</span><br><span class="line">            IBall ball = CreateBallGame(BallType.Volleyball);<span class="comment">//3.æ²¡æœ‰ç»†èŠ‚ ç»†èŠ‚è¢«è½¬ç§»</span></span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//ç»“åˆé…ç½®é¡¹+åå°„ IOCé›å½¢</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;********ç®€å•å·¥å‚-é…ç½®é¡¹********&quot;</span>);</span><br><span class="line">            IBall ball = CreateBallFromConfiguration();</span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> **é›†ä¸­äº†çŸ›ç›¾**</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ç»†èŠ‚æ²¡æœ‰æ¶ˆå¤±åªæ˜¯è½¬ç§»</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è½¬ç§»äº†çŸ›ç›¾å¹¶æ²¡æœ‰æ¶ˆé™¤çŸ›ç›¾</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IBall <span class="title">CreateBallGame</span>(<span class="params">BallType type</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        IBall ball = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">switch</span> (type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> BallType.Basketball:</span><br><span class="line">                ball = <span class="keyword">new</span> Basketball();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BallType.Football:</span><br><span class="line">                ball = <span class="keyword">new</span> Football();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BallType.Baseball:</span><br><span class="line">                ball = <span class="keyword">new</span> Baseball();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BallType.Volleyball:</span><br><span class="line">                ball = <span class="keyword">new</span> Volleyball();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;unknown ball type.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ball;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> IOCçš„é›å½¢</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IBall <span class="title">CreateBallFromConfiguration</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="built_in">string</span>[] aTemp = ConfigurationManager.AppSettings.Get(<span class="string">&quot;BallType&quot;</span>).Split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">        Assembly assembly = Assembly.LoadFrom(aTemp[<span class="number">0</span>]);</span><br><span class="line">        Type type = assembly.GetType(aTemp[<span class="number">1</span>]);</span><br><span class="line">        IBall ball = Activator.CreateInstance(type) <span class="keyword">as</span> IBall;</span><br><span class="line">        <span class="keyword">return</span> ball;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Baseball</span> : <span class="title">IBall</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">PlayGame</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;a baseball tv show.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Football</span> : <span class="title">IBall</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">PlayGame</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;a football tv show.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Baseball</span> : <span class="title">IBall</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">PlayGame</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;a baseball tv show.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Volleyball</span> : <span class="title">IBall</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">PlayGame</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;a volleyball tv show.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•å·¥å‚å®ç°</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SimpleFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Sportsman sportsman = <span class="keyword">new</span> Sportsman(<span class="string">&quot;Kangkang&quot;</span>, <span class="literal">true</span>, <span class="number">17</span>, <span class="string">&quot;China&quot;</span>);</span><br><span class="line">        &#123;</span><br><span class="line">            Basketball basketball = <span class="keyword">new</span> Basketball();<span class="comment">//1.å·¦å³éƒ½æ˜¯ç»†èŠ‚</span></span><br><span class="line">            sportsman.PlayGame(basketball);</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            IBall ball = <span class="keyword">new</span> Football();<span class="comment">//2.å·¦è¾¹æ˜¯æŠ½è±¡ å³è¾¹æ˜¯ç»†èŠ‚</span></span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//éµå¾ªä¾èµ–å€’ç½® ä½†æ˜¯è¿èƒŒäº†å•ä¸€èŒè´£</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;********ç®€å•å·¥å‚-è½¬ç§»ç»†èŠ‚********&quot;</span>);</span><br><span class="line">            IBall ball = CreateBallGame(BallType.Volleyball);<span class="comment">//3.æ²¡æœ‰ç»†èŠ‚ ç»†èŠ‚è¢«è½¬ç§»</span></span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//ç»“åˆé…ç½®é¡¹+åå°„ IOCé›å½¢</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;********ç®€å•å·¥å‚-é…ç½®é¡¹********&quot;</span>);</span><br><span class="line">            IBall ball = CreateBallFromConfiguration();</span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> **é›†ä¸­äº†çŸ›ç›¾**</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ç»†èŠ‚æ²¡æœ‰æ¶ˆå¤±åªæ˜¯è½¬ç§»</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è½¬ç§»äº†çŸ›ç›¾å¹¶æ²¡æœ‰æ¶ˆé™¤çŸ›ç›¾</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IBall <span class="title">CreateBallGame</span>(<span class="params">BallType type</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        IBall ball = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">switch</span> (type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> BallType.Basketball:</span><br><span class="line">                ball = <span class="keyword">new</span> Basketball();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BallType.Football:</span><br><span class="line">                ball = <span class="keyword">new</span> Football();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BallType.Baseball:</span><br><span class="line">                ball = <span class="keyword">new</span> Baseball();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BallType.Volleyball:</span><br><span class="line">                ball = <span class="keyword">new</span> Volleyball();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;unknown ball type.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ball;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> IOCçš„é›å½¢</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IBall <span class="title">CreateBallFromConfiguration</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="built_in">string</span>[] aTemp = ConfigurationManager.AppSettings.Get(<span class="string">&quot;BallType&quot;</span>).Split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">        Assembly assembly = Assembly.LoadFrom(aTemp[<span class="number">0</span>]);</span><br><span class="line">        Type type = assembly.GetType(aTemp[<span class="number">1</span>]);</span><br><span class="line">        IBall ball = Activator.CreateInstance(type) <span class="keyword">as</span> IBall;</span><br><span class="line">        <span class="keyword">return</span> ball;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h3><p>å·¥å‚æ–¹æ³•(<code>Factory Method</code>)ï¼šå·¥å‚æ–¹æ³•æ˜¯é’ˆå¯¹æ¯ä¸€ç§äº§å“æä¾›ä¸€ä¸ªå·¥å‚ç±»ã€‚é€šè¿‡ä¸åŒçš„å·¥å‚å®ä¾‹æ¥åˆ›å»ºä¸åŒçš„äº§å“å®ä¾‹ã€‚åœ¨åŒä¸€ç­‰çº§ç»“æ„ä¸­ï¼Œæ”¯æŒå¢åŠ ä»»æ„äº§å“ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šå…è®¸ç³»ç»Ÿåœ¨ä¸ä¿®æ”¹å…·ä½“å·¥å‚è§’è‰²çš„æƒ…å†µä¸‹å¼•è¿›æ–°äº§å“ã€‚</li>
<li>ç¼ºç‚¹ï¼šç”±äºæ¯åŠ ä¸€ä¸ªäº§å“ï¼Œå°±éœ€è¦åŠ ä¸€ä¸ªäº§å“å·¥å‚çš„ç±»ï¼Œå¢åŠ äº†é¢å¤–çš„å¼€å‘é‡ã€‚</li>
</ul>
<p>æä¾›å·¥å‚ç±»</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">IBall <span class="title">CreateBall</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseballFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBall <span class="title">CreateBall</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Baseball();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FootballFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBall <span class="title">CreateBall</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Football();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseballFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBall <span class="title">CreateBall</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Baseball();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VolleyballFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBall <span class="title">CreateBall</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Volleyball();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å·¥å‚æ–¹æ³•å®ç°</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FactoryMethod</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Sportsman sportsman = <span class="keyword">new</span> Sportsman(<span class="string">&quot;Kangkang&quot;</span>, <span class="literal">true</span>, <span class="number">17</span>, <span class="string">&quot;China&quot;</span>);</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//æ¯ä¸ªä¸šåŠ¡å¯¹åº”ä¸€ä¸ªå·¥å‚ å°†ä¸šåŠ¡ç»†èŠ‚çš„ä¾èµ–è½¬ç§»åˆ°ä¸­é—´å±‚ï¼ˆå·¥å‚ï¼‰</span></span><br><span class="line">            <span class="comment">//ä¼˜ç‚¹ï¼šå…è®¸ç³»ç»Ÿåœ¨ä¸ä¿®æ”¹å…·ä½“å·¥å‚è§’è‰²çš„æƒ…å†µä¸‹å¼•è¿›æ–°äº§å“</span></span><br><span class="line">            <span class="comment">//ç¼ºç‚¹ï¼šç”±äºæ¯åŠ ä¸€ä¸ªäº§å“ï¼Œå°±éœ€è¦åŠ ä¸€ä¸ªäº§å“å·¥å‚çš„ç±»ï¼Œå¢åŠ äº†é¢å¤–çš„å¼€å‘é‡</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;********å·¥å‚æ–¹æ³•********&quot;</span>);</span><br><span class="line">            IFactory factory = <span class="keyword">new</span> BasketballFactory();</span><br><span class="line">            IBall ball = factory.CreateBall();</span><br><span class="line">            sportsman.PlayGame(ball);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h3><p>æŠ½è±¡å·¥å‚(<code>Abstract Factory</code>)ï¼šæŠ½è±¡å·¥å‚æ˜¯åº”å¯¹äº§å“æ—æ¦‚å¿µçš„ã€‚åº”å¯¹äº§å“æ—æ¦‚å¿µè€Œç”Ÿï¼Œå¢åŠ æ–°çš„äº§å“çº¿å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯æ— æ³•å¢åŠ æ–°çš„äº§å“ã€‚æ¯”å¦‚ï¼Œæ¯ä¸ªæ±½è½¦å…¬å¸å¯èƒ½è¦åŒæ—¶ç”Ÿäº§è½¿è½¦ã€è´§è½¦ã€å®¢è½¦ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå·¥å‚éƒ½è¦æœ‰åˆ›å»ºè½¿è½¦ã€è´§è½¦å’Œå®¢è½¦çš„æ–¹æ³•ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šå‘å®¢æˆ·ç«¯æä¾›ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—å®¢æˆ·ç«¯åœ¨ä¸å¿…æŒ‡å®šäº§å“å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºå¤šä¸ªäº§å“æ—ä¸­çš„äº§å“å¯¹è±¡ã€‚</li>
<li>ç¼ºç‚¹ï¼šå¢åŠ æ–°çš„äº§å“ç­‰çº§ç»“æ„å¾ˆå¤æ‚ï¼Œéœ€è¦ä¿®æ”¹æŠ½è±¡å·¥å‚å’Œæ‰€æœ‰çš„å…·ä½“å·¥å‚ç±»ï¼Œå¯¹â€œå¼€é—­åŸåˆ™â€çš„æ”¯æŒå‘ˆç°å€¾æ–œæ€§ã€‚</li>
</ul>
<p>ä¾‹å¦‚æ¸¸æˆåŠ è½½éœ€è¦è‹±é›„ã€èµ„æºã€æŠ€èƒ½ç­‰</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">AbstractFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> IHero <span class="title">CreateHero</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> ISkill <span class="title">CreateSkill</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> IResource <span class="title">CreateResource</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> IWeapon <span class="title">CreateWeapon</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IHero</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">ShowHero</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ISkill</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">ShowSkill</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IResource</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">ShowResource</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IWeapon</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">ShowWeapon</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è£…é¥°å™¨æ¨¡å¼"><a href="#è£…é¥°å™¨æ¨¡å¼" class="headerlink" title="è£…é¥°å™¨æ¨¡å¼"></a>è£…é¥°å™¨æ¨¡å¼</h2><p>è£…é¥°å™¨æ¨¡å¼(Decorator Pattern)ï¼šå…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚</p>
<p>å°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°å™¨æ¨¡å¼ç›¸æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚ä¸€èˆ¬çš„ï¼Œæˆ‘ä»¬ä¸ºäº†æ‰©å±•ä¸€ä¸ªç±»ç»å¸¸ä½¿ç”¨ç»§æ‰¿æ–¹å¼å®ç°ï¼Œç”±äºç»§æ‰¿ä¸ºç±»å¼•å…¥é™æ€ç‰¹å¾ï¼Œå¹¶ä¸”éšç€æ‰©å±•åŠŸèƒ½çš„å¢å¤šï¼Œå­ç±»ä¼šå¾ˆè†¨èƒ€ã€‚</p>
<p><strong>ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼š</strong> çºµå‘æœ‰ç»§æ‰¿å’Œå®ç°ï¼Œæ¨ªå‘æœ‰ä¾èµ–ã€å…³è”ã€ç»„åˆã€èšåˆã€‚<strong>ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼šç»„åˆä¼˜äºç»§æ‰¿</strong>ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šè£…é¥°ç±»å’Œè¢«è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å‘å±•ï¼Œä¸ä¼šç›¸äº’è€¦åˆï¼Œè£…é¥°æ¨¡å¼æ˜¯ç»§æ‰¿çš„ä¸€ä¸ªæ›¿ä»£æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼å¯ä»¥åŠ¨æ€æ‰©å±•ä¸€ä¸ªå®ç°ç±»çš„åŠŸèƒ½ã€‚</li>
<li>ç¼ºç‚¹ï¼šå¤šå±‚è£…é¥°æ¯”è¾ƒå¤æ‚ã€‚</li>
</ul>
<p>å­¦ç”Ÿå­¦ä¹ å…è´¹æˆ–ä»˜è´¹è¯¾ç¨‹äº«æœ‰ä¸åŒçš„æƒåˆ©ï¼Œé™¤äº«å—å…è´¹è¯¾ç¨‹å¤–ï¼Œä»˜è´¹å­¦ç”Ÿè¿˜æœ‰è¯¾å‰èµ„æ–™é¢„ä¹ ã€è¯¾åä½œä¸šæŒ‡å¯¼ã€èµ„æ–™å¤ä¹ ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">AbstractStudent</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        AbstractStudent student = <span class="keyword">new</span> VIPStudent() &#123; Id = <span class="number">999</span>, Name = <span class="string">&quot;Kangkang&quot;</span> &#125;;</span><br><span class="line">        student.Study();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************************&quot;</span>);</span><br><span class="line">        StudentPreviewDecorator previewStudent = <span class="keyword">new</span> StudentPreviewDecorator(student);</span><br><span class="line">        previewStudent.Study();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************************&quot;</span>);</span><br><span class="line">        AbstractStudent abstractStudent = <span class="keyword">new</span> StudentPreviewDecorator(student);</span><br><span class="line">        abstractStudent.Study();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************************&quot;</span>);</span><br><span class="line">        student = <span class="keyword">new</span> StudentPayDecorator(student);</span><br><span class="line">        student = <span class="keyword">new</span> StudentPreviewDecorator(student);</span><br><span class="line">        student = <span class="keyword">new</span> StudentHomeworkDecorator(student);</span><br><span class="line">        student = <span class="keyword">new</span> StudentReviewDecorator(student);</span><br><span class="line">        student.Study();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PoolStudent</span> : <span class="title">AbstractStudent</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Take free courses.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VIPStudent</span> : <span class="title">AbstractStudent</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Take free and paid courses.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»§æ‰¿ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æ˜¯ä¸å¤Ÿçµæ´»</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseStudentInherit</span> : <span class="title">VIPStudent</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Pay.&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Preview.&quot;</span>);</span><br><span class="line">        <span class="keyword">base</span>.Study();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»˜è´¹ã€é¢„ä¹ ã€ä½œä¸šã€å¤ä¹ ç­‰è£…é¥°å™¨</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentPayDecorator</span> : <span class="title">BaseStudentDecorator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StudentPayDecorator</span>(<span class="params">AbstractStudent student</span>) : <span class="title">base</span>(<span class="params">student</span>)</span></span><br><span class="line"><span class="function"></span>    &#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Pay.&quot;</span>);</span><br><span class="line">        <span class="keyword">base</span>.Study();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentPreviewDecorator</span> : <span class="title">BaseStudentDecorator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StudentPreviewDecorator</span>(<span class="params">AbstractStudent student</span>) : <span class="title">base</span>(<span class="params">student</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Preview.&quot;</span>);</span><br><span class="line">        <span class="keyword">base</span>.Study();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentHomeworkDecorator</span> : <span class="title">BaseStudentDecorator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StudentHomeworkDecorator</span>(<span class="params">AbstractStudent student</span>) : <span class="title">base</span>(<span class="params">student</span>)</span></span><br><span class="line"><span class="function"></span>    &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">base</span>.Study();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Do homework.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StudentReviewDecorator</span>:<span class="title">BaseStudentDecorator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StudentReviewDecorator</span>(<span class="params">AbstractStudent student</span>) : <span class="title">base</span>(<span class="params">student</span>)</span></span><br><span class="line"><span class="function"></span>    &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Study</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">base</span>.Study();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Review.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h2><p>ä»£ç†æ¨¡å¼(<code>Proxy Pattern</code>)ï¼šä¸€ä¸ªç±»ä»£è¡¨å¦ä¸€ä¸ªç±»çš„åŠŸèƒ½ï¼Œä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ä¸»è¦è§£å†³åœ¨ç›´æ¥è®¿é—®å¯¹è±¡æ—¶å¸¦æ¥çš„é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼šè¦è®¿é—®çš„å¯¹è±¡åœ¨è¿œç¨‹çš„æœºå™¨ä¸Šã€‚</p>
<p>åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­ï¼Œæœ‰äº›å¯¹è±¡ç”±äºæŸäº›åŸå› ï¼ˆæ¯”å¦‚å¯¹è±¡åˆ›å»ºå¼€é”€å¾ˆå¤§ï¼Œæˆ–è€…æŸäº›æ“ä½œéœ€è¦å®‰å…¨æ§åˆ¶ï¼Œæˆ–è€…éœ€è¦è¿›ç¨‹å¤–çš„è®¿é—®ï¼‰ï¼Œç›´æ¥è®¿é—®ä¼šç»™ä½¿ç”¨è€…æˆ–è€…ç³»ç»Ÿç»“æ„å¸¦æ¥å¾ˆå¤šéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¿é—®æ­¤å¯¹è±¡æ—¶åŠ ä¸Šä¸€ä¸ªå¯¹æ­¤å¯¹è±¡çš„è®¿é—®å±‚ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>èŒè´£æ¸…æ™°ã€‚ </li>
<li>é«˜æ‰©å±•æ€§ã€‚</li>
<li>æ™ºèƒ½åŒ–ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ç”±äºåœ¨å®¢æˆ·ç«¯å’ŒçœŸå®ä¸»é¢˜ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤æœ‰äº›ç±»å‹çš„ä»£ç†æ¨¡å¼å¯èƒ½ä¼šé€ æˆè¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ã€‚</li>
<li>å®ç°ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„å·¥ä½œï¼Œæœ‰äº›ä»£ç†æ¨¡å¼çš„å®ç°éå¸¸å¤æ‚ã€‚</li>
</ul>
<p>ä»£ç†æ¨¡å¼ï¼šåªèƒ½ä¼ è¾¾åŸæœ‰é€»è¾‘ï¼Œä¸èƒ½æ–°å¢ä¸šåŠ¡é€»è¾‘ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ISubject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">bool</span> <span class="title">GetSomething</span>(<span class="params"></span>)</span>;</span><br><span class="line">    <span class="function"><span class="built_in">bool</span> <span class="title">DoSomething</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RealSubject</span> : <span class="title">ISubject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">DoSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Passenger by train.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">GetSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Passengers buy tickets.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ProxySubject</span> : <span class="title">ISubject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> ISubject _subject = <span class="keyword">new</span> RealSubject();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">DoSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Before do something.&quot;</span>);</span><br><span class="line">        <span class="built_in">bool</span> result = _subject.DoSomething();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;After do something.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">GetSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Before get something.&quot;</span>);</span><br><span class="line">        <span class="built_in">bool</span> result = _subject.GetSomething();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;After get something.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        ISubject realSubject = <span class="keyword">new</span> RealSubject();</span><br><span class="line">        realSubject.GetSomething();</span><br><span class="line">        realSubject.DoSomething();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************************&quot;</span>);</span><br><span class="line">        ISubject proxySubject = <span class="keyword">new</span> ProxySubject();</span><br><span class="line">        proxySubject.GetSomething();</span><br><span class="line">        proxySubject.DoSomething();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><p>è§‚å¯Ÿè€…æ¨¡å¼(<code>Observer Pattern</code>)ï¼šå½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚æ¯”å¦‚ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨é€šçŸ¥å®ƒçš„ä¾èµ–å¯¹è±¡ã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</p>
<p>ä¸»è¦è§£å†³ä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜ç»™å…¶ä»–å¯¹è±¡é€šçŸ¥çš„é—®é¢˜ï¼Œè€Œä¸”è¦è€ƒè™‘åˆ°æ˜“ç”¨å’Œä½è€¦åˆï¼Œä¿è¯é«˜åº¦çš„åä½œã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…æ˜¯æŠ½è±¡è€¦åˆçš„ã€‚</li>
<li>å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šçš„ç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚</li>
<li>å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚ </li>
<li>è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
</ul>
<p>ä¸€åªç¥å¥‡çš„çŒ«</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ä¸€ç›´ç¥å¥‡çš„çŒ«ï¼ŒçŒ«å«ä¹‹åè§¦å‘ï¼š</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Baby cry</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Brother turn</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Dog woof</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Father roar</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Mother whisper</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Mouse run</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Neighbor awake</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Stealer hide</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Cat</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Meow</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> meow...&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Brother().Turn();</span><br><span class="line">        <span class="keyword">new</span> Dog().Woof();</span><br><span class="line">        <span class="keyword">new</span> Father().Roar();</span><br><span class="line">        <span class="keyword">new</span> Mother().Whisper();</span><br><span class="line">        <span class="keyword">new</span> Mouse().Run();</span><br><span class="line">        <span class="keyword">new</span> Neighbor().Awake();</span><br><span class="line">        <span class="keyword">new</span> Stealer().Hide();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action MeowHandler;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MeowEvent</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> meow...&quot;</span>);</span><br><span class="line">        MeowHandler?.Invoke();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">List</span>&lt;<span class="title">IObserver</span>&gt; _listObserver</span> = <span class="keyword">new</span> List&lt;IObserver&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">IObserver observer</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        _listObserver.Add(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">IObserver observer</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        _listObserver.Remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MeowObserver</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> meow...&quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> _listObserver)</span><br><span class="line">        &#123;</span><br><span class="line">            item.Action();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************æ™®é€šæ–¹æ³•************&quot;</span>);</span><br><span class="line">        Cat cat = <span class="keyword">new</span> Cat();</span><br><span class="line">        cat.Meow();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************ äº‹  ä»¶ ************&quot;</span>);</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Brother().Turn();</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Dog().Woof();</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Father().Roar();</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Mother().Whisper();</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Mouse().Run();</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Neighbor().Awake();</span><br><span class="line">        cat.MeowHandler += () =&gt; <span class="keyword">new</span> Stealer().Hide();</span><br><span class="line">        cat.MeowEvent();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;************è§‚ å¯Ÿ è€…************&quot;</span>);</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Brother());</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Dog());</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Father());</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Mother());</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Mouse());</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Neighbor());</span><br><span class="line">        cat.Add(<span class="keyword">new</span> Stealer());</span><br><span class="line">        cat.MeowObserver();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Baby</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Cry();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cry</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> cry...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Brother</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Turn();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Turn</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> turn...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Woof();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Woof</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> Woof...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Father</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Roar();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Roar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> roar...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mother</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Whisper();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Whisper</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> whisper...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mouse</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> Run...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Neighbor</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Awake();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> awake...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Stealer</span> : <span class="title">IObserver</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Hide();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Hide</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;GetType().Name&#125;</span> hide...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/23-design-patterns-and-common-design-patterns/" data-id="cklhsu1bt00c705rjaj3t17at" data-title="23ç§è®¾è®¡æ¨¡å¼ä¸å¸¸ç”¨è®¾è®¡æ¨¡å¼" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190407-six-principles-of-design-mode" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/six-principles-of-design-mode/" class="article-date">
  <time class="dt-published" datetime="2019-04-07T02:48:40.000Z" itemprop="datePublished">2019-04-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%9F%BA%E7%A1%80/">åŸºç¡€</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/six-principles-of-design-mode/">è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å•ä¸€èŒè´£åŸåˆ™"><a href="#å•ä¸€èŒè´£åŸåˆ™" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™"></a>å•ä¸€èŒè´£åŸåˆ™</h2><p>ï¼ˆ<code>Single Responsibility Principle</code> ç®€ç§° ï¼š<code>SRP</code>ï¼‰</p>
<p>å®šä¹‰ï¼šåº”è¯¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåŸå› å¼•èµ·ç±»çš„å˜æ›´ã€‚</p>
<p>æ¥å£çš„èŒè´£åœ¨è®¾è®¡æ—¶åº”è¯¥åšåˆ°å•ä¸€ï¼Œé™ä½ç±»çš„å¤æ‚æ€§ï¼Œå®ç°çš„èŒè´£éƒ½æœ‰æ˜ç¡®çš„å®šä¹‰ï¼Œæé«˜äº†å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ï¼›</p>
<p>å˜æ›´å¼•èµ·çš„é£é™©é™ä½ï¼Œå¦‚æœæ¥å£éš”ç¦»æ€§åšçš„å¥½ï¼Œä¸€ä¸ªæ¥å£çš„ä¿®æ”¹åªå¯¹ç›¸åº”å®ç°ç±»æœ‰å½±å“ï¼Œå¯¹å…¶å®ƒæ¥å£æ²¡æœ‰å½±å“ï¼Œé™ä½äº†è€¦åˆæ€§ã€‚</p>
<blockquote>
<p>å•ä¸€èŒè´£æå‡ºäº†ä¸€ä¸ªç¼–å†™ç¨‹åºçš„æ ‡å‡†ï¼Œç”¨â€œèŒè´£â€æˆ–â€œå˜åŒ–åŸå› â€æ¥è¡¡é‡æ¥å£æˆ–ç±»è®¾è®¡çš„æ˜¯å¦ä¼˜è‰¯ï¼Œä½†æ˜¯â€œèŒè´£â€æˆ–â€œå˜åŒ–åŸå› â€éƒ½æ˜¯ä¸å¯åº¦é‡çš„ï¼Œå› é¡¹ç›®è€Œå¼‚ï¼Œå› ç¯å¢ƒè€Œå¼‚ã€‚</p>
</blockquote>
<h2 id="é‡Œæ°æ›¿æ¢åŸåˆ™"><a href="#é‡Œæ°æ›¿æ¢åŸåˆ™" class="headerlink" title="é‡Œæ°æ›¿æ¢åŸåˆ™"></a>é‡Œæ°æ›¿æ¢åŸåˆ™</h2><p>ï¼ˆ<code>Liskov Substitution Principle</code> ç®€ç§°ï¼š<code>LSP</code>ï¼‰</p>
<p>å®šä¹‰ï¼šæ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ï¼Œåªè¦çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±èƒ½å‡ºç°ï¼Œè€Œä¸”æ›¿æ¢ä¸ºå­ç±»ä¹Ÿä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯æˆ–å¼‚å¸¸ã€‚</p>
<ul>
<li>å­ç±»å¿…é¡»å®Œå…¨å®ç°çˆ¶ç±»çš„æ–¹æ³•</li>
<li>å­ç±»å¯ä»¥æœ‰è‡ªå·±çš„ä¸ªæ€§</li>
<li>è¦†ç›–æˆ–å®ç°çˆ¶ç±»çš„æ–¹æ³•æ—¶è¾“å…¥å‚æ•°å¯ä»¥è¢«æ”¾å¤§</li>
<li>è¦†ç›–æˆ–å®ç°çˆ¶ç±»çš„æ–¹æ³•æ—¶è¾“å‡ºç»“æœå¯ä»¥è¢«ç¼©å°</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä»£ç å…±äº«ï¼Œå‡å°‘åˆ›å»ºç±»çš„å·¥ä½œé‡</li>
<li>æé«˜ä»£ç çš„é‡ç”¨æ€§</li>
<li>å­ç±»å¯ä»¥å½¢ä¼¼çˆ¶ç±»ï¼Œä½†åˆå¼‚äºçˆ¶ç±»</li>
<li>æé«˜ä»£ç çš„å¯æ‰©å±•æ€§</li>
<li>æé«˜äº§å“æˆ–é¡¹ç›®çš„å¼€æ”¾æ€§</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ç»§æ‰¿æ˜¯ä¾µå…¥æ€§çš„ï¼Œåªè¦ç»§æ‰¿å°±å¿…é¡»æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•</li>
<li>é™ä½ä»£ç çš„çµæ´»æ€§</li>
<li>å¢å¼ºäº†è€¦åˆæ€§ï¼Œçˆ¶ç±»çš„å¸¸é‡ã€å˜é‡ã€æ–¹æ³•è¢«ä¿®æ”¹æ—¶ï¼Œè¦è€ƒè™‘åˆ°å­ç±»çš„ä¿®æ”¹ï¼Œåœ¨ç¼ºä¹è§„èŒƒçš„ç¯å¢ƒä¸‹ï¼Œå¯èƒ½æœ‰è®¸å¤šä»£ç éœ€è¦é‡æ„ã€‚</li>
</ul>
<blockquote>
<p><code>LSP</code> åŸåˆ™æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“å­ç±»èƒ½å¤Ÿæ›¿æ¢æ‰çˆ¶ç±»ï¼Œè½¯ä»¶å•ä½åŠŸèƒ½ä¸å—å½±å“æ—¶ï¼Œçˆ¶ç±»æ‰èƒ½è¢«çœŸæ­£å¤ç”¨ã€‚<code>LSP</code> åŸåˆ™æ˜¯å¯¹å¼€é—­åŸåˆ™çš„è¡¥å……ï¼Œå®ç°å¼€é—­åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ï¼Œè€Œçˆ¶ç±»ä¸å­ç±»çš„ç»§æ‰¿å…³  ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚</p>
</blockquote>
<h2 id="ä¾èµ–å€’ç½®åŸåˆ™"><a href="#ä¾èµ–å€’ç½®åŸåˆ™" class="headerlink" title="ä¾èµ–å€’ç½®åŸåˆ™"></a>ä¾èµ–å€’ç½®åŸåˆ™</h2><p>ï¼ˆ<code>Dependence  Inversion Principle</code> ç®€ç§°ï¼š<code>DIP</code>ï¼‰</p>
<p>å®šä¹‰ï¼šæ˜¯â€œé¢å‘æ¥å£ç¼–ç¨‹â€ â€“é¢å‘å¯¹è±¡è®¾è®¡çš„ç²¾é«“ä¹‹ä¸€ï¼Œæ˜¯å…­ä¸ªåŸåˆ™ä¸­æœ€éš¾å®ç°çš„ä¸€ä¸ªåŸåˆ™ï¼Œæ˜¯å®ç°å¼€é—­åŸåˆ™çš„é‡è¦é€”å¾„ã€‚</p>
<ul>
<li>æ¨¡å—é—´çš„ä¾èµ–é€šè¿‡æŠ½è±¡å‘ç”Ÿï¼Œå®ç°ç±»ä¹‹é—´ä¸å‘ç”Ÿç›´æ¥çš„ä¾èµ–å…³ç³»ï¼Œå…¶ä¾èµ–æ˜¯é€šè¿‡æ¥å£å’ŒæŠ½è±¡ç±»å‘ç”Ÿçš„</li>
<li>æ¥å£æˆ–æŠ½è±¡ç±»ä¸ä¾èµ–äºå®ç°ç±»</li>
<li>å®ç°ç±»ä¾èµ–äºæ¥å£æˆ–æŠ½è±¡ç±»</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¯ä»¥å‡å°‘ç±»ä¹‹é—´çš„è€¦åˆæ€§ï¼Œæé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§</li>
<li>é™ä½å¹¶è¡Œå¼€å‘å¼•èµ·çš„é£é™©</li>
<li>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p>ä¾èµ–çš„ä¸‰ç§å†™æ³•ï¼š</p>
<ul>
<li>æ„é€ å‡½æ•°ä¼ é€’ä¾èµ–å¯¹è±¡</li>
<li>setteræ–¹æ³•ä¼ é€’ä¾èµ–å¯¹è±¡</li>
<li>æ¥å£å£°æ˜ä¾èµ–å¯¹è±¡</li>
</ul>
<p>æœ¬è´¨æ˜¯é€šè¿‡æŠ½è±¡ä½¿å„ä¸ªç±»æˆ–æ¨¡å—çš„å®ç°å½¼æ­¤ç‹¬ç«‹ï¼Œä¸äº’ç›¸å½±å“ï¼Œå®ç°æ¨¡å—é—´çš„æ¾è€¦åˆï¼Œåº”éµå¾ªçš„åŸåˆ™ï¼š</p>
<ul>
<li>æ¯ä¸ªç±»å°½é‡éƒ½æœ‰æ¥å£æˆ–æŠ½è±¡ç±»</li>
<li>å˜é‡çš„è¡¨é¢ç±»å‹å°½é‡æ˜¯æ¥å£æˆ–è€…æŠ½è±¡ç±»</li>
<li>ä»»ä½•ç±»éƒ½ä¸åº”ä»å…·ä½“ç±»ä¸­æ´¾ç”Ÿ</li>
<li>å°½é‡ä¸è¦å¤å†™åŸºç±»çš„æ–¹æ³•</li>
<li>ç»“åˆé‡Œæ°æ›¿æ¢åŸåˆ™ä½¿ç”¨</li>
</ul>
<p>ä¾èµ–å€’ç½®åŸåˆ™æ˜¯è®¾è®¡æ¨¡å¼ï¼›<br>æ§åˆ¶åè½¬(<code>IoC</code>:å°†ç»„ä»¶é—´çš„ä¾èµ–å…³ç³»ä»ç¨‹åºå†…éƒ¨æåˆ°å¤–éƒ¨æ¥ç®¡ç†)æ˜¯ç›®çš„ï¼›<br>ä¾èµ–æ³¨å…¥(<code>DI</code>:å°†ç»„ä»¶çš„ä¾èµ–é€šè¿‡å¤–éƒ¨ä»¥å‚æ•°æˆ–å…¶ä»–å½¢å¼æ³¨å…¥)æ˜¯å®ç°æ§åˆ¶åè½¬çš„æ–¹å¼ã€‚</p>
<h2 id="æ¥å£éš”ç¦»åŸåˆ™"><a href="#æ¥å£éš”ç¦»åŸåˆ™" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™"></a>æ¥å£éš”ç¦»åŸåˆ™</h2><p>ï¼ˆ<code>Interface Segregation Principle</code> ç®€ç§°ï¼š<code>ISP</code>ï¼‰</p>
<p>å®šä¹‰ï¼šå®¢æˆ·ç«¯ä¸åº”ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œç±»é—´çš„ä¾èµ–å…³ç³»åº”å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šï¼ˆé™ä½è€¦åˆåº¦ï¼‰</p>
<ul>
<li>æ¥å£å°½é‡å°ï¼ˆæ‹†åˆ†æ¥å£æ—¶ï¼Œé¦–å…ˆå¿…é¡»æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ï¼‰</li>
<li>æ¥å£è¦é«˜å†…èšï¼ˆå°½é‡å°‘å…¬å¸ƒ <code>public</code> æ–¹æ³•ï¼‰</li>
<li>å®šåˆ¶æœåŠ¡ï¼ˆæ¨¡å—é—´å¿…ç„¶ä¼šæœ‰è€¦åˆï¼Œæœ‰è€¦åˆå°±è¦æœ‰ç›¸äº’è®¿é—®çš„æ¥å£ï¼Œè®¾è®¡æ—¶åº”ä¸ºè®¿é—®è€…æä¾›å®šåˆ¶æœåŠ¡ï¼‰</li>
<li>æ¥å£çš„è®¾è®¡æ˜¯æœ‰é™åº¦çš„ï¼ˆæ¥å£çš„è®¾è®¡ç²’åº¦è¶Šå°ï¼Œæ¥å£è¶Šçµæ´»ï¼Œè¦æŠŠæ¡ä¸€ä¸ªåº¦ï¼‰</li>
</ul>
<p>å®è·µä¸­å¯æ ¹æ®ä»¥ä¸‹å‡ ä¸ªè§„åˆ™è¡¡é‡ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ¥å£åªæœåŠ¡äºä¸€ä¸ªå­æ¨¡å—æˆ–ä¸šåŠ¡é€»è¾‘</li>
<li>é€šè¿‡ä¸šåŠ¡é€»è¾‘å‹ç¼©æ¥å£ä¸­çš„publicæ–¹æ³•</li>
<li>å·²ç»è¢«æ±¡æŸ“çš„æ¥å£ï¼Œå°½é‡å»ä¿®æ”¹ï¼Œè‹¥å˜æ›´é£é™©è¾ƒå¤§ï¼Œåˆ™é‡‡ç”¨é€‚é…å™¨æ¨¡å¼è¿›è¡Œè½¬åŒ–å¤„ç†</li>
<li>äº†è§£ç¯å¢ƒï¼Œæ‹’ç»ç›²ä»ï¼Œç¯å¢ƒä¸åŒï¼Œæ¥å£æ‹†åˆ†çš„æ ‡å‡†å°±ä¸åŒï¼Œåº”æ·±å…¥äº†è§£ä¸šåŠ¡é€»è¾‘ï¼Œè®¾è®¡å‡ºçµæ´»çš„æ¥å£</li>
</ul>
<h2 id="è¿ªç±³ç‰¹æ³•åˆ™"><a href="#è¿ªç±³ç‰¹æ³•åˆ™" class="headerlink" title="è¿ªç±³ç‰¹æ³•åˆ™"></a>è¿ªç±³ç‰¹æ³•åˆ™</h2><p>ï¼ˆ<code>Law of Demeter</code> ç®€ç§°ï¼š<code>LoD</code>ï¼‰åˆç§°æœ€å°‘çŸ¥è¯†åŸåˆ™</p>
<p>å®šä¹‰ï¼šä¸€ä¸ªç±»åº”è¯¥å¯¹è‡ªå·±éœ€è¦è€¦åˆæˆ–è°ƒç”¨çš„ç±»çŸ¥é“çš„æœ€å°‘</p>
<ul>
<li>åªå’Œç›´æ¥çš„æœ‹å‹äº¤æµ</li>
<li>æœ‹å‹ä¹‹é—´ä¹Ÿæ˜¯æœ‰è·ç¦»çš„</li>
<li>æ˜¯è‡ªå·±çš„å°±æ˜¯è‡ªå·±çš„ï¼ˆå¦‚æœä¸€ä¸ªæ–¹æ³•æ”¾åœ¨æœ¬ç±»ä¸­ï¼Œæ—¢ä¸å¢åŠ ç±»é—´çš„å…³ç³»ï¼Œä¹Ÿå¯¹æœ¬ç±»ä¸äº§ç”Ÿè´Ÿé¢å½±å“ï¼Œé‚£å°±æ”¾åœ¨æœ¬ç±»ä¸­ï¼‰</li>
<li>è°¨æ…ä½¿ç”¨ <code>Serializable</code> (è¿œç¨‹è°ƒç”¨ä¼ ä¸ªvoï¼Œå¿…é¡»å®ç° <code>Serializable</code> æ¥å£ï¼Œå¦‚æœæœ‰ä¸€å¤©ä¿®æ”¹äº†è®¿é—®æƒé™ï¼Œæƒé™æ‰©å¤§äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸Šæ²¡æœ‰åšç›¸åº”çš„å˜æ›´ï¼Œå°±ä¼šæŠ¥åºåˆ—åŒ–å¤±è´¥)</li>
</ul>
<h2 id="å¼€é—­åŸåˆ™"><a href="#å¼€é—­åŸåˆ™" class="headerlink" title="å¼€é—­åŸåˆ™"></a>å¼€é—­åŸåˆ™</h2><p>ï¼ˆOpen-Closed Principle ç®€ç§°ï¼šOCPï¼‰</p>
<p>å®šä¹‰ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼Œåœ¨ç¨‹åºéœ€è¦æ‰©å±•çš„æ—¶å€™ï¼Œä¸èƒ½ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°çƒ­æ’æ‹”çš„æ•ˆæœã€‚ä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ï¼Œéœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ã€‚  </p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>é€šè¿‡å¯¹æ¥å£æˆ–è€…æŠ½è±¡ç±»çº¦æŸæ‰©å±•ï¼Œå¯¹æ‰©å±•è¿›è¡Œè¾¹ç•Œé™å®šï¼Œä¸å…è®¸å‡ºç°åœ¨æ¥å£æˆ–æŠ½è±¡ç±»ä¸­ä¸å­˜åœ¨çš„publicæ–¹æ³•</li>
<li>å‚æ•°ç±»å‹ã€å¼•ç”¨å¯¹è±¡å°½é‡ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œè€Œä¸æ˜¯å®ç°ç±»</li>
<li>æŠ½è±¡å±‚å°½é‡ä¿æŒç¨³å®šï¼Œä¸€æ—¦ç¡®å®šä¸å…è®¸ä¿®æ”¹</li>
</ul>
<p>å¦‚ä½•ä½¿ç”¨ï¼š</p>
<ul>
<li>æŠ½è±¡çº¦æŸï¼ˆå®ç°å¯¹æ‰©å±•å¼€æ”¾çš„é¦–è¦å‰æï¼Œå¯¹æ‰©å±•è¿›è¡Œè¾¹ç•Œé™å®šï¼‰</li>
<li>å…ƒæ•°æ®æ§åˆ¶æ¨¡å—è¡Œä¸º</li>
<li>åˆ¶å®šé¡¹ç›®ç« ç¨‹ï¼ˆå¯¹é¡¹ç›®æ¥è¯´ï¼Œè§„å®šä¼˜äºé…ç½®ï¼‰</li>
<li>å°è£…å˜åŒ–<ul>
<li>å°†ç›¸åŒçš„å˜åŒ–å°è£…åˆ°ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»ä¸­ï¼›</li>
<li>å°†ä¸åŒçš„å˜åŒ–å°è£…åˆ°ä¸åŒçš„æ¥å£æˆ–æŠ½è±¡ç±»ä¸­ï¼›</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/six-principles-of-design-mode/" data-id="cklhsu179001f05rj2gro57mp" data-title="è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190406-aop" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/aop/" class="article-date">
  <time class="dt-published" datetime="2019-04-06T05:36:00.000Z" itemprop="datePublished">2019-04-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%9F%BA%E7%A1%80/">åŸºç¡€</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/aop/">AOP é¢å‘åˆ‡é¢ç¼–ç¨‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="AOP-é¢å‘åˆ‡é¢ç¼–ç¨‹"><a href="#AOP-é¢å‘åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="AOP é¢å‘åˆ‡é¢ç¼–ç¨‹"></a><code>AOP</code> é¢å‘åˆ‡é¢ç¼–ç¨‹</h2><h3 id="ä¸-OOP-é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å…³ç³»"><a href="#ä¸-OOP-é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å…³ç³»" class="headerlink" title="ä¸ OOP é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å…³ç³»"></a>ä¸ <code>OOP</code> é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å…³ç³»</h3><p><code>AOP</code>ï¼ˆ<code>Aspect-Oriented Programming</code>ï¼Œé¢å‘æ–¹é¢ç¼–ç¨‹ï¼‰ï¼Œå¯ä»¥è¯´æ˜¯ <code>OOPï¼ˆObject-Oriented Programing</code> ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰çš„è¡¥å……å’Œå®Œå–„ã€‚  </p>
<p><code>OOP</code> å¼•å…¥å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ€§ç­‰æ¦‚å¿µæ¥å»ºç«‹ä¸€ç§å¯¹è±¡å±‚æ¬¡ç»“æ„ï¼Œç”¨ä»¥æ¨¡æ‹Ÿå…¬å…±è¡Œä¸ºçš„ä¸€ä¸ªé›†åˆã€‚å½“æˆ‘ä»¬éœ€è¦ä¸ºåˆ†æ•£çš„å¯¹è±¡å¼•å…¥å…¬å…±è¡Œä¸ºçš„æ—¶å€™ï¼Œ<code>OOP</code> åˆ™æ˜¾å¾—æ— èƒ½ä¸ºåŠ›ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ <code>OOP</code> å…è®¸ä½ å®šä¹‰ä»ä¸Šåˆ°ä¸‹çš„å…³ç³»ï¼Œä½†å¹¶ä¸é€‚åˆå®šä¹‰ä»å·¦åˆ°å³çš„å…³ç³»ã€‚ä¾‹å¦‚æ—¥å¿—åŠŸèƒ½ã€‚æ—¥å¿—ä»£ç å¾€å¾€æ°´å¹³åœ°æ•£å¸ƒåœ¨æ‰€æœ‰å¯¹è±¡å±‚æ¬¡ä¸­ï¼Œè€Œä¸å®ƒæ‰€æ•£å¸ƒåˆ°çš„å¯¹è±¡çš„æ ¸å¿ƒåŠŸèƒ½æ¯«æ— å…³ç³»ã€‚å¯¹äºå…¶ä»–ç±»å‹çš„ä»£ç ï¼Œå¦‚å®‰å…¨æ€§ã€å¼‚å¸¸å¤„ç†å’Œé€æ˜çš„æŒç»­æ€§ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è¿™ç§æ•£å¸ƒåœ¨å„å¤„çš„æ— å…³çš„ä»£ç è¢«ç§°ä¸ºæ¨ªåˆ‡ï¼ˆ<code>cross-cutting</code>ï¼‰ä»£ç ï¼Œåœ¨ <code>OOP</code> è®¾è®¡ä¸­ï¼Œå®ƒå¯¼è‡´äº†å¤§é‡ä»£ç çš„é‡å¤ï¼Œè€Œä¸åˆ©äºå„ä¸ªæ¨¡å—çš„é‡ç”¨ã€‚  </p>
<p>è€Œ <code>AOP</code> æŠ€æœ¯åˆ™æ°æ°ç›¸åï¼Œå®ƒåˆ©ç”¨ä¸€ç§ç§°ä¸ºâ€œæ¨ªåˆ‡â€çš„æŠ€æœ¯ï¼Œå‰–è§£å¼€å°è£…çš„å¯¹è±¡å†…éƒ¨ï¼Œå¹¶å°†é‚£äº›å½±å“äº†å¤šä¸ªç±»çš„å…¬å…±è¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå¯é‡ç”¨æ¨¡å—ï¼Œå¹¶å°†å…¶åä¸ºâ€œ<code>Aspect</code>â€ï¼Œå³æ–¹é¢ã€‚  </p>
<p>æ‰€è°“â€œæ–¹é¢â€ï¼Œç®€å•åœ°è¯´ï¼Œå°±æ˜¯å°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ“ä½œæ€§å’Œå¯ç»´æŠ¤æ€§ã€‚<code>AOP</code> ä»£è¡¨çš„æ˜¯ä¸€ä¸ªæ¨ªå‘çš„å…³ç³»ï¼Œå¦‚æœè¯´â€œå¯¹è±¡â€æ˜¯ä¸€ä¸ªç©ºå¿ƒçš„åœ†æŸ±ä½“ï¼Œå…¶ä¸­å°è£…çš„æ˜¯å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºï¼›é‚£ä¹ˆé¢å‘æ–¹é¢ç¼–ç¨‹çš„æ–¹æ³•ï¼Œå°±ä»¿ä½›ä¸€æŠŠåˆ©åˆƒï¼Œå°†è¿™äº›ç©ºå¿ƒåœ†æŸ±ä½“å‰–å¼€ï¼Œä»¥è·å¾—å…¶å†…éƒ¨çš„æ¶ˆæ¯ã€‚è€Œå‰–å¼€çš„åˆ‡é¢ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œæ–¹é¢â€äº†ã€‚ç„¶åå®ƒåˆä»¥å·§å¤ºå¤©åŠŸçš„å¦™æ‰‹å°†è¿™äº›å‰–å¼€çš„åˆ‡é¢å¤åŸï¼Œä¸ç•™ç—•è¿¹ã€‚  </p>
<p>ä½¿ç”¨â€œæ¨ªåˆ‡â€æŠ€æœ¯ï¼Œ<code>AOP</code> æŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ¸å¿ƒå…³æ³¨ç‚¹å’Œæ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚ä¸šåŠ¡å¤„ç†çš„ä¸»è¦æµç¨‹æ˜¯æ ¸å¿ƒå…³æ³¨ç‚¹ï¼Œä¸ä¹‹å…³ç³»ä¸å¤§çš„éƒ¨åˆ†æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚æ¨ªåˆ‡å…³æ³¨ç‚¹çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œä»–ä»¬ç»å¸¸å‘ç”Ÿåœ¨æ ¸å¿ƒå…³æ³¨ç‚¹çš„å¤šå¤„ï¼Œè€Œå„å¤„éƒ½åŸºæœ¬ç›¸ä¼¼ã€‚æ¯”å¦‚æƒé™è®¤è¯ã€æ—¥å¿—ã€äº‹åŠ¡å¤„ç†ã€‚<code>Aop</code> çš„ä½œç”¨åœ¨äºåˆ†ç¦»ç³»ç»Ÿä¸­çš„å„ç§å…³æ³¨ç‚¹ï¼Œå°†æ ¸å¿ƒå…³æ³¨ç‚¹å’Œæ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»å¼€æ¥ã€‚æ­£å¦‚ <code>Avanade</code> å…¬å¸çš„é«˜çº§æ–¹æ¡ˆæ„æ¶å¸ˆ <code>Adam Magee</code> æ‰€è¯´ï¼Œ<code>AOP</code> çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯â€œå°†åº”ç”¨ç¨‹åºä¸­çš„å•†ä¸šé€»è¾‘åŒå¯¹å…¶æä¾›æ”¯æŒçš„é€šç”¨æœåŠ¡è¿›è¡Œåˆ†ç¦»ã€‚â€</p>
<h2 id="AOP-æŠ€æœ¯çš„å®ç°"><a href="#AOP-æŠ€æœ¯çš„å®ç°" class="headerlink" title="AOP æŠ€æœ¯çš„å®ç°"></a><code>AOP</code> æŠ€æœ¯çš„å®ç°</h2><p>ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸€æ˜¯é‡‡ç”¨åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œåˆ©ç”¨æˆªå–æ¶ˆæ¯çš„æ–¹å¼ï¼Œå¯¹è¯¥æ¶ˆæ¯è¿›è¡Œè£…é¥°ï¼Œä»¥å–ä»£åŸæœ‰å¯¹è±¡è¡Œä¸ºçš„æ‰§è¡Œï¼›äºŒæ˜¯é‡‡ç”¨é™æ€ç»‡å…¥çš„æ–¹å¼ï¼Œå¼•å…¥ç‰¹å®šçš„è¯­æ³•åˆ›å»ºâ€œæ–¹é¢â€ï¼Œä»è€Œä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´ç»‡å…¥æœ‰å…³â€œæ–¹é¢â€çš„ä»£ç ã€‚ç„¶è€Œæ®Šé€”åŒå½’ï¼Œå®ç° <code>AOP</code> çš„æŠ€æœ¯ç‰¹æ€§å´æ˜¯ç›¸åŒçš„ã€‚</p>
<h3 id="è£…é¥°å™¨æ¨¡å¼å®ç°é™æ€ä»£ç†"><a href="#è£…é¥°å™¨æ¨¡å¼å®ç°é™æ€ä»£ç†" class="headerlink" title="è£…é¥°å™¨æ¨¡å¼å®ç°é™æ€ä»£ç†"></a>è£…é¥°å™¨æ¨¡å¼å®ç°é™æ€ä»£ç†</h3><p><code>AOP</code> åœ¨æ–¹æ³•çš„å‰åå¢åŠ è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚è¯¦è§ï¼š<code>Decorator.Show()</code> æ–¹æ³•ï¼Œé™æ€è£…é¥°å™¨å®ç°ï¼Œå¹¶ä¸æ¨èã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Decorator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User() &#123; Name = <span class="string">&quot;John&quot;</span>, Password = <span class="string">&quot;12345678&quot;</span> &#125;;</span><br><span class="line">        IUserProcessor processor = <span class="keyword">new</span> UserProcessor();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨æ™®é€šæ–¹æ³•å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        processor = <span class="keyword">new</span> UserProcessorDecorator(processor);</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Password &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserProcessor</span> : <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æˆåŠŸæ³¨å†Œç”¨æˆ·ï¼š<span class="subst">&#123;user.Name&#125;</span> å¯†ç ï¼š<span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è£…é¥°å™¨æ¨¡å¼å»æä¾›ä¸€ä¸ªAOPåŠŸèƒ½</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserProcessorDecorator</span> : <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> IUserProcessor UserProcessor &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UserProcessorDecorator</span>(<span class="params">IUserProcessor processor</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            UserProcessor = processor;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            PreProceed(user);</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">this</span>.UserProcessor.RegistUser(user);</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            PostProced(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PreProceed</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æ³¨å†Œç”¨æˆ·ï¼š<span class="subst">&#123;user.Name&#125;</span> å¯†ç ï¼š<span class="subst">&#123;user.Password&#125;</span> ä¹‹å‰&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PostProced</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æ³¨å†Œç”¨æˆ·ï¼š<span class="subst">&#123;user.Name&#125;</span> å¯†ç ï¼š<span class="subst">&#123;user.Password&#125;</span> ä¹‹å&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨-Net-Remoting-RealProxy-å®ç°åŠ¨æ€ä»£ç†"><a href="#ä½¿ç”¨-Net-Remoting-RealProxy-å®ç°åŠ¨æ€ä»£ç†" class="headerlink" title="ä½¿ç”¨ .Net Remoting/RealProxy å®ç°åŠ¨æ€ä»£ç†"></a>ä½¿ç”¨ <code>.Net Remoting/RealProxy</code> å®ç°åŠ¨æ€ä»£ç†</h3><p>è¯¦è§ <code>Proxy.Show()</code> æ–¹æ³•ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Proxy</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User() &#123; Name = <span class="string">&quot;John&quot;</span>, Password = <span class="string">&quot;12345678&quot;</span> &#125;;</span><br><span class="line">        IUserProcessor processor = <span class="keyword">new</span> UserProcessor();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨æ™®é€šæ–¹æ³•å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨åŠ¨æ€ä»£ç†å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        UserProcessor userProcessor = TransparentProxy.Create&lt;UserProcessor&gt;();</span><br><span class="line">        userProcessor.RegistUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Password &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserProcessor</span> : <span class="title">MarshalByRefObject</span>, <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æˆåŠŸæ³¨å†Œç”¨æˆ·ï¼š<span class="subst">&#123;user.Name&#125;</span> å¯†ç ï¼š<span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyRealProxy</span>&lt;<span class="title">T</span>&gt; : <span class="title">RealProxy</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> T tTarget;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyRealProxy</span>(<span class="params">T target</span>) : <span class="title">base</span>(<span class="params"><span class="keyword">typeof</span>(T</span>))</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">this</span>.tTarget = target;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> IMessage <span class="title">Invoke</span>(<span class="params">IMessage msg</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            PreProceed(msg);</span><br><span class="line">            IMethodCallMessage callMessage = (IMethodCallMessage)msg;</span><br><span class="line">            <span class="built_in">object</span> returnValue = callMessage.MethodBase.Invoke(<span class="keyword">this</span>.tTarget, callMessage.Args);</span><br><span class="line">            PostProced(msg);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ReturnMessage(returnValue, <span class="keyword">new</span> <span class="built_in">object</span>[<span class="number">0</span>], <span class="number">0</span>, <span class="literal">null</span>, callMessage);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PreProceed</span>(<span class="params">IMessage msg</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            IMethodCallMessage callMessage = (IMethodCallMessage)msg;</span><br><span class="line">            StringBuilder sbInfo = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">if</span> (callMessage.Args.Length &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                PropertyInfo[] props = callMessage.Args[<span class="number">0</span>].GetType().GetProperties();</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; props.Length; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbInfo.Append(<span class="string">$&quot;<span class="subst">&#123;props[i].Name&#125;</span>:<span class="subst">&#123;props[i].GetValue(callMessage.Args[<span class="number">0</span>], <span class="literal">null</span>)&#125;</span> &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æ–¹æ³•æ‰§è¡Œå‰ï¼š<span class="subst">&#123;sbInfo.ToString().TrimEnd()&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PostProced</span>(<span class="params">IMessage msg</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            IMethodCallMessage callMessage = (IMethodCallMessage)msg;</span><br><span class="line">            StringBuilder sbInfo = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">if</span> (callMessage.Args.Length &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                PropertyInfo[] props = callMessage.Args[<span class="number">0</span>].GetType().GetProperties();</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; props.Length; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbInfo.Append(<span class="string">$&quot;<span class="subst">&#123;props[i].Name&#125;</span>:<span class="subst">&#123;props[i].GetValue(callMessage.Args[<span class="number">0</span>], <span class="literal">null</span>)&#125;</span> &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æ–¹æ³•æ‰§è¡Œåï¼š<span class="subst">&#123;sbInfo.ToString().TrimEnd()&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> TransparentProxy</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">TransparentProxy</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Create</span>&lt;<span class="title">T</span>&gt;(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            T instance = Activator.CreateInstance&lt;T&gt;();</span><br><span class="line">            MyRealProxy&lt;T&gt; proxy = <span class="keyword">new</span> MyRealProxy&lt;T&gt;(instance);</span><br><span class="line">            T transparentProxy = (T)proxy.GetTransparentProxy();</span><br><span class="line">            <span class="keyword">return</span> transparentProxy;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨-Castle-DynamicProxy-å®ç°åŠ¨æ€ä»£ç†"><a href="#ä½¿ç”¨-Castle-DynamicProxy-å®ç°åŠ¨æ€ä»£ç†" class="headerlink" title="ä½¿ç”¨ Castle/DynamicProxy å®ç°åŠ¨æ€ä»£ç†"></a>ä½¿ç”¨ <code>Castle/DynamicProxy</code> å®ç°åŠ¨æ€ä»£ç†</h3><p>è¯¦è§ <code>CastleProxy.Show()</code> æ–¹æ³•ã€‚ï¼ˆ<code>nuget</code> å®‰è£… <code>Castle.DynamicProxy</code> æˆ– <code>Castle.Core</code>ï¼‰</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CastleProxy</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User() &#123; Name = <span class="string">&quot;John&quot;</span>, Password = <span class="string">&quot;12345678&quot;</span> &#125;;</span><br><span class="line">        IUserProcessor processor = <span class="keyword">new</span> UserProcessor();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨æ™®é€šæ–¹æ³•å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨åŠ¨æ€ä»£ç†å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        ProxyGenerator generator = <span class="keyword">new</span> ProxyGenerator();</span><br><span class="line">        MyInterceptor interceptor = <span class="keyword">new</span> MyInterceptor();</span><br><span class="line">        processor = generator.CreateClassProxy&lt;UserProcessor&gt;(interceptor);</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Password &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserProcessor</span> : <span class="title">MarshalByRefObject</span>, <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å¿…é¡»æ˜¯è™šæ–¹æ³•</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;user&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æˆåŠŸæ³¨å†Œç”¨æˆ·ï¼š<span class="subst">&#123;user.Name&#125;</span> å¯†ç ï¼š<span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyInterceptor</span> : <span class="title">IInterceptor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Intercept</span>(<span class="params">IInvocation invocation</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            PreProceed(invocation);</span><br><span class="line">            invocation.Proceed();</span><br><span class="line">            PostProced(invocation);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PreProceed</span>(<span class="params">IInvocation invocation</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            StringBuilder sbInfo = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">if</span> (invocation.Arguments.Length &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                PropertyInfo[] props = invocation.Arguments[<span class="number">0</span>].GetType().GetProperties();</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; props.Length; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbInfo.Append(<span class="string">$&quot;<span class="subst">&#123;props[i].Name&#125;</span>:<span class="subst">&#123;props[i].GetValue(invocation.Arguments[<span class="number">0</span>], <span class="literal">null</span>)&#125;</span> &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æ–¹æ³•æ‰§è¡Œå‰ï¼š<span class="subst">&#123;sbInfo.ToString().TrimEnd()&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PostProced</span>(<span class="params">IInvocation invocation</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            StringBuilder sbInfo = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">if</span> (invocation.Arguments.Length &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                PropertyInfo[] props = invocation.Arguments[<span class="number">0</span>].GetType().GetProperties();</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; props.Length; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbInfo.Append(<span class="string">$&quot;<span class="subst">&#123;props[i].Name&#125;</span>:<span class="subst">&#123;props[i].GetValue(invocation.Arguments[<span class="number">0</span>], <span class="literal">null</span>)&#125;</span> &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æ–¹æ³•æ‰§è¡Œåï¼š<span class="subst">&#123;sbInfo.ToString().TrimEnd()&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨-EntLib-PIBA-Unity-å®ç°åŠ¨æ€ä»£ç†"><a href="#ä½¿ç”¨-EntLib-PIBA-Unity-å®ç°åŠ¨æ€ä»£ç†" class="headerlink" title="ä½¿ç”¨ EntLib/PIBA Unity å®ç°åŠ¨æ€ä»£ç†"></a>ä½¿ç”¨ <code>EntLib/PIBA Unity</code> å®ç°åŠ¨æ€ä»£ç†</h3><p>è¯¦è§ <code>UnityAOP.Show()</code> æ–¹æ³•ã€‚ï¼ˆ<code>nuget</code> å®‰è£…<code>Unity 4.0.1</code> ä¸ <code>Unity.Interception</code>ï¼‰</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UnityAOP</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User() &#123; Name = <span class="string">&quot;John&quot;</span>, Password = <span class="string">&quot;12345678&quot;</span> &#125;;</span><br><span class="line">        IUserProcessor processor = <span class="keyword">new</span> UserProcessor();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨æ™®é€šæ–¹æ³•å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;******ä½¿ç”¨åŠ¨æ€ä»£ç†å®Œæˆæ³¨å†Œ******&quot;</span>);</span><br><span class="line">        IUnityContainer container = <span class="keyword">new</span> UnityContainer();<span class="comment">//å£°æ˜ä¸€ä¸ªå®¹å™¨</span></span><br><span class="line">        container.RegisterType&lt;IUserProcessor, UserProcessor&gt;();<span class="comment">//å£°æ˜UnityContainer</span></span><br><span class="line">        processor = container.Resolve&lt;IUserProcessor&gt;();</span><br><span class="line">        processor.RegistUser(user);<span class="comment">//è°ƒç”¨</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//AOP</span></span><br><span class="line">        container.AddNewExtension&lt;Interception&gt;().Configure&lt;Interception&gt;().SetInterceptorFor&lt;IUserProcessor&gt;(<span class="keyword">new</span> InterfaceInterceptor());</span><br><span class="line">        processor = container.Resolve&lt;IUserProcessor&gt;();</span><br><span class="line">        processor.RegistUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> ç‰¹æ€§</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserHanlerAttribute</span> : <span class="title">HandlerAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> ICallHandler <span class="title">CreateHandler</span>(<span class="params">IUnityContainer container</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            ICallHandler handler = <span class="keyword">new</span> UserHandler() &#123; Order = <span class="keyword">this</span>.Order &#125;;</span><br><span class="line">            <span class="keyword">return</span> handler;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LogHandlerAttribute</span> : <span class="title">HandlerAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> ICallHandler <span class="title">CreateHandler</span>(<span class="params">IUnityContainer container</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            ICallHandler handler = <span class="keyword">new</span> LogHandler() &#123; Order = <span class="keyword">this</span>.Order &#125;;</span><br><span class="line">            <span class="keyword">return</span> handler;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ExceptionHandlerAttribute</span> : <span class="title">HandlerAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> ICallHandler <span class="title">CreateHandler</span>(<span class="params">IUnityContainer container</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            ICallHandler handler = <span class="keyword">new</span> ExceptionHandler() &#123; Order = <span class="keyword">this</span>.Order &#125;;</span><br><span class="line">            <span class="keyword">return</span> handler;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AfterLogHandlerAttributeAttribute</span> : <span class="title">HandlerAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> ICallHandler <span class="title">CreateHandler</span>(<span class="params">IUnityContainer container</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            ICallHandler handler = <span class="keyword">new</span> AfterLogHandler() &#123; Order = <span class="keyword">this</span>.Order &#125;;</span><br><span class="line">            <span class="keyword">return</span> handler;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">region</span> ç‰¹æ€§å¯¹åº”çš„è¡Œä¸º</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserHandler</span> : <span class="title">ICallHandler</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Order &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> IMethodReturn <span class="title">Invoke</span>(<span class="params">IMethodInvocation input, GetNextHandlerDelegate getNext</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;this is the user handler.&quot;</span>);</span><br><span class="line">            User user = input.Arguments[<span class="number">0</span>] <span class="keyword">as</span> User;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;regist user Name: <span class="subst">&#123;user.Name&#125;</span> Password: <span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrWhiteSpace(user.Name))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;user name can&#x27;t be null, empty or white space.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrWhiteSpace(user.Password) || user.Password.Length &lt; <span class="number">8</span> || user.Password.Length &gt; <span class="number">32</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;user password can&#x27;t be null, empty or white space, and the password&#x27;s length must between 8-32.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//return getNext.Invoke().Invoke(input, getNext);</span></span><br><span class="line">            <span class="keyword">return</span> getNext()(input, getNext);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LogHandler</span> : <span class="title">ICallHandler</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Order &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> IMethodReturn <span class="title">Invoke</span>(<span class="params">IMethodInvocation input, GetNextHandlerDelegate getNext</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;this is the log handler.&quot;</span>);</span><br><span class="line">            User user = input.Arguments[<span class="number">0</span>] <span class="keyword">as</span> User;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Name: <span class="subst">&#123;user.Name&#125;</span> Password: <span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> getNext()(input, getNext);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ExceptionHandler</span> : <span class="title">ICallHandler</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Order &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> IMethodReturn <span class="title">Invoke</span>(<span class="params">IMethodInvocation input, GetNextHandlerDelegate getNext</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            IMethodReturn methodReturn = getNext()(input, getNext);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;this is the exception handler.&quot;</span>);</span><br><span class="line">            User user = input.Arguments[<span class="number">0</span>] <span class="keyword">as</span> User;</span><br><span class="line">            <span class="keyword">if</span> (methodReturn.Exception == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;end regist user. Name: <span class="subst">&#123;user.Name&#125;</span> Password: <span class="subst">&#123;user.Password&#125;</span> don&#x27;t have exception.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;end regist user. Name: <span class="subst">&#123;user.Name&#125;</span> Password: <span class="subst">&#123;user.Password&#125;</span> have a exception: <span class="subst">&#123;methodReturn.Exception.Message&#125;</span>&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> methodReturn;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AfterLogHandler</span> : <span class="title">ICallHandler</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Order &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> IMethodReturn <span class="title">Invoke</span>(<span class="params">IMethodInvocation input, GetNextHandlerDelegate getNext</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;this is the end log handler.&quot;</span>);</span><br><span class="line">            User user = input.Arguments[<span class="number">0</span>] <span class="keyword">as</span> User;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;end regist user. Name: <span class="subst">&#123;user.Name&#125;</span> Password: <span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> getNext()(input, getNext);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Password &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">UserHanler(Order = 1), ExceptionHandler(Order = 3), LogHandler(Order = 2), AfterLogHandlerAttribute(Order = 5)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">GetUser</span>(<span class="params">User user</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserProcessor</span> : <span class="title">IUserProcessor</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GetUser</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RegistUser</span>(<span class="params">User user</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æˆåŠŸæ³¨å†Œç”¨æˆ·ï¼š<span class="subst">&#123;user.Name&#125;</span> å¯†ç ï¼š<span class="subst">&#123;user.Password&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * TransparentProxyInterceptorï¼šç›´æ¥åœ¨ç±»çš„æ–¹æ³•ä¸Šè¿›è¡Œæ ‡è®°ï¼Œä½†æ˜¯è¿™ä¸ªç±»å¿…é¡»ç»§æ‰¿MarshalByRefObjectï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment">     * VirtualMethodï¼šç›´æ¥åœ¨ç±»çš„æ–¹æ³•ä¸Šè¿›è¡Œæ ‡è®°ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•å¿…é¡»æ˜¯è™šæ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">     * InterfaceInterceptorï¼šåœ¨æ¥å£çš„æ–¹æ³•ä¸Šè¿›è¡Œæ ‡è®°ï¼Œè¿™æ ·ç»§æ‰¿è¿™ä¸ªæ¥å£çš„ç±»é‡Œå®ç°è¿™ä¸ªæ¥å£æ–¹æ³•çš„æ–¹æ³•å°±èƒ½è¢«æ‹¦æˆªã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä»¥ä¸Šå››ç§æ–¹å¼ï¼Œå‰ä¸‰ç§ç†è§£ï¼Œç¬¬å››ç§éœ€è¦æŒæ¡ã€‚</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/aop/" data-id="cklhsu1bs00c305rj183jbzkl" data-title="AOP é¢å‘åˆ‡é¢ç¼–ç¨‹" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190406-attribute" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/attribute/" class="article-date">
  <time class="dt-published" datetime="2019-04-06T05:24:00.000Z" itemprop="datePublished">2019-04-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/attribute/">Attributeç‰¹æ€§ç®€ä»‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Attribute-ç‰¹æ€§"><a href="#Attribute-ç‰¹æ€§" class="headerlink" title="Attribute ç‰¹æ€§"></a>Attribute ç‰¹æ€§</h2><h3 id="ç‰¹æ€§ç®€ä»‹"><a href="#ç‰¹æ€§ç®€ä»‹" class="headerlink" title="ç‰¹æ€§ç®€ä»‹"></a>ç‰¹æ€§ç®€ä»‹</h3><p>ç‰¹æ€§ï¼ˆ<code>Attribute</code>ï¼‰æ˜¯ç”¨äºåœ¨è¿è¡Œæ—¶ä¼ é€’ç¨‹åºä¸­å„ç§å…ƒç´ ï¼ˆæ¯”å¦‚ç±»ã€æ–¹æ³•ã€ç»“æ„ã€æšä¸¾ã€ç»„ä»¶ç­‰ï¼‰çš„è¡Œä¸ºä¿¡æ¯çš„å£°æ˜æ€§æ ‡ç­¾ã€‚æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ç‰¹æ€§å‘ç¨‹åºæ·»åŠ å£°æ˜æ€§ä¿¡æ¯ã€‚ä¸€ä¸ªå£°æ˜æ€§æ ‡ç­¾æ˜¯é€šè¿‡æ”¾ç½®åœ¨å®ƒæ‰€åº”ç”¨çš„å…ƒç´ å‰é¢çš„æ–¹æ‹¬å·ï¼ˆ<code>[ ]</code>ï¼‰æ¥æè¿°çš„ã€‚  </p>
<p> ç‰¹æ€§ï¼ˆ<code>Attribute</code>ï¼‰ç”¨äºæ·»åŠ å…ƒæ•°æ®ï¼Œå¦‚ç¼–è¯‘å™¨æŒ‡ä»¤å’Œæ³¨é‡Šã€æè¿°ã€æ–¹æ³•ã€ç±»ç­‰å…¶ä»–ä¿¡æ¯ã€‚<code>.Net</code> æ¡†æ¶æä¾›äº†ä¸¤ç§ç±»å‹çš„ç‰¹æ€§ï¼šé¢„å®šä¹‰ç‰¹æ€§å’Œè‡ªå®šä¹‰ç‰¹æ€§ã€‚  </p>
<p><strong>ä¸æ³¨é‡Šçš„åŒºåˆ«ï¼š</strong> æ³¨é‡Šä»…åœ¨ <code>IDE</code> ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œç‰¹æ€§å¯ä»¥å½±å“ç¼–è¯‘å™¨æˆ–ç¨‹åºè¿è¡Œï¼Œå¯ä»¥åœ¨ä¸ç ´åç±»å‹å°è£…çš„å‰æä¸‹ï¼Œä¸ºå¯¹è±¡å¢åŠ é¢å¤–çš„ä¿¡æ¯ï¼Œæ‰§è¡Œé¢å¤–çš„è¡Œä¸ºã€‚</p>
<h3 id="ç‰¹æ€§è¯­æ³•"><a href="#ç‰¹æ€§è¯­æ³•" class="headerlink" title="ç‰¹æ€§è¯­æ³•"></a>ç‰¹æ€§è¯­æ³•</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">attribute(positional_parameters, name_parameter = value, ...)</span>]  </span><br><span class="line">element</span><br></pre></td></tr></table></figure>
<p>ç‰¹æ€§ï¼ˆ<code>Attribute</code>ï¼‰çš„åç§°å’Œå€¼æ˜¯åœ¨æ–¹æ‹¬å·å†…è§„å®šçš„ï¼Œæ”¾ç½®åœ¨å®ƒæ‰€åº”ç”¨çš„å…ƒç´ ä¹‹å‰ã€‚<code>positional_parameters</code> è§„å®šå¿…éœ€çš„ä¿¡æ¯ï¼Œ<code>name_parameter</code> è§„å®šå¯é€‰çš„ä¿¡æ¯ã€‚</p>
<h2 id="é¢„å®šä¹‰ç‰¹æ€§"><a href="#é¢„å®šä¹‰ç‰¹æ€§" class="headerlink" title="é¢„å®šä¹‰ç‰¹æ€§"></a>é¢„å®šä¹‰ç‰¹æ€§</h2><h3 id="AttributeUsage"><a href="#AttributeUsage" class="headerlink" title="AttributeUsage"></a><code>AttributeUsage</code></h3><p>é¢„å®šä¹‰ç‰¹æ€§ <code>AttributeUsage</code> æè¿°äº†å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰ç‰¹æ€§ç±»ã€‚å®ƒè§„å®šäº†ç‰¹æ€§å¯åº”ç”¨åˆ°çš„é¡¹ç›®çš„ç±»å‹ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">AttributeUsage(validon, AllowMultiple=allowmultiple, Inherited=inherited)</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>å‚æ•° <code>validon</code> è§„å®šç‰¹æ€§å¯è¢«æ”¾ç½®çš„è¯­è¨€å…ƒç´ ã€‚å®ƒæ˜¯æšä¸¾å™¨ AttributeTargets çš„å€¼çš„ç»„åˆã€‚é»˜è®¤å€¼æ˜¯ <code>AttributeTargets.All</code>ã€‚  </li>
<li>å‚æ•° <code>allowmultiple</code>ï¼ˆå¯é€‰çš„ï¼‰ä¸ºè¯¥ç‰¹æ€§çš„ <code>AllowMultiple</code> å±æ€§ï¼ˆ<code>property</code>ï¼‰æä¾›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœä¸º <code>true</code>ï¼Œåˆ™è¯¥ç‰¹æ€§æ˜¯å¤šç”¨çš„ã€‚é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼ˆå•ç”¨çš„ï¼‰ã€‚  </li>
<li>å‚æ•° <code>inherited</code>ï¼ˆå¯é€‰çš„ï¼‰ä¸ºè¯¥ç‰¹æ€§çš„ <code>Inherited</code> å±æ€§ï¼ˆ<code>property</code>ï¼‰æä¾›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœä¸º <code>true</code>ï¼Œåˆ™è¯¥ç‰¹æ€§å¯è¢«æ´¾ç”Ÿç±»ç»§æ‰¿ã€‚é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼ˆä¸è¢«ç»§æ‰¿ï¼‰ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Class | ttributeTargets.Constructor | AttributeTargets.Field | AttributeTargets.Method | AttributeTargets.Property, AllowMultiple = true)</span>]</span><br></pre></td></tr></table></figure>
<h3 id="Conditional"><a href="#Conditional" class="headerlink" title="Conditional"></a><code>Conditional</code></h3><p>è¿™ä¸ªé¢„å®šä¹‰ç‰¹æ€§æ ‡è®°äº†ä¸€ä¸ªæ¡ä»¶æ–¹æ³•ï¼Œå…¶æ‰§è¡Œä¾èµ–äºå®ƒé¡¶çš„é¢„å¤„ç†æ ‡è¯†ç¬¦ã€‚å®ƒä¼šå¼•èµ·æ–¹æ³•è°ƒç”¨çš„æ¡ä»¶ç¼–è¯‘ï¼Œå–å†³äºæŒ‡å®šçš„å€¼ï¼Œæ¯”å¦‚ <code>Debug</code> æˆ– <code>Trace</code>ã€‚ä¾‹å¦‚ï¼Œå½“è°ƒè¯•ä»£ç æ—¶æ˜¾ç¤ºå˜é‡çš„å€¼ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Conditional(conditionalSymbol)</span>]</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Conditional(<span class="meta-string">&quot;DEBUG&quot;</span>)</span>]</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong> <code>Conditional</code> ç‰¹æ€§çš„æ–¹å¼ä¸ <code>#if...#endif</code>ï¼Œ<code>Conditional</code> ç‰¹æ€§çš„æ–¹æ³•æ˜¯å¦ç”Ÿæ•ˆæ˜¯å–å†³äºè°ƒç”¨æ–¹ï¼Œè€Œç”¨ <code>#if</code> æ–¹å¼æ˜¯å¦ç”Ÿæ•ˆæ˜¯å–å†³äºæ–¹æ³•å®šä¹‰æ‰€åœ¨çš„ç¨‹åºé›†ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Conditional(<span class="meta-string">&quot;Conditional&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TestOne</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//éœ€è¦è®¾ç½®é¡¹ç›® å±æ€§ -&gt; ç”Ÿæˆ -&gt; æ¡ä»¶ç¼–è¯‘ç¬¦å· ä¸ºï¼šConditional</span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;this is test function one.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TestTwo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//éœ€è¦è®¾ç½®é¡¹ç›® å±æ€§ -&gt; ç”Ÿæˆ -&gt; æ¡ä»¶ç¼–è¯‘ç¬¦å· ä¸ºï¼šConditional</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">if</span> Conditional</span></span><br><span class="line">    Console.WriteLine(<span class="string">&quot;this is test function two.&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong><code>Conditional</code> ç‰¹æ€§å¯ä»¥å¤šä¸ªï¼ŒåŒæ—¶ä½¿ç”¨å¤šä¸ªå¤šä¸ªç¼–è¯‘ç¬¦å·ï¼Œå¤šä¸ªä¹‹é—´æ˜¯â€œæˆ–â€çš„å…³ç³»ã€‚</p>
<h3 id="Obsolete"><a href="#Obsolete" class="headerlink" title="Obsolete"></a>Obsolete</h3><p>è¿™ä¸ªé¢„å®šä¹‰ç‰¹æ€§æ ‡è®°äº†ä¸åº”è¢«ä½¿ç”¨çš„ç¨‹åºå®ä½“ã€‚å®ƒå¯ä»¥è®©æ‚¨é€šçŸ¥ç¼–è¯‘å™¨ä¸¢å¼ƒæŸä¸ªç‰¹å®šçš„ç›®æ ‡å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªæ–°æ–¹æ³•è¢«ç”¨åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œä½†æ˜¯æ‚¨ä»ç„¶æƒ³è¦ä¿æŒç±»ä¸­çš„æ—§æ–¹æ³•ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ˜¾ç¤ºä¸€ä¸ªåº”è¯¥ä½¿ç”¨æ–°æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ—§æ–¹æ³•çš„æ¶ˆæ¯ï¼Œæ¥æŠŠå®ƒæ ‡è®°ä¸º <code>obsolete</code>ï¼ˆè¿‡æ—¶çš„ï¼‰ã€‚  </p>
<p>è§„å®šè¯¥ç‰¹æ€§çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<p><code>[Obsolete(message)]</code> æˆ– <code>[Obsolete(message, iserror)]</code>  </p>
<ul>
<li>å‚æ•° <code>message</code>ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæè¿°é¡¹ç›®ä¸ºä»€ä¹ˆè¿‡æ—¶çš„åŸå› ä»¥åŠè¯¥æ›¿ä»£ä½¿ç”¨ä»€ä¹ˆã€‚  </li>
<li>å‚æ•° <code>iserror</code>ï¼Œæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœè¯¥å€¼ä¸º <code>true</code>ï¼Œç¼–è¯‘å™¨åº”æŠŠè¯¥é¡¹ç›®çš„ä½¿ç”¨å½“ä½œä¸€ä¸ªé”™è¯¯ã€‚é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼ˆç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªè­¦å‘Šï¼‰ã€‚</li>
</ul>
<h2 id="è‡ªå®šä¹‰ç‰¹æ€§"><a href="#è‡ªå®šä¹‰ç‰¹æ€§" class="headerlink" title="è‡ªå®šä¹‰ç‰¹æ€§"></a>è‡ªå®šä¹‰ç‰¹æ€§</h2><p><code>.Net</code> æ¡†æ¶å…è®¸åˆ›å»ºè‡ªå®šä¹‰ç‰¹æ€§ï¼Œç”¨äºå­˜å‚¨å£°æ˜æ€§çš„ä¿¡æ¯ï¼Œä¸”å¯åœ¨è¿è¡Œæ—¶è¢«æ£€ç´¢ã€‚è¯¥ä¿¡æ¯æ ¹æ®è®¾è®¡æ ‡å‡†å’Œåº”ç”¨ç¨‹åºéœ€è¦ï¼Œå¯ä¸ä»»ä½•ç›®æ ‡å…ƒç´ ç›¸å…³ã€‚  </p>
<p>åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰ç‰¹æ€§åŒ…å«å››ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>å£°æ˜è‡ªå®šä¹‰ç‰¹æ€§ï¼›æ„å»ºè‡ªå®šä¹‰ç‰¹æ€§ï¼›</li>
<li>åœ¨ç›®æ ‡ç¨‹åºå…ƒç´ ä¸Šåº”ç”¨è‡ªå®šä¹‰ç‰¹æ€§ï¼›</li>
<li>é€šè¿‡åå°„è®¿é—®ç‰¹æ€§ï¼›</li>
<li>æœ€åä¸€ä¸ªæ­¥éª¤åŒ…å«ç¼–å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºæ¥è¯»å–å…ƒæ•°æ®ä»¥ä¾¿æŸ¥æ‰¾å„ç§ç¬¦å·ã€‚å…ƒæ•°æ®æ˜¯ç”¨äºæè¿°å…¶ä»–æ•°æ®çš„æ•°æ®å’Œä¿¡æ¯ã€‚è¯¥ç¨‹åºåº”ä½¿ç”¨åå°„æ¥åœ¨è¿è¡Œæ—¶è®¿é—®ç‰¹æ€§ã€‚</li>
</ul>
<h3 id="å£°æ˜è‡ªå®šä¹‰ç‰¹æ€§"><a href="#å£°æ˜è‡ªå®šä¹‰ç‰¹æ€§" class="headerlink" title="å£°æ˜è‡ªå®šä¹‰ç‰¹æ€§"></a>å£°æ˜è‡ªå®šä¹‰ç‰¹æ€§</h3><p>ä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰ç‰¹æ€§åº”æ´¾ç”Ÿè‡ª System.Attribute ç±»ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Class | AttributeTargets.Constructor | AttributeTargets.Field | AttributeTargets.Method | AttributeTargets.Property, AllowMultiple = true)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DeveloperInfoAttribute</span> : <span class="title">Attribute</span> &#123; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ„å»ºè‡ªå®šä¹‰ç‰¹æ€§"><a href="#æ„å»ºè‡ªå®šä¹‰ç‰¹æ€§" class="headerlink" title="æ„å»ºè‡ªå®šä¹‰ç‰¹æ€§"></a>æ„å»ºè‡ªå®šä¹‰ç‰¹æ€§</h3><p>æ¯ä¸ªç‰¹æ€§å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚å¿…éœ€çš„å®šä½ï¼ˆ<code>positional</code>ï¼‰å‚æ•°åº”é€šè¿‡æ„é€ å‡½æ•°ä¼ é€’ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">AttributeUsage(AttributeTargets.Class | AttributeTargets.Constructor | AttributeTargets.Field | AttributeTargets.Method | AttributeTargets.Property, AllowMultiple = true)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DeveloperInfoAttribute</span> : <span class="title">Attribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DeveloperInfoAttribute</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">string</span> date</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        DeveloperName = name;</span><br><span class="line">        DeveloperDate = date;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> DeveloperName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> DeveloperDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Describe &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åº”ç”¨è‡ªå®šä¹‰ç‰¹æ€§"><a href="#åº”ç”¨è‡ªå®šä¹‰ç‰¹æ€§" class="headerlink" title="åº”ç”¨è‡ªå®šä¹‰ç‰¹æ€§"></a>åº”ç”¨è‡ªå®šä¹‰ç‰¹æ€§</h3><p>é€šè¿‡æŠŠç‰¹æ€§æ”¾ç½®åœ¨ç´§æ¥ç€å®ƒçš„ç›®æ ‡ä¹‹å‰ï¼Œæ¥åº”ç”¨è¯¥ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">DeveloperInfo(<span class="meta-string">&quot;John&quot;</span>, <span class="meta-string">&quot;2018-06-23&quot;</span>, Describe = <span class="meta-string">&quot;this is a test class.&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Business</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">DeveloperInfo(<span class="meta-string">&quot;John&quot;</span>, <span class="meta-string">&quot;2018-06-23&quot;</span>, Describe = <span class="meta-string">&quot;this is a test property.&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> TestProperty &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    [<span class="meta">DeveloperInfo(<span class="meta-string">&quot;John&quot;</span>, <span class="meta-string">&quot;2018-06-23&quot;</span>, Describe = <span class="meta-string">&quot;this is a test method.&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestMethod</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é€šè¿‡åå°„è®¿é—®ç‰¹æ€§"><a href="#é€šè¿‡åå°„è®¿é—®ç‰¹æ€§" class="headerlink" title="é€šè¿‡åå°„è®¿é—®ç‰¹æ€§"></a>é€šè¿‡åå°„è®¿é—®ç‰¹æ€§</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">object</span>[] attr = <span class="keyword">typeof</span>(Business).GetCustomAttributes(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; attr.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (attr[i] <span class="keyword">is</span> DeveloperInfoAttribute)</span><br><span class="line">        &#123;</span><br><span class="line">            DeveloperInfoAttribute developer = attr[i] <span class="keyword">as</span> DeveloperInfoAttribute;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Name:<span class="subst">&#123;developer.DeveloperName&#125;</span> Date:<span class="subst">&#123;developer.DeveloperDate&#125;</span> Describe:<span class="subst">&#123;developer.Describe&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    MethodInfo[] method = <span class="keyword">typeof</span>(Business).GetMethods();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; method.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span>[] attr = method[i].GetCustomAttributes(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; attr.Length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (attr[j] <span class="keyword">is</span> DeveloperInfoAttribute)</span><br><span class="line">            &#123;</span><br><span class="line">                DeveloperInfoAttribute developer = attr[j] <span class="keyword">as</span> DeveloperInfoAttribute;</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;Name:<span class="subst">&#123;developer.DeveloperName&#125;</span> Date:<span class="subst">&#123;developer.DeveloperDate&#125;</span> Describe:<span class="subst">&#123;developer.Describe&#125;</span>&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    PropertyInfo[] property = <span class="keyword">typeof</span>(Business).GetProperties();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; property.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span>[] attr = property[i].GetCustomAttributes(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; attr.Length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (attr[j] <span class="keyword">is</span> DeveloperInfoAttribute)</span><br><span class="line">            &#123;</span><br><span class="line">                DeveloperInfoAttribute developer = attr[j] <span class="keyword">as</span> DeveloperInfoAttribute;</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;Name:<span class="subst">&#123;developer.DeveloperName&#125;</span> Date:<span class="subst">&#123;developer.DeveloperDate&#125;</span> Describe:<span class="subst">&#123;developer.Describe&#125;</span>&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li>è‡ªå®šä¹‰çš„ <code>Attribute</code> å¿…é¡»ç›´æ¥æˆ–è€…é—´æ¥ç»§æ‰¿ <code>System.Attribute</code>ã€‚</li>
<li>è¿™é‡Œæœ‰ä¸€ä¸ªçº¦å®šï¼šæ‰€æœ‰è‡ªå®šä¹‰çš„ç‰¹æ€§åç§°éƒ½åº”è¯¥æœ‰ä¸ª <code>Attribute</code> åç¼€ã€‚å› ä¸ºå½“ä½ çš„ <code>Attribute</code> æ–½åŠ åˆ°ä¸€ä¸ªç¨‹åºçš„å…ƒç´ ä¸Šçš„æ—¶å€™ï¼Œç¼–è¯‘å™¨å…ˆæŸ¥æ‰¾ä½ çš„ <code>Attribute</code> çš„å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæŸ¥æ‰¾ ç‰¹æ€§åç§° + <code>Attribute</code> çš„å®šä¹‰ã€‚å¦‚æœéƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±æŠ¥é”™ã€‚</li>
<li><code>Attribute</code> å¯ä»¥å…³è”çš„å…ƒç´ åŒ…æ‹¬ï¼šç¨‹åºé›†(<code>assembly</code>)ã€æ¨¡å—(<code>module</code>)ã€ç±»å‹(<code>type</code>)ã€å±æ€§(<code>property</code>)ã€äº‹ä»¶(<code>event</code>)ã€å­—æ®µ(<code>field</code>)ã€æ–¹æ³•(<code>method</code>)ã€å‚æ•°(<code>param</code>)ã€è¿”å›å€¼(<code>return</code>)ã€‚</li>
<li><code>AttributeTargets</code> ç›®æ ‡åŒ…æ‹¬ï¼š<ul>
<li><code>All</code>ï¼šå¯ä»¥å¯¹ä»»ä½•åº”ç”¨ç¨‹åºå…ƒç´ åº”ç”¨å±æ€§ï¼›</li>
<li><code>Assembly</code>ï¼šå¯ä»¥å¯¹ç¨‹åºé›†åº”ç”¨å±æ€§ï¼›</li>
<li><code>Class</code>ï¼šå¯ä»¥å¯¹ç±»åº”ç”¨å±æ€§ï¼›</li>
<li><code>Constructor</code>ï¼šå¯ä»¥å¯¹æ„é€ å‡½æ•°åº”ç”¨å±æ€§ï¼›</li>
<li><code>Delegate</code>ï¼šå¯ä»¥å¯¹å§”æ‰˜åº”ç”¨å±æ€§ï¼›</li>
<li><code>Enum</code>ï¼šå¯ä»¥å¯¹æšä¸¾åº”ç”¨å±æ€§ï¼›</li>
<li><code>Event</code>ï¼šå¯ä»¥å¯¹äº‹ä»¶åº”ç”¨å±æ€§ï¼›</li>
<li><code>Field</code>ï¼šå¯ä»¥å¯¹å­—æ®µåº”ç”¨å±æ€§ï¼›</li>
<li><code>GenericParameter</code>ï¼šå¯ä»¥å¯¹æ³›å‹å‚æ•°åº”ç”¨å±æ€§ï¼›</li>
<li><code>Interface</code>ï¼šå¯ä»¥å¯¹æ¥å£åº”ç”¨å±æ€§ï¼›</li>
<li><code>Method</code>ï¼šå¯ä»¥å¯¹æ–¹æ³•åº”ç”¨å±æ€§ï¼›</li>
<li><code>Module</code>ï¼š<code>Module</code> æŒ‡çš„æ˜¯å¯ç§»æ¤çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ<code>.dll</code> æˆ– <code>.exe</code>ï¼‰ï¼Œè€Œé <code>Visual Basic</code> æ ‡å‡†æ¨¡å—ï¼›</li>
<li><code>Parameter</code>ï¼šå¯ä»¥å¯¹å‚æ•°åº”ç”¨å±æ€§ï¼›</li>
<li><code>Property</code>ï¼šå¯ä»¥å¯¹å±æ€§ (<code>Property</code>) åº”ç”¨å±æ€§ (<code>Attribute</code>)ï¼›</li>
<li><code>ReturnValue</code>ï¼šå¯ä»¥å¯¹è¿”å›å€¼åº”ç”¨å±æ€§ï¼›</li>
<li><code>Struct</code>ï¼šå¯ä»¥å¯¹ç»“æ„åº”ç”¨å±æ€§ï¼Œå³å€¼ç±»å‹ã€‚</li>
</ul>
</li>
<li><code>AttributeUsageAttribute</code>ä¸­çš„3ä¸ªå±æ€§ï¼ˆ<code>Property</code>ï¼‰è¯´æ˜ï¼š<ul>
<li><code>ValidOn</code>ï¼šè¯¥å®šä½å‚æ•°æŒ‡å®šå¯åœ¨å…¶ä¸Šæ”¾ç½®æ‰€æŒ‡ç¤ºçš„å±æ€§ (<code>Attribute</code>) çš„ç¨‹åºå…ƒç´ ã€‚<code>AttributeTargets</code> æšä¸¾æ•°ä¸­åˆ—å‡ºäº†å¯åœ¨å…¶ä¸Šæ”¾ç½®å±æ€§ (<code>Attribute</code>) çš„æ‰€æœ‰å¯èƒ½å…ƒç´ çš„é›†åˆã€‚å¯é€šè¿‡æŒ‰ä½â€œæˆ–â€è¿ç®—ç»„åˆå¤šä¸ª <code>AttributeTargets</code> å€¼ï¼Œä»¥è·å–æ‰€éœ€çš„æœ‰æ•ˆç¨‹åºå…ƒç´ ç»„åˆã€‚</li>
<li><code>AllowMultiple</code>ï¼šè¯¥å‘½åå‚æ•°æŒ‡å®šèƒ½å¦ä¸ºç»™å®šçš„ç¨‹åºå…ƒç´ å¤šæ¬¡æŒ‡å®šæ‰€æŒ‡ç¤ºçš„å±æ€§ã€‚</li>
<li><code>Inherited</code>ï¼šè¯¥å‘½åå‚æ•°æŒ‡å®šæ‰€æŒ‡ç¤ºçš„å±æ€§èƒ½å¦ç”±æ´¾ç”Ÿç±»å’Œé‡å†™æˆå‘˜ç»§æ‰¿ã€‚</li>
</ul>
</li>
<li><code>Attribute</code> æ£€æµ‹æ–¹æ³•ï¼š<ul>
<li><code>IsDefined</code>ï¼šå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªæŒ‡å®šçš„ <code>Attribute</code> æ´¾ç”Ÿç±»çš„å®ä¾‹ä¸ç›®æ ‡å…³è”ï¼Œå°±è¿”å› <code>true</code>ã€‚è¿™ä¸ªæ–¹æ³•æ•ˆç‡å¾ˆé«˜ï¼Œå› ä¸ºä»–ä¸æ„é€ ï¼ˆååºåˆ—åŒ–ï¼‰<code>Attribute</code> ç±»çš„ä»»ä½•å®ä¾‹ã€‚</li>
<li><code>GetCustomAttributes</code>ï¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯åº”ç”¨äºç›®æ ‡çš„æŒ‡å®š <code>Attribute</code> ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚</li>
<li><code>GetCustomAttributesData</code>ï¼šè·å– <code>CustomAttributesData</code> ç‰¹æ€§ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/attribute/" data-id="cklhsu176001a05rjdxjmdk0d" data-title="Attributeç‰¹æ€§ç®€ä»‹" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Attribute/" rel="tag">Attribute</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190405-regular-expression-summary" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/regular-expression-summary/" class="article-date">
  <time class="dt-published" datetime="2019-04-05T11:25:00.000Z" itemprop="datePublished">2019-04-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/regular-expression-summary/">æ­£åˆ™è¡¨è¾¾å¼æ€»ç»“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><p>æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„å­—ç¬¦ä¸²å¤„ç†æ–¹æ¡ˆï¼Œä¸€ç›´å—åˆ°å¹¿å¤§ç¨‹åºå‘˜çš„é’çã€‚å…¶ä¸ä½†ä½¿ç”¨çµæ´»ï¼Œè€Œä¸”å­—ç¬¦ä¸²å¤„ç†çš„é€Ÿåº¦ä¹ŸåŸºæœ¬è¢«å„ç§ç¼–ç¨‹è¯­è¨€ä¼˜åŒ–åˆ°æè‡´ï¼Œåœ¨å­—ç¬¦ä¸²åŒ¹é…ã€æå–ã€æ›¿æ¢ã€åˆ†å‰²ç­‰ä¸€ç›´æ˜¯é¦–é€‰çš„æ–¹æ¡ˆã€‚</p>
<p>æœ€è¿‘æœ‰ä¸€ä¸ªå‰ç«¯å¦¹å­çªç„¶é—®äº†ä¸€ä¸ªéå¸¸ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æ€ä¹ˆå†™ï¼Œæˆ‘è¯§å¼‚äºå¥¹ä¸ä¼šå†™æ­£åˆ™è¡¨è¾¾å¼çš„åŒæ—¶ï¼Œæ€è€ƒäº†ä¸€ä¸‹å¥½åƒèº«è¾¹åŒäº‹ï¼ŒçœŸä¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ä¹Ÿæ²¡æœ‰å‡ ä¸ªã€‚</p>
<p>æ°å¥½æœ€è¿‘åœ¨è¯»ã€ŠJavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹æŒ‡å—ã€‹è¿™æœ¬ä¹¦çš„<code>RegExp</code>ï¼ˆJavaScriptä¸­çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼‰è¿™ä¸€ç« ï¼Œé‚£å°±è¶æ­¤æœºä¼šæ€»ç»“ä¸€ä¸‹å¹³æ—¶å·¥ä½œå­¦ä¹ ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„åœºæ™¯ï¼ŒåŒæ—¶æ•´ç†ä¸€ä¸‹è¿™éƒ¨åˆ†çš„åŸºæœ¬çŸ¥è¯†ã€‚</p>
<blockquote>
<p>æœ¬æ–‡ä»£ç å‡ä½¿ç”¨ <code>C#</code> ç¼–å†™ï¼Œåé¢æœ‰ç©ºä¼šé’ˆå¯¹ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ï¼Œä»‹ç»å„è‡ªçš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡æ€ä¹ˆä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="æ ¡éªŒ"><a href="#æ ¡éªŒ" class="headerlink" title="æ ¡éªŒ"></a>æ ¡éªŒ</h2><p>æ­£åˆ™æˆ‘ä»¬ä½¿ç”¨æœ€å¤šå°±æ˜¯æ ¡éªŒäº†ï¼Œä¹Ÿå°±æ˜¯å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ï¼Œç¡®è®¤ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œä¾‹å¦‚åˆ¤æ–­ä¸€ä¸ªIPæ˜¯å¦åˆæ³•ã€ç”¨æˆ·åæ˜¯å¦ç¬¦åˆç³»ç»Ÿè¦æ±‚ã€é‚®ç®±è¾“å…¥åˆæ³•ã€è¾“å…¥å†…å®¹æ˜¯å¦æ˜¯æ•°å­—ç­‰ã€‚</p>
<h3 id="ä»ç”¨æˆ·åæ ¡éªŒå¼€å§‹"><a href="#ä»ç”¨æˆ·åæ ¡éªŒå¼€å§‹" class="headerlink" title="ä»ç”¨æˆ·åæ ¡éªŒå¼€å§‹"></a>ä»ç”¨æˆ·åæ ¡éªŒå¼€å§‹</h3><p>ç»å¸¸èƒ½çœ‹åˆ°ä¸€äº›ç½‘ç«™æˆ–ç³»ç»Ÿä¸­ï¼Œè®¾è®¡ç”¨æˆ·åè§„åˆ™ä¸ºï¼šâ€œåªèƒ½ä½¿ç”¨æ•°å­—æˆ–è‹±æ–‡ï¼Œå¹¶ä¸”é¦–å­—æ¯å¿…é¡»æ˜¯å­—æ¯ï¼Œé•¿åº¦é™åˆ¶åœ¨6-32ä»¥å†…â€ã€‚</p>
<p>å¦‚æœæ²¡æœ‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»£ç çš„å®ç°æˆ‘ä»¬å¯èƒ½éœ€è¦è¿™ä¹ˆè®¾è®¡ï¼šå¾ªç¯å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ç¬¦åˆé™åˆ¶è¦æ±‚ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> éªŒè¯ç”¨æˆ·åæ˜¯å¦åˆæ³•ï¼š6-32ä½å­—æ¯æ•°å­—ç»„æˆï¼Œé¦–å­—æ¯éæ•°å­—</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>ç”¨æˆ·å<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>ç”¨æˆ·åæ˜¯å¦ç¬¦åˆç³»ç»Ÿè®¾è®¡è§„åˆ™è¦æ±‚<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">CheckUserName</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//éªŒè¯é•¿åº¦é™åˆ¶</span></span><br><span class="line">    <span class="keyword">if</span> (name.Length &lt; <span class="number">6</span> || name.Length &gt; <span class="number">32</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; name.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">char</span> ch = name[i];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¿…é¡»æ˜¯æ•°å­—æˆ–å¤§å°å†™å­—æ¯</span></span><br><span class="line">        <span class="keyword">if</span> (ch &lt; <span class="number">48</span> || ch &gt; <span class="number">57</span> &amp;&amp; ch &lt; <span class="number">65</span> || ch &gt; <span class="number">95</span> &amp;&amp; ch &lt; <span class="number">97</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é¦–å­—æ¯ä¸èƒ½æ˜¯æ•°å­—</span></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; ch &gt;= <span class="number">48</span> &amp;&amp; ch &lt;= <span class="number">57</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå·²ç»å°½é‡ä¼˜åŒ–ï¼Œç”¨å­—ç¬¦å¯¹åº”çš„ç¼–ç å­—ç¬¦æ¥åˆ¤æ–­æ˜¯å¦åœ¨æ•°å­—æˆ–å¤§å°å†™å­—æ¯çš„ç¼–ç åŒºé—´å†…ï¼Œå°æ˜åŒå­¦çœ‹äº†è¡¨ç¤ºè¿™ä¸ªå·²ç»ä¸é”™äº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ç”¨æ­£åˆ™è¡¨ç¤ºå‘¢ï¼Ÿ</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> éªŒè¯ç”¨æˆ·åæ˜¯å¦åˆæ³•ï¼š6-32ä½å­—æ¯æ•°å­—ç»„æˆï¼Œé¦–å­—æ¯éæ•°å­—</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>ç”¨æˆ·å<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>ç”¨æˆ·åæ˜¯å¦ç¬¦åˆç³»ç»Ÿè®¾è®¡è§„åˆ™è¦æ±‚<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">CheckUserName</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> System.Text.RegularExpressions.Regex.IsMatch(name, <span class="string">&quot;^[a-zA-Z][a-zA-Z0-9]&#123;5,31&#125;$&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åªéœ€è¦ä¸€è¡Œä»£ç ï¼Œå°±å¯ä»¥å®ç°ä¸Šé¢å¯¹äºç”¨æˆ·åçš„æ ¡éªŒï¼Œå½“ç„¶è¿™è¿˜åªæ˜¯ç®€å•çš„ç”¨æˆ·åæ ¡éªŒé—®é¢˜ï¼Œå¦‚æœæ˜¯é’ˆå¯¹æ›´å¤æ‚çš„ä¾‹å¦‚IPåœ°å€/èº«ä»½è¯/æ‰‹æœºå·ç /é‚®ç®±/ç½‘å€ç­‰ï¼Œæ­£åˆ™çš„ä¼˜åŠ¿è¿˜ä¼šæ›´æ˜æ˜¾ï¼Œå› ä¸ºè¿™äº›å†…å®¹æˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¥å®ç°åŒ¹é…æ ¡éªŒã€‚</p>
<h3 id="å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼"></a>å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼</h3><p>è½¬è‡ªï¼š<a target="_blank" rel="noopener" href="http://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html">æœ€å…¨çš„å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨â€”â€”åŒ…æ‹¬æ ¡éªŒæ•°å­—ã€å­—ç¬¦ã€ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚ç­‰ç­‰</a></p>
<h4 id="æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼"><a href="#æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼" class="headerlink" title="æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼"></a>æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼</h4><ol>
<li>æ•°å­—ï¼š<code>^[0-9]*$</code></li>
<li>nä½çš„æ•°å­—ï¼š<code>^\d&#123;n&#125;$</code></li>
<li>è‡³å°‘nä½çš„æ•°å­—ï¼š<code>^\d&#123;n,&#125;$</code></li>
<li>m-nä½çš„æ•°å­—ï¼š<code>^\d&#123;m,n&#125;$</code></li>
<li>é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š<code>^(0|[1-9][0-9]*)$</code></li>
<li>éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š<code>^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$</code></li>
<li>å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š<code>^(\-)?\d+(\.\d&#123;1,2&#125;)?$</code></li>
<li>æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š<code>^(\-|\+)?\d+(\.\d+)?$</code></li>
<li>æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š<code>^[0-9]+(.[0-9]&#123;2&#125;)?$</code></li>
<li>æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š<code>^[0-9]+(.[0-9]&#123;1,3&#125;)?$</code></li>
<li>éé›¶çš„æ­£æ•´æ•°ï¼š<code>^[1-9]\d*$ æˆ– ^([1-9][0-9]*)&#123;1,3&#125;$ æˆ– ^\+?[1-9][0-9]*$</code></li>
<li>éé›¶çš„è´Ÿæ•´æ•°ï¼š<code>^\-[1-9][]0-9&quot;*$ æˆ– ^-[1-9]\d*$</code></li>
<li>éè´Ÿæ•´æ•°ï¼š<code>^\d+$ æˆ– ^[1-9]\d*|0$</code></li>
<li>éæ­£æ•´æ•°ï¼š<code>^-[1-9]\d*|0$ æˆ– ^((-\d+)|(0+))$</code></li>
<li>éè´Ÿæµ®ç‚¹æ•°ï¼š<code>^\d+(\.\d+)?$ æˆ– ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</code></li>
<li>éæ­£æµ®ç‚¹æ•°ï¼š<code>^((-\d+(\.\d+)?)|(0+(\.0+)?))$ æˆ– ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</code></li>
<li>æ­£æµ®ç‚¹æ•°ï¼š<code>^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ æˆ– ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</code></li>
<li>è´Ÿæµ®ç‚¹æ•°ï¼š<code>^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ æˆ– ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</code></li>
<li>æµ®ç‚¹æ•°ï¼š<code>^(-?\d+)(\.\d+)?$ æˆ– ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</code></li>
</ol>
<h4 id="æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼"><a href="#æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼" class="headerlink" title="æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼"></a>æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼</h4><ol>
<li>æ±‰å­—ï¼š<code>^[\u4e00-\u9fa5]&#123;0,&#125;$</code></li>
<li>è‹±æ–‡å’Œæ•°å­—ï¼š<code>^[A-Za-z0-9]+$ æˆ– ^[A-Za-z0-9]&#123;4,40&#125;$</code></li>
<li>é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š<code>^.&#123;3,20&#125;$</code></li>
<li>ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Za-z]+$</code></li>
<li>ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Z]+$</code></li>
<li>ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[a-z]+$</code></li>
<li>ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Za-z0-9]+$</code></li>
<li>ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^\w+$ æˆ– ^\w&#123;3,20&#125;$</code></li>
<li>ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š<code>^[\u4E00-\u9FA5A-Za-z0-9_]+$</code></li>
<li>ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š<code>^[\u4E00-\u9FA5A-Za-z0-9]+$ æˆ– ^[\u4E00-\u9FA5A-Za-z0-9]&#123;2,20&#125;$</code></li>
<li>å¯ä»¥è¾“å…¥å«æœ‰^%&amp;â€™,;=?$&quot;ç­‰å­—ç¬¦ï¼š<code>[^%&amp;&#39;,;=?$\x22]+</code></li>
<li>ç¦æ­¢è¾“å…¥å«æœ‰<del>çš„å­—ç¬¦ï¼š`[^</del>\x22]+`</li>
</ol>
<h4 id="ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼"><a href="#ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼" class="headerlink" title="ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼"></a>ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼</h4><ol>
<li>Emailåœ°å€ï¼š<code>^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</code></li>
<li>åŸŸåï¼š<code>[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?</code></li>
<li>InternetURLï¼š<code>[a-zA-z]+://[^\s]* æˆ– ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</code></li>
<li>æ‰‹æœºå·ç ï¼š<code>^(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])\d&#123;8&#125;$ (ç”±äºå·¥ä¿¡éƒ¨æ”¾å·æ®µä¸å®šæ—¶ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨æ³›è§£æ ^([1][3,4,5,6,7,8,9])\d&#123;9&#125;$)</code></li>
<li>ç”µè¯å·ç (â€œXXX-XXXXXXXâ€ã€â€XXXX-XXXXXXXXâ€ã€â€XXX-XXXXXXXâ€ã€â€XXX-XXXXXXXXâ€ã€â€XXXXXXXâ€å’Œâ€XXXXXXXX)ï¼š<code>^(\(\d&#123;3,4&#125;-)|\d&#123;3.4&#125;-)?\d&#123;7,8&#125;$</code></li>
<li>å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š<code>\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;</code></li>
<li>18ä½èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š<code>^((\d&#123;18&#125;)|([0-9x]&#123;18&#125;)|([0-9X]&#123;18&#125;))$</code></li>
<li>å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š<code>^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$</code></li>
<li>å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š<code>^[a-zA-Z]\w&#123;5,17&#125;$</code></li>
<li>å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š<code>^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</code></li>
<li>æ—¥æœŸæ ¼å¼ï¼š<code>^\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;</code></li>
<li>ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š<code>^(0?[1-9]|1[0-2])$</code></li>
<li>ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š<code>^((0?[1-9])|((1|2)[0-9])|30|31)$</code></li>
<li>é’±çš„è¾“å…¥æ ¼å¼ï¼š</li>
<li>æœ‰å››ç§é’±çš„è¡¨ç¤ºå½¢å¼æˆ‘ä»¬å¯ä»¥æ¥å—:â€10000.00â€ å’Œ â€œ10,000.00â€, å’Œæ²¡æœ‰ â€œåˆ†â€ çš„ â€œ10000â€ å’Œ â€œ10,000â€ï¼š<code>^[1-9][0-9]*$</code></li>
<li>è¿™è¡¨ç¤ºä»»æ„ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—,ä½†æ˜¯,è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªå­—ç¬¦â€0â€ä¸é€šè¿‡,æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ä¸‹é¢çš„å½¢å¼ï¼š<code>^(0|[1-9][0-9]*)$</code></li>
<li>ä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—.æˆ‘ä»¬è¿˜å¯ä»¥å…è®¸å¼€å¤´æœ‰ä¸€ä¸ªè´Ÿå·ï¼š<code>^(0|-?[1-9][0-9]*)$</code></li>
<li>è¿™è¡¨ç¤ºä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªå¯èƒ½ä¸ºè´Ÿçš„å¼€å¤´ä¸ä¸º0çš„æ•°å­—.è®©ç”¨æˆ·ä»¥0å¼€å¤´å¥½äº†.æŠŠè´Ÿå·çš„ä¹Ÿå»æ‰,å› ä¸ºé’±æ€»ä¸èƒ½æ˜¯è´Ÿçš„å§.ä¸‹é¢æˆ‘ä»¬è¦åŠ çš„æ˜¯è¯´æ˜å¯èƒ½çš„å°æ•°éƒ¨åˆ†ï¼š<code>^[0-9]+(.[0-9]+)?$</code></li>
<li>å¿…é¡»è¯´æ˜çš„æ˜¯,å°æ•°ç‚¹åé¢è‡³å°‘åº”è¯¥æœ‰1ä½æ•°,æ‰€ä»¥â€10.â€æ˜¯ä¸é€šè¿‡çš„,ä½†æ˜¯ â€œ10â€ å’Œ â€œ10.2â€ æ˜¯é€šè¿‡çš„ï¼š<code>^[0-9]+(.[0-9]&#123;2&#125;)?$</code></li>
<li>è¿™æ ·æˆ‘ä»¬è§„å®šå°æ•°ç‚¹åé¢å¿…é¡»æœ‰ä¸¤ä½,å¦‚æœä½ è®¤ä¸ºå¤ªè‹›åˆ»äº†,å¯ä»¥è¿™æ ·ï¼š<code>^[0-9]+(.[0-9]&#123;1,2&#125;)?$</code></li>
<li>è¿™æ ·å°±å…è®¸ç”¨æˆ·åªå†™ä¸€ä½å°æ•°.ä¸‹é¢æˆ‘ä»¬è¯¥è€ƒè™‘æ•°å­—ä¸­çš„é€—å·äº†,æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š<code>^[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*(.[0-9]&#123;1,2&#125;)?$</code></li>
<li>1åˆ°3ä¸ªæ•°å­—,åé¢è·Ÿç€ä»»æ„ä¸ª é€—å·+3ä¸ªæ•°å­—,é€—å·æˆä¸ºå¯é€‰,è€Œä¸æ˜¯å¿…é¡»ï¼š<code>^([0-9]+|[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*)(.[0-9]&#123;1,2&#125;)?$</code></li>
<li>xmlæ–‡ä»¶ï¼š<code>^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</code></li>
<li>ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>[\u4e00-\u9fa5]</code></li>
<li>åŒå­—èŠ‚å­—ç¬¦ï¼š<code>[^\x00-\xff]</code>    (åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1))</li>
<li>ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>\n\s*\r</code>    (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ)</li>
<li>HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt;</code>    (ç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›)</li>
<li>é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>^\s*|\s*$æˆ–(^\s*)|(\s*$)</code>    (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼)</li>
<li>è…¾è®¯QQå·ï¼š<code>[1-9][0-9]&#123;4,&#125;</code>    (è…¾è®¯QQå·ä»10000å¼€å§‹)</li>
<li>ä¸­å›½é‚®æ”¿ç¼–ç ï¼š<code>[1-9]\d&#123;5&#125;(?!\d)</code>    (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—)</li>
<li>IPåœ°å€ï¼š<code>((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))</code></li>
</ol>
<p>ä»¥ä¸Šæ˜¯ä¸€äº›ç½‘ä¸Šæµä¼ çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™äº›å†…å®¹ä»…ä¾›å‚è€ƒï¼Œå¦‚æœæƒ³è¦ç¡®è®¤ä»¥ä¸Šæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦ç¬¦åˆè‡ªå·±çš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ–è€…è‡ªå·±å®ç°ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¯·çœ‹æœ€åä¸€ä¸ªéƒ¨åˆ†ã€‚</p>
<h2 id="æå–"><a href="#æå–" class="headerlink" title="æå–"></a>æå–</h2><p>æå–é¡¾åæ€ä¹‰ä¹Ÿå°±æ˜¯ä»ä¸€æ®µå­—ç¬¦ä¸²ï¼Œè·å–æˆ‘ä»¬éœ€è¦çš„ç‰¹å®šå†…å®¹ï¼Œä¾‹å¦‚åœ¨ç½‘é¡µçˆ¬è™«ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦è·å–htmlä¸­çš„æ–‡æœ¬å†…å®¹ï¼Œæˆ–ç‰¹å®šæ ‡ç­¾ä¸‹çš„å†…å®¹ã€‚ï¼ˆå½“ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>XPath</code>è¯­æ³•è¿›è¡Œè§£æï¼Œä½†æ˜¯æ­£åˆ™ä¹Ÿä¸å¤±ä¸ºä¸€ä¸ªä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸”å¾ˆå¤šXPathæ–¹æ¡ˆçš„åº•å±‚æ˜¯åŸºäºæ­£åˆ™å®ç°çš„ã€‚åé¢ä»‹ç»çˆ¬è™«çš„æ—¶å€™ï¼Œå†å…·ä½“ä»‹ç»XPathã€‚ï¼‰</p>
<p>å¦‚æœå†…å®¹æ˜¯æˆ‘ä»¬éœ€è¦æå–çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>(</code> <code>)</code>å°†éœ€è¦æå–çš„å†…å®¹åŒ…èµ·æ¥ï¼Œè¿™æ ·æ­£åˆ™åŒ¹é…æ—¶ä¼šå°†è¿™éƒ¨åˆ†å†…å®¹æå–åˆ°é›†åˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»é›†åˆä¸­è·å–è¿™äº›å…ƒç´ ã€‚</p>
<h3 id="æå–é‚®ç®±ä¸­çš„ç”¨æˆ·å"><a href="#æå–é‚®ç®±ä¸­çš„ç”¨æˆ·å" class="headerlink" title="æå–é‚®ç®±ä¸­çš„ç”¨æˆ·å"></a>æå–é‚®ç®±ä¸­çš„ç”¨æˆ·å</h3><p>C# ä¸­ï¼Œæå–åˆ°çš„å†…å®¹åœ¨Groupé›†åˆä¸­ï¼Œé›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºåŒ¹é…çš„æ‰€æœ‰å†…å®¹ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åŒ¹é…åˆ°çš„é‚®ç®±ï¼Œè€Œåçš„å…ƒç´ æ‰æ˜¯æˆ‘ä»¬ä½¿ç”¨å°æ‹¬å·æå–çš„å†…å®¹ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> éªŒè¯é‚®ç®±å¹¶æå–é‚®ç®±ä¸­çš„ç”¨æˆ·å</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;email&quot;&gt;</span>é‚®ç®±<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>ç”¨æˆ·å<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>é‚®ç®±å†…å®¹æ˜¯å¦åˆæ³•<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">CheckEmail</span>(<span class="params"><span class="built_in">string</span> email, <span class="keyword">out</span> <span class="built_in">string</span> name</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    name = <span class="literal">null</span>;</span><br><span class="line">    System.Text.RegularExpressions.Match match </span><br><span class="line">        = System.Text.RegularExpressions.Regex.Match(email, <span class="string">@&quot;^(\w+([-+.]\w+)*)@\w+([-.]\w+)*\.\w+([-.]\w+)*$&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (match.Success)</span><br><span class="line">    &#123;</span><br><span class="line">        name = match.Groups[<span class="number">1</span>].Value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> match.Success;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•æµ‹è¯•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> email = <span class="string">&quot;hd2y@outlook.com&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (CheckEmail(email, <span class="keyword">out</span> <span class="built_in">string</span> name))</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;ç”¨æˆ·<span class="subst">&#123;name&#125;</span>é‚®ç®±éªŒè¯åˆæ³•ï¼š<span class="subst">&#123;email&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æå–Htmlå†…å®¹ä¸­æ‰€æœ‰æ ‡é¢˜"><a href="#æå–Htmlå†…å®¹ä¸­æ‰€æœ‰æ ‡é¢˜" class="headerlink" title="æå–Htmlå†…å®¹ä¸­æ‰€æœ‰æ ‡é¢˜"></a>æå–Htmlå†…å®¹ä¸­æ‰€æœ‰æ ‡é¢˜</h3><p>åœ¨é‚®ç®±åŒ¹é…çš„ä¾‹å­ä¸­æˆ‘ä»¬å¯¹å†…å®¹è¿›è¡Œäº†é™å®šï¼Œ<code>^</code>ä»£è¡¨åŒ¹é…å¼€å¤´ï¼Œ<code>$</code>ä»£è¡¨åŒ¹é…ç»“å°¾ï¼Œæ‰€ä»¥å…¶å®é™…ä¸Šæ˜¯å¯¹æ•´ä¸ªå†…å®¹è¿›è¡ŒåŒ¹é…ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬å¯èƒ½ä¼šç¢°åˆ°å¯¹å†…å®¹è¿›è¡Œå¤šæ¬¡åŒ¹é…çš„æƒ…å†µï¼Œä¾‹å¦‚æå–htmlå†…å®¹ä¸­æ‰€æœ‰çš„æ ‡é¢˜ä¹Ÿå°±æ˜¯h1-h6æ ‡ç­¾ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¾ªç¯åŒ¹é…çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½é™å®šå¼€å§‹äºç»“æŸã€‚</p>
<p>å¦å¤–ä¸€ä¸ªæ ‡ç­¾æœ‰æ ‡ç­¾åã€å±æ€§ã€å†…å®¹ï¼Œå½“è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šæ–‡çš„æ–¹å¼ï¼Œåœ¨åŒ¹é…åˆ°çš„å†…å®¹é€šè¿‡ç´¢å¼•å»è·å–å†…å®¹ï¼Œä½†æ˜¯æ­£åˆ™ä¹Ÿå…è®¸æˆ‘ä»¬ä½¿ç”¨åˆ«åï¼Œæ‰€ä»¥ä»¥ä¸‹çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºå…¶å–åˆ«åï¼Œç„¶åé€šè¿‡åˆ«åæ¥è·å–å†…å®¹ã€‚åŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨åˆ«åé…åˆ<code>\k</code>(å‘½åå‘åå¼•ç”¨)æ¥ç¡®å®šä¸€ä¸ªæ ‡ç­¾çš„é—­åˆã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IEnumerable&lt;Title&gt; <span class="title">FetchTitle</span>(<span class="params"><span class="built_in">string</span> title</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (System.Text.RegularExpressions.Match item</span><br><span class="line">        <span class="keyword">in</span> System.Text.RegularExpressions.Regex.Matches(title, <span class="string">@&quot;&lt;(?&#x27;TN&#x27;H[1-6])\s*(?&#x27;TP&#x27;[^&lt;&gt;]*)&gt;(?&#x27;TC&#x27;.*?)&lt;/\k&#x27;TN&#x27;&gt;&quot;</span></span><br><span class="line">           , System.Text.RegularExpressions.RegexOptions.IgnoreCase))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">Title</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Name = item.Groups[<span class="string">&quot;TN&quot;</span>].Value,</span><br><span class="line">            Property = item.Groups[<span class="string">&quot;TP&quot;</span>].Value,</span><br><span class="line">            Content = item.Groups[<span class="string">&quot;TC&quot;</span>].Value</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Title</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Property &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Content &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•æµ‹è¯•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> html = <span class="string">&quot;&lt;h1&gt;h1&lt;/h1&gt;&lt;h2&gt;h2&lt;/h2&gt;&lt;h3&gt;h3&lt;/h3&gt;&lt;h4&gt;h4&lt;/h4&gt;&lt;h5 style=\&quot;color:red;\&quot;&gt;h5&lt;/h5&gt;&lt;h6&gt;h6&lt;/h6&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="function">Title title <span class="keyword">in</span> <span class="title">FetchTitle</span>(<span class="params">html</span>))</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;è·å–åˆ°æ ‡é¢˜<span class="subst">&#123;title.Name&#125;</span> å†…å®¹ï¼š<span class="subst">&#123;title.Content&#125;</span> å±æ€§ï¼š<span class="subst">&#123;title.Property&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä»¥ä¸ŠåŒ¹é…éƒ¨åˆ†å†™æ³•å¹¶ä¸ä¸¥æ ¼ï¼Œä¾‹å¦‚æ ‡é¢˜æ ‡ç­¾åµŒå¥—å…¶ä»–æ ‡ç­¾å†…å®¹æ—¶å¯èƒ½å­˜åœ¨é—®é¢˜ï¼Œè¿™é‡Œåªæ˜¯ç®€å•ä¸¾ä¾‹ï¼Œä¸è€ƒè™‘å¤æ‚æ­£åˆ™è¡¨è¾¾å¼å†™æ³•ã€‚</p>
</blockquote>
<blockquote>
<p>Htmlå†…å®¹æå–å¯ä»¥å‚è€ƒ <a target="_blank" rel="noopener" href="https://github.com/Anduin2017/HSharp">Aiursoft.HSharp</a> é¡¹ç›®ï¼Œé‡Œé¢å¯¹äºHtmlçš„è§£æè¾ƒä¸ºæ ‡å‡†å¯ç”¨ã€‚</p>
</blockquote>
<h2 id="åˆ†å‰²"><a href="#åˆ†å‰²" class="headerlink" title="åˆ†å‰²"></a>åˆ†å‰²</h2><p>å¯¹äºå­—ç¬¦ä¸²æ“ä½œï¼Œå¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†Splitæ–¹æ³•ï¼ŒåŒæ ·çš„æ­£åˆ™ä¹Ÿæœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼Œä½†æ˜¯æ­£åˆ™åˆ†å‰²é€‚ç”¨èŒƒå›´æ›´å¹¿ï¼Œé€‚åˆåœ¨åˆ†éš”ç¬¦ä¸ç¡®å®šä½†æ˜¯æœ‰ä¸€å®šè§„å¾‹çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p>
<h3 id="åˆ†å‰²æ—¶é—´ä¿¡æ¯"><a href="#åˆ†å‰²æ—¶é—´ä¿¡æ¯" class="headerlink" title="åˆ†å‰²æ—¶é—´ä¿¡æ¯"></a>åˆ†å‰²æ—¶é—´ä¿¡æ¯</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>[] dateInfo = Regex.Split(<span class="string">&quot;2019-04-01 00:00:00&quot;</span>, <span class="string">@&quot;\W&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="æå–Pascalæ–¹æ³•åä¸­çš„å•è¯"><a href="#æå–Pascalæ–¹æ³•åä¸­çš„å•è¯" class="headerlink" title="æå–Pascalæ–¹æ³•åä¸­çš„å•è¯"></a>æå–Pascalæ–¹æ³•åä¸­çš„å•è¯</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>[] words = Regex.Split(<span class="string">&quot;ILoveYou&quot;</span>, <span class="string">&quot;(?!^)(?=[A-Z])&quot;</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>(?!...)</code> æ­£å‘å¦å®šé¢„æŸ¥ï¼›<code>(?=...)</code> æ­£å‘è‚¯å®šé¢„æŸ¥ã€‚</p>
</blockquote>
<h2 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h2><p>åœ¨æˆ‘çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œæ­£åˆ™ä½¿ç”¨é¢‘ç‡ä¸€èˆ¬æ˜¯ åŒ¹é… &gt; æå– &gt; æ›¿æ¢ &gt; åˆ†å‰²ï¼Œæ›¿æ¢åœ¨ä¸€äº›ç‰¹å®šç¯å¢ƒä¸‹ï¼ŒçœŸçš„æ˜¯è®©äººæœ‰ç§ç›¸è§æ¨æ™šçš„æ„Ÿè§‰ã€‚</p>
<h3 id="å¤„ç†ASTMåè®®æ¶ˆæ¯"><a href="#å¤„ç†ASTMåè®®æ¶ˆæ¯" class="headerlink" title="å¤„ç†ASTMåè®®æ¶ˆæ¯"></a>å¤„ç†ASTMåè®®æ¶ˆæ¯</h3><p>åœ¨å·¥ä½œä¸­æœ‰æ—¶ä¼šå’Œå…¶ä»–ç³»ç»Ÿå’Œè®¾å¤‡æ‰“äº¤é“ï¼Œåšä¸€äº›æ¥å£ï¼Œä»–ä»¬éƒ½æœ‰è‡ªå·±å®šä¹‰çš„é€šè®¯åè®®ï¼Œè€ŒASTMå°±æ˜¯å…¶ä¸­ä¸€ç§ã€‚</p>
<p>åˆšå¼€å§‹å¤„ç†è¿™ä¸ªåè®®çš„ä¸€ä¸ªé—®é¢˜å°±åœ¨äºï¼Œè¿™ä¸ªåè®®ä¼šå°†å®Œæ•´çš„æ¶ˆæ¯åˆ†å—ï¼Œç„¶ååŠ å…¥æ ¡éªŒå­—ç¬¦ï¼Œç±»ä¼¼ä¸‹é¢è¿™ç§ç»“æœï¼šï¼ˆä»¥ä¸‹å†…å®¹ä»…ä»…æ˜¯ç®€å•ä¸¾ä¾‹ï¼ŒéªŒè¯å†…å®¹æœªç»å®é™…è®¡ç®—ï¼ŒASTMåè®®æ›´å¤šè§£é‡Šå¯ä»¥æœç´¢ç›¸å…³æ–‡æ¡£äº†è§£ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;STX&gt;1AAA&lt;ETB&gt;1F&lt;CR&gt;&lt;LF&gt;</span><br><span class="line">&lt;STX&gt;2BBB&lt;ETB&gt;2E&lt;CR&gt;&lt;LF&gt;</span><br><span class="line">&lt;STX&gt;3CCC&lt;ETX&gt;3D&lt;CR&gt;&lt;LF&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­æˆ‘ä»¬éœ€è¦çš„åªæ˜¯å…¶ä¸­çš„AAABBBCCCï¼Œä½†æ˜¯å…¶ä¸ºäº†ç¡®è®¤æ¶ˆæ¯çš„å®Œæ•´æ€§åŠ å…¥äº†ä¸€äº›æ¶ˆæ¯å—æ ‡è¯†å’Œæ ¡éªŒç ï¼Œè¿™äº›ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ä½†æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²è‡ªå¸¦çš„Replaceæˆ–è€…Splitå–æ¶ˆæ¯éƒ¨åˆ†å°±æ¯”è¾ƒéº»çƒ¦ï¼Œè‡³å°‘éœ€è¦å†™ä¸€ä¸ªå¾ªç¯ã€‚</p>
<p>è€Œæ­£åˆ™å°±ç›¸å¯¹ç®€å•çš„å¤šï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> content = <span class="string">&quot;&quot;</span>;<span class="comment">//å†…å®¹ç•¥</span></span><br><span class="line">content = Regex.Replace(content, <span class="string">@&quot;(\u0002[0-7]&#123;1&#125;)|((\u0003|\u0017)[0-9A-F]&#123;2&#125;\r\n)&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤é‡å¤å•è¯"><a href="#åˆ é™¤é‡å¤å•è¯" class="headerlink" title="åˆ é™¤é‡å¤å•è¯"></a>åˆ é™¤é‡å¤å•è¯</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> content = <span class="string">&quot;I love you very very very much.&quot;</span>;<span class="comment">//å†…å®¹ç•¥</span></span><br><span class="line">content = Regex.Replace(content, <span class="string">@&quot;(?&lt;word&gt;[a-zA-Z]+)( \k&lt;word&gt;)+&quot;</span>, <span class="string">&quot;$&#123;word&#125;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šåªæ˜¯ä¸€äº›ä½¿ç”¨åœºæ™¯çš„ç®€å•ä¸¾ä¾‹ï¼Œä»¥ä¸‹éƒ¨åˆ†æ—¶æ‘˜æŠ„è‡ªèœé¸Ÿæ•™ç¨‹å…³äºæ­£åˆ™è¡¨è¾¾å¼éƒ¨åˆ†çš„æ–‡æ¡£ï¼Œä¾›å­¦ä¹ æˆ–è€…æŸ¥é˜…æ—¶ä½¿ç”¨ã€‚</p>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>æ­£åˆ™è¡¨è¾¾å¼(regular expression)æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼ˆpatternï¼‰ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>runoo+b</code>ï¼Œå¯ä»¥åŒ¹é… runoobã€runooobã€runoooooob ç­‰ï¼Œ<code>+</code> å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¿…é¡»è‡³å°‘å‡ºç°ä¸€æ¬¡ï¼ˆ1æ¬¡æˆ–å¤šæ¬¡ï¼‰ã€‚</li>
<li><code>runoo*b</code>ï¼Œå¯ä»¥åŒ¹é… runobã€runoobã€runoooooob ç­‰ï¼Œ<code>*</code> å·ä»£è¡¨å­—ç¬¦å¯ä»¥ä¸å‡ºç°ï¼Œä¹Ÿå¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ï¼ˆ0æ¬¡ã€æˆ–1æ¬¡ã€æˆ–å¤šæ¬¡ï¼‰ã€‚</li>
<li><code>colou?r</code> å¯ä»¥åŒ¹é… color æˆ–è€… colourï¼Œ<code>?</code> é—®å·ä»£è¡¨å‰é¢çš„å­—ç¬¦æœ€å¤šåªå¯ä»¥å‡ºç°ä¸€æ¬¡ï¼ˆ0æ¬¡ã€æˆ–1æ¬¡ï¼‰ã€‚</li>
</ul>
<p>æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•å’Œåˆ›å»ºæ•°å­¦è¡¨è¾¾å¼çš„æ–¹æ³•ä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯ç”¨å¤šç§å…ƒå­—ç¬¦ä¸è¿ç®—ç¬¦å¯ä»¥å°†å°çš„è¡¨è¾¾å¼ç»“åˆåœ¨ä¸€èµ·æ¥åˆ›å»ºæ›´å¤§çš„è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„ç»„ä»¶å¯ä»¥æ˜¯å•ä¸ªçš„å­—ç¬¦ã€å­—ç¬¦é›†åˆã€å­—ç¬¦èŒƒå›´ã€å­—ç¬¦é—´çš„é€‰æ‹©æˆ–è€…æ‰€æœ‰è¿™äº›ç»„ä»¶çš„ä»»æ„ç»„åˆã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”±æ™®é€šå­—ç¬¦ï¼ˆä¾‹å¦‚å­—ç¬¦ a åˆ° zï¼‰ä»¥åŠç‰¹æ®Šå­—ç¬¦ï¼ˆç§°ä¸ºâ€å…ƒå­—ç¬¦â€ï¼‰ç»„æˆçš„æ–‡å­—æ¨¡å¼ã€‚æ¨¡å¼æè¿°åœ¨æœç´¢æ–‡æœ¬æ—¶è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæ¨¡æ¿ï¼Œå°†æŸä¸ªå­—ç¬¦æ¨¡å¼ä¸æ‰€æœç´¢çš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚</p>
<h3 id="æ™®é€šå­—ç¬¦"><a href="#æ™®é€šå­—ç¬¦" class="headerlink" title="æ™®é€šå­—ç¬¦"></a>æ™®é€šå­—ç¬¦</h3><p>æ™®é€šå­—ç¬¦åŒ…æ‹¬æ²¡æœ‰æ˜¾å¼æŒ‡å®šä¸ºå…ƒå­—ç¬¦çš„æ‰€æœ‰å¯æ‰“å°å’Œä¸å¯æ‰“å°å­—ç¬¦ã€‚è¿™åŒ…æ‹¬æ‰€æœ‰å¤§å†™å’Œå°å†™å­—æ¯ã€æ‰€æœ‰æ•°å­—ã€æ‰€æœ‰æ ‡ç‚¹ç¬¦å·å’Œä¸€äº›å…¶ä»–ç¬¦å·ã€‚</p>
<h3 id="éæ‰“å°å­—ç¬¦"><a href="#éæ‰“å°å­—ç¬¦" class="headerlink" title="éæ‰“å°å­—ç¬¦"></a>éæ‰“å°å­—ç¬¦</h3><p>éæ‰“å°å­—ç¬¦ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ç»„æˆéƒ¨åˆ†ã€‚ä¸‹è¡¨åˆ—å‡ºäº†è¡¨ç¤ºéæ‰“å°å­—ç¬¦çš„è½¬ä¹‰åºåˆ—ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å­—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\cx</td>
<td align="left">åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \x0c å’Œ \cLã€‚</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \x0a å’Œ \cJã€‚</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \x0d å’Œ \cMã€‚</td>
</tr>
<tr>
<td align="left">\s</td>
<td align="left">åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº <code>[ \f\n\r\t\v]</code>ã€‚æ³¨æ„ Unicode æ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…å…¨è§’ç©ºæ ¼ç¬¦ã€‚</td>
</tr>
<tr>
<td align="left">\S</td>
<td align="left">åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº <code>[^ \f\n\r\t\v]</code>ã€‚</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x09 å’Œ \cIã€‚</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x0b å’Œ \cKã€‚</td>
</tr>
</tbody></table>
<h3 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h3><p>æ‰€è°“ç‰¹æ®Šå­—ç¬¦ï¼Œå°±æ˜¯ä¸€äº›æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œå¦‚ä¸Šé¢è¯´çš„ <code>runoo*b</code> ä¸­çš„ <code>*</code>ï¼Œç®€å•çš„è¯´å°±æ˜¯è¡¨ç¤ºä»»ä½•å­—ç¬¦ä¸²çš„æ„æ€ã€‚å¦‚æœè¦æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­çš„ <code>*</code> ç¬¦å·ï¼Œåˆ™éœ€è¦å¯¹ <code>*</code> è¿›è¡Œè½¬ä¹‰ï¼Œå³åœ¨å…¶å‰åŠ ä¸€ä¸ª <code>\</code>: <code>runo\*ob</code> åŒ¹é… <code>runo*ob</code>ã€‚</p>
<p>è®¸å¤šå…ƒå­—ç¬¦è¦æ±‚åœ¨è¯•å›¾åŒ¹é…å®ƒä»¬æ—¶ç‰¹åˆ«å¯¹å¾…ã€‚è‹¥è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»é¦–å…ˆä½¿å­—ç¬¦â€è½¬ä¹‰â€ï¼Œå³ï¼Œå°†åæ–œæ å­—ç¬¦\ æ”¾åœ¨å®ƒä»¬å‰é¢ã€‚ä¸‹è¡¨åˆ—å‡ºäº†æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th align="left">ç‰¹åˆ«å­—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$</td>
<td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ã€‚è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ $ã€‚</td>
</tr>
<tr>
<td align="left">( )</td>
<td align="left">æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… <code>*</code> å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ <code>\*</code>ã€‚</td>
</tr>
<tr>
<td align="left">+</td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ +ã€‚</td>
</tr>
<tr>
<td align="left">.</td>
<td align="left">åŒ¹é…é™¤æ¢è¡Œç¬¦ \n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨ . ã€‚</td>
</tr>
<tr>
<td align="left"><code>[</code></td>
<td align="left">æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… <code>[</code>ï¼Œè¯·ä½¿ç”¨ <code>\[</code>ã€‚</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ?ã€‚</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜nâ€™ åŒ¹é…å­—ç¬¦ â€˜nâ€™ã€‚â€™\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot;ï¼Œè€Œ â€˜(â€˜ åˆ™åŒ¹é… â€œ(â€œã€‚</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œæ­¤æ—¶å®ƒè¡¨ç¤ºä¸æ¥å—è¯¥å­—ç¬¦é›†åˆã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ ^ã€‚</td>
</tr>
<tr>
<td align="left">{</td>
<td align="left">æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨ {ã€‚</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="é™å®šç¬¦"><a href="#é™å®šç¬¦" class="headerlink" title="é™å®šç¬¦"></a>é™å®šç¬¦</h3><p>é™å®šç¬¦ç”¨æ¥æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªç»™å®šç»„ä»¶å¿…é¡»è¦å‡ºç°å¤šå°‘æ¬¡æ‰èƒ½æ»¡è¶³åŒ¹é…ã€‚æœ‰ <code>*</code> æˆ– <code>+</code> æˆ– <code>?</code> æˆ– <code>&#123;n&#125;</code> æˆ– <code>&#123;n,&#125;</code> æˆ– <code>&#123;n,m&#125;</code> å…±6ç§ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„é™å®šç¬¦æœ‰ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å­—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">*</td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>zo*</code> èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚<code>*</code> ç­‰ä»·äº{0,}ã€‚</td>
</tr>
<tr>
<td align="left">+</td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ ã€ â€œdoesâ€ ä¸­çš„ â€œdoesâ€ ã€ â€œdoxyâ€ ä¸­çš„ â€œdoâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚</td>
</tr>
<tr>
<td align="left">{n}</td>
<td align="left">n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚</td>
</tr>
<tr>
<td align="left">{n,}</td>
<td align="left">n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚</td>
</tr>
<tr>
<td align="left">{n,m}</td>
<td align="left">m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td>
</tr>
</tbody></table>
<h2 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h2><p>ä¸‹è¡¨åŒ…å«äº†å…ƒå­—ç¬¦çš„å®Œæ•´åˆ—è¡¨ä»¥åŠå®ƒä»¬åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ä¸­çš„è¡Œä¸ºï¼š</p>
<table>
<thead>
<tr>
<th align="left">å­—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\</td>
<td align="left">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ª å‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™nâ€™ åŒ¹é…å­—ç¬¦ â€œnâ€ã€‚â€™\nâ€™ åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot; è€Œ â€œ(â€œ åˆ™åŒ¹é… â€œ(â€œã€‚</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ ä¹‹åçš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ ä¹‹å‰çš„ä½ç½®ã€‚</td>
</tr>
</tbody></table>
<ul>
<li><pre><code>     |åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ`zo*` èƒ½åŒ¹é… &quot;z&quot; ä»¥åŠ &quot;zoo&quot;ã€‚`*` ç­‰ä»·äº&#123;0,&#125;ã€‚
</code></pre>
</li>
</ul>
<ul>
<li><pre><code>     |åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ&#39;zo+&#39; èƒ½åŒ¹é… &quot;zo&quot; ä»¥åŠ &quot;zoo&quot;ï¼Œä½†ä¸èƒ½åŒ¹é… &quot;z&quot;ã€‚+ ç­‰ä»·äº &#123;1,&#125;ã€‚
</code></pre>
?          |åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ æˆ– â€œdoesâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚<br>{n}        |n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚<br>{n,}       |n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº <code>&#39;o*&#39;</code>ã€‚<br>{n,m}      |m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚<br>?          |å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (<code>*</code>, +, ?, {n}, {n,}, {n,m}) åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² â€œooooâ€ï¼Œâ€™o+?â€™ å°†åŒ¹é…å•ä¸ª â€œoâ€ï¼Œè€Œ â€˜o+â€™ å°†åŒ¹é…æ‰€æœ‰ â€˜oâ€™ã€‚<br>.          |åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\nã€\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ â€˜\nâ€™ åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒâ€(.|\n)â€çš„æ¨¡å¼ã€‚<br>(pattern)  |åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ â€˜(â€˜ æˆ– â€˜)â€˜ã€‚<br>(?:pattern)|åŒ¹é… pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨ â€œæˆ–â€ å­—ç¬¦ (|) æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ â€˜industr(?:y|ies) å°±æ˜¯ä¸€ä¸ªæ¯” â€˜industry|industriesâ€™ æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚<br>(?=pattern)|æ­£å‘è‚¯å®šé¢„æŸ¥ï¼ˆlook ahead positive assertï¼‰ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€Windows(?=95|98|NT|2000)â€èƒ½åŒ¹é…â€Windows2000â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€Windows3.1â€ä¸­çš„â€Windowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚<br>(?!pattern)|æ­£å‘å¦å®šé¢„æŸ¥(negative assert)ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€Windows(?!95|98|NT|2000)â€èƒ½åŒ¹é…â€Windows3.1â€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€Windows2000â€ä¸­çš„â€Windowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚<br>(?&lt;=pattern)|åå‘(look behind)è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€(?&lt;=95|98|NT|2000)Windowsâ€èƒ½åŒ¹é…â€2000Windowsâ€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€3.1Windowsâ€ä¸­çš„â€Windowsâ€ã€‚<br>(?&lt;!pattern)|åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€(?&lt;!95|98|NT|2000)Windowsâ€èƒ½åŒ¹é…â€3.1Windowsâ€ä¸­çš„â€Windowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€2000Windowsâ€ä¸­çš„â€Windowsâ€ã€‚<br>x|y        |åŒ¹é… x æˆ– yã€‚ä¾‹å¦‚ï¼Œâ€™z|foodâ€™ èƒ½åŒ¹é… â€œzâ€ æˆ– â€œfoodâ€ã€‚â€™(z|f)oodâ€™ åˆ™åŒ¹é… â€œzoodâ€ æˆ– â€œfoodâ€ã€‚<br><code>[xyz]</code>      |å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ <code>&#39;[abc]&#39;</code> å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„ â€˜aâ€™ã€‚<br><code>[^xyz]</code>     |è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ <code>&#39;[^abc]&#39;</code> å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„â€™pâ€™ã€â€™lâ€™ã€â€™iâ€™ã€â€™nâ€™ã€‚<br><code>[a-z]</code>      |å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>&#39;[a-z]&#39;</code> å¯ä»¥åŒ¹é… â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚<br><code>[^a-z]</code>     |è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>&#39;[^a-z]&#39;</code> å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚<br>\b         |åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ â€˜er\bâ€™ å¯ä»¥åŒ¹é…â€neverâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ã€‚<br>\B         |åŒ¹é…éå•è¯è¾¹ç•Œã€‚â€™er\Bâ€™ èƒ½åŒ¹é… â€œverbâ€ ä¸­çš„ â€˜erâ€™ï¼Œä½†ä¸èƒ½åŒ¹é… â€œneverâ€ ä¸­çš„ â€˜erâ€™ã€‚<br>\cx        |åŒ¹é…ç”± x æŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚<br>\d         |åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº <code>[0-9]</code>ã€‚<br>\D         |åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº <code>[^0-9]</code>ã€‚<br>\f         |åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \x0c å’Œ \cLã€‚<br>\n         |åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \x0a å’Œ \cJã€‚<br>\r         |åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \x0d å’Œ \cMã€‚<br>\s         |åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº <code>[ \f\n\r\t\v]</code>ã€‚<br>\S         |åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº <code>[^ \f\n\r\t\v]</code>ã€‚<br>\t         |åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x09 å’Œ \cIã€‚<br>\v         |åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x0b å’Œ \cKã€‚<br>\w         |åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº<code>&#39;[A-Za-z0-9_]&#39;</code>ã€‚<br>\W         |åŒ¹é…éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº <code>&#39;[^A-Za-z0-9_]&#39;</code>ã€‚<br>\xn        |åŒ¹é… nï¼Œå…¶ä¸­ n ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€™\x41â€™ åŒ¹é… â€œAâ€ã€‚â€™\x041â€™ åˆ™ç­‰ä»·äº â€˜\x04â€™ &amp; â€œ1â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ ASCII ç¼–ç ã€‚<br>\num       |åŒ¹é… numï¼Œå…¶ä¸­ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€™(.)\1â€™ åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚<br>\n         |æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \n ä¹‹å‰è‡³å°‘ n ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™ n ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ n ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚<br>\nm        | æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \nm ä¹‹å‰è‡³å°‘æœ‰ nm ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™ nm ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ \nm ä¹‹å‰è‡³å°‘æœ‰ n ä¸ªè·å–ï¼Œåˆ™ n ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­— m çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥ n å’Œ m å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ \nm å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmã€‚<br>\nml       |å¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-3)ï¼Œä¸” m å’Œ l å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmlã€‚<br>\un        |åŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u00A9 åŒ¹é…ç‰ˆæƒç¬¦å·ã€‚</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/regular-expression-summary/" data-id="cklhsu1br00c005rj2xufein4" data-title="æ­£åˆ™è¡¨è¾¾å¼æ€»ç»“" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%AD%A3%E5%88%99/" rel="tag">æ­£åˆ™</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190403-security-helper" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/security-helper/" class="article-date">
  <time class="dt-published" datetime="2019-04-03T13:11:00.000Z" itemprop="datePublished">2019-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/security-helper/">SecurityHelper åŠ å¯†è§£å¯†å¸®åŠ©ç±»</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="SecurityHelper-å¸®åŠ©ç±»"><a href="#SecurityHelper-å¸®åŠ©ç±»" class="headerlink" title="SecurityHelper å¸®åŠ©ç±»"></a><code>SecurityHelper</code> å¸®åŠ©ç±»</h2><p>è¯¥å¸®åŠ©ç±»ä¸»è¦å®ç°äº† <code>MD5</code> ç®—æ³•çš„ <code>åŠ å¯†</code>ï¼Œ<code>DES</code>ã€<code>3DES</code>ã€<code>RSA</code> ç®—æ³•çš„ <code>åŠ å¯†</code> ä¸ <code>è§£å¯†</code>ï¼Œå†…éƒ¨ç®€å•å®ç°äº†ä¸€ä¸ªæ··æ·†ç®—æ³•ã€‚</p>
<h2 id="MD5-åŠ å¯†ç®—æ³•"><a href="#MD5-åŠ å¯†ç®—æ³•" class="headerlink" title="MD5 åŠ å¯†ç®—æ³•"></a><code>MD5</code> åŠ å¯†ç®—æ³•</h2><p><code>MD5</code> æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼šå…¨ç§°æ˜¯ <code>Message-Digest Algorithm</code>ï¼Œä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„å¯†ç æ•£åˆ—å‡½æ•°ï¼Œå¯ä»¥äº§ç”Ÿå‡ºä¸€ä¸ª <code>128ä½</code>ï¼ˆ<code>16å­—èŠ‚</code>ï¼‰çš„ <code>æ•£åˆ—å€¼</code>ï¼ˆ<code>hash value</code>ï¼‰ï¼Œç”¨äºç¡®ä¿ä¿¡æ¯ä¼ è¾“å®Œæ•´ä¸€è‡´ã€‚ã€‚</p>
<p>MD5ä¸»è¦ç”¨é€”ï¼š</p>
<ul>
<li>å¯¹ä¸€æ®µä¿¡æ¯ç”Ÿæˆä¿¡æ¯æ‘˜è¦ï¼Œè¯¥æ‘˜è¦å¯¹è¯¥ä¿¡æ¯å…·æœ‰å”¯ä¸€æ€§ï¼Œå¯ä»¥ä½œä¸ºæ•°å­—ç­¾å</li>
<li>ç”¨äºéªŒè¯æ–‡ä»¶çš„æœ‰æ•ˆæ€§(æ˜¯å¦æœ‰ä¸¢å¤±æˆ–æŸåçš„æ•°æ®)</li>
<li>å¯¹ç”¨æˆ·å¯†ç çš„åŠ å¯†</li>
<li>åœ¨å“ˆå¸Œå‡½æ•°ä¸­è®¡ç®—æ•£åˆ—å€¼</li>
</ul>
<p>ä»ä¸Šè¾¹çš„ä¸»è¦ç”¨é€”ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œç”±äºç®—æ³•çš„æŸäº›ä¸å¯é€†ç‰¹å¾ï¼Œåœ¨åŠ å¯†åº”ç”¨ä¸Šæœ‰è¾ƒå¥½çš„å®‰å…¨æ€§ã€‚é€šè¿‡ä½¿ç”¨ <code>MD5</code> åŠ å¯†ç®—æ³•ï¼Œæˆ‘ä»¬è¾“å…¥ä¸€ä¸ªä»»æ„é•¿åº¦çš„å­—èŠ‚ä¸²ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ª<code>128ä½</code> çš„æ•´æ•°ã€‚æ‰€ä»¥æ ¹æ®è¿™ä¸€ç‚¹ <code>MD5</code> è¢«å¹¿æ³›çš„ç”¨ä½œå¯†ç åŠ å¯†ã€‚</p>
<p><code>SecurityHelper</code> ä¸­è°ƒç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str = SecurityHelper.EncryptByMD5(<span class="string">&quot;æµ‹è¯•&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="DES-ä¸-3DES-åŠ å¯†ç®—æ³•"><a href="#DES-ä¸-3DES-åŠ å¯†ç®—æ³•" class="headerlink" title="DES ä¸ 3DES åŠ å¯†ç®—æ³•"></a><code>DES</code> ä¸ <code>3DES</code> åŠ å¯†ç®—æ³•</h2><p><code>DES</code> å…¨ç§°ä¸º <code>Data Encryption Standard</code>ï¼Œå³æ•°æ®åŠ å¯†æ ‡å‡†ï¼Œæ˜¯ä¸€ç§ä½¿ç”¨å¯†é’¥åŠ å¯†çš„å—ç®—æ³•ã€‚<code>DES</code> ç®—æ³•çš„å…¥å£å‚æ•°æœ‰ä¸‰ä¸ªï¼š<code>Key</code>ã€<code>Data</code>ã€<code>Mode</code>ã€‚å…¶ä¸­ <code>Key</code> ä¸º <code>7ä¸ªå­—èŠ‚</code> å…± <code>56ä½</code>ï¼Œæ˜¯ <code>DESç®—æ³•</code> çš„å·¥ä½œå¯†é’¥ï¼›<code>Data</code> ä¸º <code>8ä¸ªå­—èŠ‚</code> <code>64ä½</code>ï¼Œæ˜¯è¦è¢«åŠ å¯†æˆ–è¢«è§£å¯†çš„æ•°æ®ï¼›<code>Mode</code> ä¸º <code>DES</code> çš„å·¥ä½œæ–¹å¼ï¼Œæœ‰ä¸¤ç§ï¼šåŠ å¯†æˆ–è§£å¯†ã€‚å…¶é€Ÿåº¦è¾ƒå¿«ï¼Œé€‚ç”¨äºåŠ å¯†å¤§é‡æ•°æ®çš„åœºåˆã€‚</p>
<p><code>SecurityHelper</code> ä¸­è°ƒç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> encryptStr = SecurityHelper.EncryptByDES(<span class="string">&quot;æµ‹è¯•&quot;</span>);</span><br><span class="line"><span class="built_in">string</span> str = SecurityHelper.DecryptByDES(encryptStr);</span><br></pre></td></tr></table></figure>
<p><code>3DES</code>ï¼ˆå³ <code>Triple DES</code>ï¼‰æ˜¯ <code>DES</code> å‘ <code>AES</code> è¿‡æ¸¡çš„åŠ å¯†ç®—æ³•ï¼Œå®ƒä½¿ç”¨ <code>3æ¡</code> <code>56ä½</code> çš„å¯†é’¥å¯¹æ•°æ®è¿›è¡Œ <code>ä¸‰æ¬¡åŠ å¯†</code>ã€‚æ˜¯ <code>DES</code> çš„ä¸€ä¸ªæ›´å®‰å…¨çš„å˜å½¢ã€‚å®ƒä»¥ <code>DES</code> ä¸ºåŸºæœ¬æ¨¡å—ï¼Œé€šè¿‡ç»„åˆåˆ†ç»„æ–¹æ³•è®¾è®¡å‡ºåˆ†ç»„åŠ å¯†ç®—æ³•ã€‚æ¯”èµ·æœ€åˆçš„ <code>DES</code>ï¼Œ<code>3DES</code> æ›´ä¸ºå®‰å…¨ã€‚</p>
<p><code>SecurityHelper</code> ä¸­è°ƒç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> encryptStr = SecurityHelper.EncryptByTDES(<span class="string">&quot;æµ‹è¯•&quot;</span>);</span><br><span class="line"><span class="built_in">string</span> str = SecurityHelper.DecryptByTDES(encryptStr);</span><br></pre></td></tr></table></figure>
<h2 id="RSA-åŠ å¯†ç®—æ³•"><a href="#RSA-åŠ å¯†ç®—æ³•" class="headerlink" title="RSA åŠ å¯†ç®—æ³•"></a><code>RSA</code> åŠ å¯†ç®—æ³•</h2><p><code>RSA</code> åŠ å¯†ç®—æ³•æ˜¯ä¸€ç§ <code>éå¯¹ç§°</code> åŠ å¯†ç®—æ³•ã€‚åœ¨å…¬å¼€å¯†é’¥åŠ å¯†å’Œç”µå­å•†ä¸šä¸­ <code>RSA</code> è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<p><code>RSA</code> ç®—æ³•æ˜¯ç¬¬ä¸€ä¸ªèƒ½åŒæ—¶ç”¨äºåŠ å¯†å’Œæ•°å­—ç­¾åçš„ç®—æ³•ï¼Œä¹Ÿæ˜“äºç†è§£å’Œæ“ä½œã€‚<code>RSA</code> æ˜¯è¢«ç ”ç©¶å¾—æœ€å¹¿æ³›çš„å…¬é’¥ç®—æ³•ï¼Œä»æå‡ºåˆ°ç°ä»Šçš„ä¸‰åå¤šå¹´é‡Œï¼Œç»å†äº†å„ç§æ”»å‡»çš„è€ƒéªŒï¼Œé€æ¸ä¸ºäººä»¬æ¥å—ï¼Œæˆªæ­¢ <code>2017å¹´</code> è¢«æ™®éè®¤ä¸ºæ˜¯æœ€ä¼˜ç§€çš„å…¬é’¥æ–¹æ¡ˆä¹‹ä¸€ã€‚</p>
<p><code>SecurityHelper</code> ä¸­è°ƒç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆå…¬é’¥ä¸ç§é’¥</span></span><br><span class="line"><span class="keyword">var</span> kv = SecurityHelper.GeneralRSAKeys();</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> encryptStr = SecurityHelper.EncryptByRSAFromXmlString(<span class="string">&quot;æµ‹è¯•&quot;</span>, kv.Key);</span><br><span class="line"><span class="built_in">string</span> str = SecurityHelper.DecryptByRSAFromXmlString(encryptStr, kv.Value);</span><br></pre></td></tr></table></figure>
<h2 id="æ··æ·†-ä¸-åæ··æ·†"><a href="#æ··æ·†-ä¸-åæ··æ·†" class="headerlink" title="æ··æ·† ä¸ åæ··æ·†"></a><code>æ··æ·†</code> ä¸ <code>åæ··æ·†</code></h2><p>å½“éœ€æ±‚å¯¹æ•°æ®çš„ä¼ è¾“æœ‰ä¸é«˜çš„å®‰å…¨åŠ å¯†ï¼Œä¸”åŠ å¯†çš„æ—¶é—´å¤æ‚åº¦è¶Šä½è¶Šå¥½ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®€å•çš„æ··æ·†ç®—æ³•ï¼Œ<code>SecurityHelper</code> å®ç°äº†ä¸€ä¸ªç®€å•çš„æ··æ·†ç®—æ³•ä¾›å¼€å‘äººå‘˜è°ƒç”¨ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> encryptStr = SecurityHelper.MixUp(<span class="string">&quot;æµ‹è¯•&quot;</span>);</span><br><span class="line"><span class="built_in">string</span> str = SecurityHelper.ClearUp(encryptStr);</span><br></pre></td></tr></table></figure>
<h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Security.Cryptography;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">System</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åŠ å¯†å®‰å…¨å¸®åŠ©ç±»</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SecurityHelper</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> MD5åŠ å¯†å­—ç¬¦ä¸² (ä¸å¯é€†)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>éœ€è¦åŠ å¯†çš„å†…å®¹<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>åŠ å¯†å¯†é’¥ï¼Œé˜²æ­¢ç®€å•å¯†ç è¢«ç ´è§£<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>åŠ å¯†åç»“æœå†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>åŠ å¯†ç»“æœ<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptByMD5</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> key = <span class="literal">default</span>(<span class="built_in">string</span></span>), <span class="built_in">bool</span> binaryStyle</span> = <span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            MD5 md5 = MD5.Create();</span><br><span class="line">            <span class="built_in">byte</span>[] bytes = md5.ComputeHash(Encoding.UTF8.GetBytes(text + key));</span><br><span class="line">            <span class="keyword">return</span> binaryStyle ? BitConverter.ToString(bytes) : Convert.ToBase64String(bytes);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> DESåŠ å¯†å­—ç¬¦ä¸² (å¯é€†)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…åŠ å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>DESåŠ å¯†çš„ç§é’¥ï¼Œå¿…é¡»æ˜¯å­—èŠ‚é•¿åº¦8ä½çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè¡¥0ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;iv&quot;&gt;</span>DESåŠ å¯†åç§»é‡ï¼Œå¿…é¡»æ˜¯&gt;=8ä½é•¿çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè¡¥0ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>åŠ å¯†åç»“æœå†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>åŠ å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptByDES</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> key = <span class="string">&quot;&quot;</span>, <span class="built_in">string</span> iv = <span class="string">&quot;&quot;</span>, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bKey = Encoding.UTF8.GetBytes(key).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bKey.Count; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bKey.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            bKey = bKey.GetRange(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bIV = Encoding.UTF8.GetBytes(iv).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bIV.Count; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bIV.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">using</span> (DESCryptoServiceProvider des = <span class="keyword">new</span> DESCryptoServiceProvider())</span><br><span class="line">            <span class="keyword">using</span> (MemoryStream ms = <span class="keyword">new</span> MemoryStream())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">byte</span>[] inData = Encoding.UTF8.GetBytes(text);</span><br><span class="line">                <span class="keyword">using</span> (CryptoStream cs = <span class="keyword">new</span> CryptoStream(ms, des.CreateEncryptor(bKey.ToArray(), bIV.ToArray()), CryptoStreamMode.Write))</span><br><span class="line">                &#123;</span><br><span class="line">                    cs.Write(inData, <span class="number">0</span>, inData.Length);</span><br><span class="line">                    cs.FlushFinalBlock();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> binaryStyle ? BitConverter.ToString(ms.ToArray()) : Convert.ToBase64String(ms.ToArray());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> DESè§£å¯†å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…è§£å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>DESåŠ å¯†çš„ç§é’¥ï¼Œå¿…é¡»æ˜¯å­—èŠ‚é•¿åº¦8ä½çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè¡¥0ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;iv&quot;&gt;</span>DESåŠ å¯†åç§»é‡ï¼Œå¿…é¡»æ˜¯&gt;=8ä½é•¿çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè¡¥0ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>è§£å¯†å†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è§£å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">DecryptByDES</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> key = <span class="string">&quot;&quot;</span>, <span class="built_in">string</span> iv = <span class="string">&quot;&quot;</span>, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bKey = Encoding.UTF8.GetBytes(key).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bKey.Count; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bKey.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            bKey = bKey.GetRange(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bIV = Encoding.UTF8.GetBytes(iv).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bIV.Count; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bIV.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">using</span> (DESCryptoServiceProvider des = <span class="keyword">new</span> DESCryptoServiceProvider())</span><br><span class="line">            <span class="keyword">using</span> (MemoryStream ms = <span class="keyword">new</span> MemoryStream())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">byte</span>[] inData = binaryStyle ? text.GetBytesFromBitConverter() : Convert.FromBase64String(text);</span><br><span class="line">                <span class="keyword">using</span> (CryptoStream cs = <span class="keyword">new</span> CryptoStream(ms, des.CreateDecryptor(bKey.ToArray(), bIV.ToArray()), CryptoStreamMode.Write))</span><br><span class="line">                &#123;</span><br><span class="line">                    cs.Write(inData, <span class="number">0</span>, inData.Length);</span><br><span class="line">                    cs.FlushFinalBlock();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> Encoding.UTF8.GetString(ms.ToArray());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> TDESåŠ å¯†å­—ç¬¦ä¸² (å¯é€†)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…åŠ å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>TDESåŠ å¯†çš„ç§é’¥ï¼Œå¿…é¡»æ˜¯å­—èŠ‚é•¿åº¦24ä½çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè‡ªåŠ¨è¡¥ä½ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;iv&quot;&gt;</span>TDESåŠ å¯†åç§»é‡ï¼Œå¿…é¡»æ˜¯å­—èŠ‚é•¿åº¦&gt;=8ä½çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè‡ªåŠ¨è¡¥ä½ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>åŠ å¯†åç»“æœå†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>åŠ å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptByTDES</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> key = <span class="string">&quot;&quot;</span>, <span class="built_in">string</span> iv = <span class="string">&quot;&quot;</span>, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bKey = Encoding.UTF8.GetBytes(key).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bKey.Count; i &lt; <span class="number">24</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bKey.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            bKey = bKey.GetRange(<span class="number">0</span>, <span class="number">24</span>);</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bIV = Encoding.UTF8.GetBytes(iv).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bIV.Count; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bIV.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">using</span> (TripleDESCryptoServiceProvider des = <span class="keyword">new</span> TripleDESCryptoServiceProvider())</span><br><span class="line">            <span class="keyword">using</span> (MemoryStream ms = <span class="keyword">new</span> MemoryStream())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">byte</span>[] inData = Encoding.UTF8.GetBytes(text);</span><br><span class="line">                <span class="keyword">using</span> (CryptoStream cs = <span class="keyword">new</span> CryptoStream(ms, des.CreateEncryptor(bKey.ToArray(), bIV.ToArray()), CryptoStreamMode.Write))</span><br><span class="line">                &#123;</span><br><span class="line">                    cs.Write(inData, <span class="number">0</span>, inData.Length);</span><br><span class="line">                    cs.FlushFinalBlock();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> binaryStyle ? BitConverter.ToString(ms.ToArray()) : Convert.ToBase64String(ms.ToArray());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> TDESè§£å¯†å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…è§£å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>TDESåŠ å¯†çš„ç§é’¥ï¼Œå¿…é¡»æ˜¯å­—èŠ‚é•¿åº¦24ä½çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè‡ªåŠ¨è¡¥ä½ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;iv&quot;&gt;</span>TDESåŠ å¯†åç§»é‡ï¼Œå¿…é¡»æ˜¯å­—èŠ‚é•¿åº¦&gt;=8ä½çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè‡ªåŠ¨è¡¥ä½ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>è§£å¯†å†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è§£å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">DecryptByTDES</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> key = <span class="string">&quot;&quot;</span>, <span class="built_in">string</span> iv = <span class="string">&quot;&quot;</span>, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bKey = Encoding.UTF8.GetBytes(key).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bKey.Count; i &lt; <span class="number">24</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bKey.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            bKey = bKey.GetRange(<span class="number">0</span>, <span class="number">24</span>);</span><br><span class="line">            List&lt;<span class="built_in">byte</span>&gt; bIV = Encoding.UTF8.GetBytes(iv).ToList();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = bIV.Count; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                bIV.Add((<span class="built_in">byte</span>)i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">using</span> (TripleDESCryptoServiceProvider des = <span class="keyword">new</span> TripleDESCryptoServiceProvider())</span><br><span class="line">            <span class="keyword">using</span> (MemoryStream ms = <span class="keyword">new</span> MemoryStream())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">byte</span>[] inData = binaryStyle ? text.GetBytesFromBitConverter() : Convert.FromBase64String(text);</span><br><span class="line">                <span class="keyword">using</span> (CryptoStream cs = <span class="keyword">new</span> CryptoStream(ms, des.CreateDecryptor(bKey.ToArray(), bIV.ToArray()), CryptoStreamMode.Write))</span><br><span class="line">                &#123;</span><br><span class="line">                    cs.Write(inData, <span class="number">0</span>, inData.Length);</span><br><span class="line">                    cs.FlushFinalBlock();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> Encoding.UTF8.GetString(ms.ToArray());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è·å–RSAåŠ å¯†å…¬é’¥å’Œç§é’¥</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>key:å…¬é’¥ value:å…¬é’¥å’Œç§é’¥<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> KeyValuePair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; <span class="title">GeneralRSAKeys</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">using</span> (RSACryptoServiceProvider rsa = <span class="keyword">new</span> RSACryptoServiceProvider())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> KeyValuePair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;(rsa.ToXmlString(<span class="literal">false</span>), rsa.ToXmlString(<span class="literal">true</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> RSAåŠ å¯†å­—ç¬¦ä¸² (å¯é€†)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…åŠ å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>å¯†é’¥å®¹å™¨çš„åç§°ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>åŠ å¯†åç»“æœå†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>åŠ å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptByRSA</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> name, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            CspParameters param = <span class="keyword">new</span> CspParameters() &#123; KeyContainerName = name &#125;;</span><br><span class="line">            <span class="keyword">using</span> (RSACryptoServiceProvider rsa = <span class="keyword">new</span> RSACryptoServiceProvider(param))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">byte</span>[] plaindata = Encoding.UTF8.GetBytes(text);</span><br><span class="line">                <span class="built_in">byte</span>[] encryptdata = rsa.Encrypt(plaindata, <span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">return</span> binaryStyle ? BitConverter.ToString(encryptdata) : Convert.ToBase64String(encryptdata);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> RSAè§£å¯†å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…è§£å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>å¯†é’¥å®¹å™¨çš„åç§°ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>è§£å¯†å†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è§£å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">DecryptByRSA</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> name, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            CspParameters param = <span class="keyword">new</span> CspParameters() &#123; KeyContainerName = name &#125;;</span><br><span class="line">            <span class="keyword">using</span> (RSACryptoServiceProvider rsa = <span class="keyword">new</span> RSACryptoServiceProvider(param))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">byte</span>[] encryptdata = binaryStyle ? text.GetBytesFromBitConverter() : Convert.FromBase64String(text);</span><br><span class="line">                <span class="built_in">byte</span>[] decryptdata = rsa.Decrypt(encryptdata, <span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">return</span> Encoding.UTF8.GetString(decryptdata);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> RSAåŠ å¯†å­—ç¬¦ä¸² (å¯é€†)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…åŠ å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;xml&quot;&gt;</span>å«æœ‰å¯†é’¥ä¿¡æ¯çš„xmlå­—ç¬¦ä¸²ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>åŠ å¯†åç»“æœå†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>åŠ å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">EncryptByRSAFromXmlString</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> xml, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">using</span> (RSACryptoServiceProvider rsa = <span class="keyword">new</span> RSACryptoServiceProvider())</span><br><span class="line">            &#123;</span><br><span class="line">                rsa.FromXmlString(xml);</span><br><span class="line">                <span class="built_in">byte</span>[] plaindata = Encoding.UTF8.GetBytes(text);</span><br><span class="line">                <span class="built_in">byte</span>[] encryptdata = rsa.Encrypt(plaindata, <span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">return</span> binaryStyle ? BitConverter.ToString(encryptdata) : Convert.ToBase64String(encryptdata);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> RSAè§£å¯†å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>å¾…è§£å¯†çš„å­—ç¬¦ä¸²<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;xml&quot;&gt;</span>å«æœ‰å¯†é’¥ä¿¡æ¯çš„xmlå­—ç¬¦ä¸²ã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;binaryStyle&quot;&gt;</span>è§£å¯†å†…å®¹æ ·å¼ã€‚true:HEXæ ¼å¼åŠ å¯†ç»“æœï¼Œå«â€œ-â€;Base64æ ¼å¼åŠ å¯†ç»“æœã€‚<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è§£å¯†åçš„å­—ç¬¦ä¸²<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">DecryptByRSAFromXmlString</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">string</span> xml, <span class="built_in">bool</span> binaryStyle = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">using</span> (RSACryptoServiceProvider rsa = <span class="keyword">new</span> RSACryptoServiceProvider())</span><br><span class="line">            &#123;</span><br><span class="line">                rsa.FromXmlString(xml);</span><br><span class="line">                <span class="built_in">byte</span>[] encryptdata = binaryStyle ? text.GetBytesFromBitConverter() : Convert.FromBase64String(text);</span><br><span class="line">                <span class="built_in">byte</span>[] decryptdata = rsa.Decrypt(encryptdata, <span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">return</span> Encoding.UTF8.GetString(decryptdata);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> ç”¨æ—¶é—´ç®€å•æ··æ·†</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>åŸå§‹æ–‡æœ¬<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timestampLength&quot;&gt;</span>æ··æ·†ç”¨æ—¶é—´æˆ³é•¿åº¦<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>æ··æ·†åæ–‡æœ¬<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">MixUp</span>(<span class="params"><span class="built_in">string</span> text,<span class="built_in">int</span> timestampLength = <span class="number">36</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> timestamp = Guid.NewGuid().ToString();</span><br><span class="line">            <span class="keyword">var</span> count = text.Length + timestampLength;</span><br><span class="line">            <span class="keyword">var</span> sbd = <span class="keyword">new</span> StringBuilder(count);</span><br><span class="line">            <span class="built_in">int</span> j = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">int</span> k = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &lt; timestampLength &amp;&amp; k &lt; text.Length)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        sbd.Append(text[k]);</span><br><span class="line">                        k++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        sbd.Append(timestamp[j]);</span><br><span class="line">                        j++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (j &gt;= timestampLength)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbd.Append(text[k]);</span><br><span class="line">                    k++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (k &gt;= text.Length)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> sbd.ToString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> ç®€å•åæ··æ·†</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;text&quot;&gt;</span>éœ€è¦æ‰§è¡Œåæ··æ·†çš„æ–‡æœ¬<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timestampLength&quot;&gt;</span>æ··æ·†ç”¨æ—¶é—´æˆ³é•¿åº¦<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>åŸå§‹æ–‡æœ¬<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">ClearUp</span>(<span class="params"><span class="built_in">string</span> text, <span class="built_in">int</span> timestampLength = <span class="number">36</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> sbd = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="built_in">int</span> j = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; text.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbd.Append(text[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    j++;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (j &gt; timestampLength)</span><br><span class="line">                &#123;</span><br><span class="line">                    sbd.Append(text.Substring(i));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> sbd.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong> åˆšåˆšå‘ç°éƒ¨åˆ†ä»£ç è°ƒç”¨äº†æˆ‘è‡ªå·±å°è£…çš„ä¸€ä¸ªæ‰©å±•æ–¹æ³•çš„æ–‡ä»¶ï¼Œä¸»è¦æ˜¯å­—ç¬¦ä¸²ä¸äºŒè¿›åˆ¶æµè½¬æ¢çš„å¤„ç†ï¼Œå¯ä»¥æ ¹æ®æ–¹æ³•åå«ä¹‰è‡ªè¡Œè°ƒæ•´å¯¹åº”æ–¹æ³•ï¼Œåé¢æˆ‘ä¹Ÿä¼šå°†è¿™éƒ¨åˆ†ä»£ç ä¸Šä¼ ä¸Šæ¥ï¼Œè¿™é‡Œå°±å·ä¸ªæ‡’ä¸åšä¿®æ”¹äº†ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/security-helper/" data-id="cklhsu1bp00bw05rjc7cibxqi" data-title="SecurityHelper åŠ å¯†è§£å¯†å¸®åŠ©ç±»" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8A%A0%E5%AF%86/" rel="tag">åŠ å¯†</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190403-create-a-class-library-project-that-supports-multiple-dotnet-versions" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/create-a-class-library-project-that-supports-multiple-dotnet-versions/" class="article-date">
  <time class="dt-published" datetime="2019-04-03T12:55:00.000Z" itemprop="datePublished">2019-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/create-a-class-library-project-that-supports-multiple-dotnet-versions/">åˆ›å»ºæ”¯æŒå¤šä¸ªdotnetç‰ˆæœ¬çš„ç±»åº“é¡¹ç›®</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å¦‚ä½•åˆ›å»ºæ”¯æŒæ”¯æŒå¤šä¸ª-dotnet-ç‰ˆæœ¬çš„ç±»åº“é¡¹ç›®"><a href="#å¦‚ä½•åˆ›å»ºæ”¯æŒæ”¯æŒå¤šä¸ª-dotnet-ç‰ˆæœ¬çš„ç±»åº“é¡¹ç›®" class="headerlink" title="å¦‚ä½•åˆ›å»ºæ”¯æŒæ”¯æŒå¤šä¸ª dotnet ç‰ˆæœ¬çš„ç±»åº“é¡¹ç›®"></a>å¦‚ä½•åˆ›å»ºæ”¯æŒæ”¯æŒå¤šä¸ª <code>dotnet</code> ç‰ˆæœ¬çš„ç±»åº“é¡¹ç›®</h2><p>å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦æ‰€å¼€å‘çš„ç±»åº“åŒæ—¶æ”¯æŒ <code>net40</code> ã€ <code>net451</code> ã€ <code>netstandart2.0</code> ç­‰ç‰ˆæœ¬ã€‚</p>
<p>éšæ„æ‰“å¼€ä¸€äº›å¸¸ç”¨çš„å¼€æºé¡¹ç›®æ¯”å¦‚â€œDapperâ€å°±ä¼šå‘ç°ï¼Œé¡¹ç›®å¹¶ä¸ä¼šé’ˆå¯¹ä¸åŒçš„ <code>dotnet</code> ç‰ˆæœ¬ï¼Œåˆ›å»ºä¸åŒåˆ†æ”¯ï¼Œè€Œæ˜¯ä¸€å¥—ä»£ç æ”¯æŒäº†å¤šä¸ªä¸åŒçš„ <code>dotnet</code> ç‰ˆæœ¬ã€‚</p>
<p>è€Œé’ˆå¯¹ä¸åŒç‰ˆæœ¬çš„è¯­è¨€ç‰¹æ€§ï¼Œåªéœ€è¦ä½¿ç”¨ <code>#if</code> é¢„å¤„ç†æŒ‡ä»¤è¿›è¡Œå¤„ç†å³å¯ï¼Œå¯ä»¥èŠ‚çº¦äº†æˆ‘ä»¬çš„å¼€å‘æˆæœ¬ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç»Ÿä¸€çš„ç®¡ç†é¡¹ç›®æºç ã€‚</p>
<p>ä»¥ä¸‹éƒ¨åˆ†çš„å†…å®¹æ˜¯åŸºäº Visual Studio 2017 è¿›è¡Œçš„å®è·µï¼Œå»ºè®®å®‰è£…æœ€æ–°çš„VSç‰ˆæœ¬ã€‚</p>
<h3 id="é¡¹ç›®æ–‡ä»¶-csproj"><a href="#é¡¹ç›®æ–‡ä»¶-csproj" class="headerlink" title="é¡¹ç›®æ–‡ä»¶ *.csproj"></a>é¡¹ç›®æ–‡ä»¶ <code>*.csproj</code></h3><h4 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h4><p><strong>æ³¨æ„ï¼š</strong>åˆ›å»ºçš„é¡¹ç›®ç±»å‹å¿…é¡»æ˜¯ <code>.NET Standard</code> ã€‚</p>
<p><img src="/upload/2019/3/2019021914395620190403205200764.png"></p>
<h4 id="ç¼–è¾‘-csproj-æ–‡ä»¶"><a href="#ç¼–è¾‘-csproj-æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘ *.csproj æ–‡ä»¶"></a>ç¼–è¾‘ <code>*.csproj</code> æ–‡ä»¶</h4><p>åœ¨é¡¹ç›®ä¸Šå³é”®ï¼Œå³é”®èœå•ä¸­ä¾¿æœ‰ <code>ç¼–è¾‘ *.csproj</code> çš„é€‰é¡¹ï¼š</p>
<p><img src="/upload/2019/3/2019021914453220190403205158717.png"></p>
<p>å¦‚æœæ˜¯æ–°å»ºçš„ <code>ç±»åº“(.NET Standard)</code> é¡¹ç›®ï¼Œ<code>*.csproj</code> æ–‡ä»¶å†…å®¹å¤§æ¦‚æ˜¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">&quot;Microsoft.NET.Sdk&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>netstandard2.0<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ­£å¸¸ä¸€ä¸ªæ‰©å±•åçš„å†…å®¹æ˜¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">&quot;Microsoft.NET.Sdk&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageId</span>&gt;</span>Test<span class="tag">&lt;/<span class="name">PackageId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageTags</span>&gt;</span>test1;test2<span class="tag">&lt;/<span class="name">PackageTags</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Authors</span>&gt;</span>John Sun<span class="tag">&lt;/<span class="name">Authors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworks</span>&gt;</span>net40;net451;netstandard2.0<span class="tag">&lt;/<span class="name">TargetFrameworks</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Jint&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.11.58&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Newtonsoft.Json&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;12.0.1&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;NLog&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;4.5.11&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;NLog.Config&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;4.5.11&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;NPOI&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.4.1&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span> <span class="attr">Condition</span>=<span class="string">&quot;&#x27;$(TargetFramework)&#x27; == &#x27;net40&#x27; OR &#x27;$(TargetFramework)&#x27; == &#x27;net451&#x27;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">&quot;System&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">&quot;System.Data&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">&quot;System.Web&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">&quot;System.Xml&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">&quot;System.Xml.Linq&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.CSharp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;dapper_net40&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;1.0.0&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span> <span class="attr">Condition</span>=<span class="string">&quot;&#x27;$(TargetFramework)&#x27; == &#x27;netstandard2.0&#x27;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.CSharp&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;4.5.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;dapper_net40&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;1.0.0&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ProjectReference</span> <span class="attr">Include</span>=<span class="string">&quot;..\..\src\Test\TestCore.csproj&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="éœ€è¦å…³æ³¨çš„é…ç½®èŠ‚ç‚¹"><a href="#éœ€è¦å…³æ³¨çš„é…ç½®èŠ‚ç‚¹" class="headerlink" title="éœ€è¦å…³æ³¨çš„é…ç½®èŠ‚ç‚¹"></a>éœ€è¦å…³æ³¨çš„é…ç½®èŠ‚ç‚¹</h4><ul>
<li><code>PropertyGroup</code>: é…ç½®é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯<ul>
<li><code>TargetFrameworks</code>: é…ç½®é¡¹ç›®å¯¹æ¡†æ¶å…ƒåŒ…çš„å¼•ç”¨ï¼Œæ³¨æ„é»˜è®¤ä¸€ä¸ªå¼•ç”¨æ—¶æ˜¯ <code>TargetFramework</code>ï¼Œéœ€è¦ä¿®æ”¹ä¸ºå¤æ•°</li>
<li><code>PackageId</code>: æŒ‡å®šç”ŸæˆåŒ…çš„åç§°</li>
<li><code>PackageTags</code>: æ ‡è®°</li>
<li><code>PackageVersion</code>: æŒ‡å®šç”Ÿæˆçš„åŒ…æ‰€å…·æœ‰çš„ç‰ˆæœ¬</li>
<li><code>Authors</code>: ä»¥åˆ†å·åˆ†éš”çš„åŒ…ä½œè€…åˆ—è¡¨</li>
<li><code>OutputType</code>: å¯ä»¥ä½¿ç”¨ <code>&lt;OutputType&gt;Exe&lt;/OutputType&gt;</code> æŒ‡å®šé¡¹ç›®ä¸ºæ§åˆ¶å°é¡¹ç›®</li>
<li>â€¦â€¦</li>
</ul>
</li>
<li><code>ItemGroup</code>: å‘é¡¹ç›®æ·»åŠ ä¾èµ–é¡¹<ul>
<li><code>PackageReference</code>: nugetç¨‹åºåŒ…</li>
<li><code>Reference</code>: ç¨‹åºé›†å¼•ç”¨</li>
<li><code>ProjectReference</code>: é¡¹ç›®å¼•ç”¨</li>
</ul>
</li>
</ul>
<h3 id="C-é¢„å¤„ç†å™¨æŒ‡ä»¤"><a href="#C-é¢„å¤„ç†å™¨æŒ‡ä»¤" class="headerlink" title="C# é¢„å¤„ç†å™¨æŒ‡ä»¤"></a><code>C#</code> é¢„å¤„ç†å™¨æŒ‡ä»¤</h3><p>æˆ‘ä»¬åœ¨å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°éƒ¨åˆ†ä»£ç åœ¨ä¸åŒçš„ <code>dotnet</code> ç‰ˆæœ¬ä¸Šæœ‰ä¸åŒçš„å®ç°ï¼Œæˆ–è€…éƒ¨åˆ†ç¨‹åºç±»å‹/æ–¹æ³•ç­‰åªèƒ½åœ¨æŒ‡å®šçš„ <code>dotnet</code> ç‰ˆæœ¬ä¸Šä½¿ç”¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>C#</code> çš„é¢„å¤„ç†æŒ‡ä»¤ <code>#if</code> ã€‚</p>
<h4 id="é’ˆå¯¹ä¸åŒçš„ç›®æ ‡æ¡†æ¶ä½¿ç”¨æœ€æ–°çš„-API"><a href="#é’ˆå¯¹ä¸åŒçš„ç›®æ ‡æ¡†æ¶ä½¿ç”¨æœ€æ–°çš„-API" class="headerlink" title="é’ˆå¯¹ä¸åŒçš„ç›®æ ‡æ¡†æ¶ä½¿ç”¨æœ€æ–°çš„ API:"></a>é’ˆå¯¹ä¸åŒçš„ç›®æ ‡æ¡†æ¶ä½¿ç”¨æœ€æ–°çš„ API:</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> NET40</span></span><br><span class="line">        WebClient _client = <span class="keyword">new</span> WebClient();</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        HttpClient _client = <span class="keyword">new</span> HttpClient();</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åœ¨ç›®æ ‡æ¡†æ¶ä¸‹å±è”½ä¸€ä¸ªæ–¹æ³•"><a href="#åœ¨ç›®æ ‡æ¡†æ¶ä¸‹å±è”½ä¸€ä¸ªæ–¹æ³•" class="headerlink" title="åœ¨ç›®æ ‡æ¡†æ¶ä¸‹å±è”½ä¸€ä¸ªæ–¹æ³•"></a>åœ¨ç›®æ ‡æ¡†æ¶ä¸‹å±è”½ä¸€ä¸ªæ–¹æ³•</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !NET20</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">OpenAsync</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/csproj">.NET Core çš„ csproj æ ¼å¼çš„æ–°å¢å†…å®¹</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/dependencies">ä½¿ç”¨ .NET Core SDK 1.0 ç®¡ç†ä¾èµ–é¡¹</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/standard/net-standard">.NET Standard</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/preprocessor-directives/">C# é¢„å¤„ç†å™¨æŒ‡ä»¤</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/create-a-class-library-project-that-supports-multiple-dotnet-versions/" data-id="cklhsu16y001305rj3szfbkkt" data-title="åˆ›å»ºæ”¯æŒå¤šä¸ªdotnetç‰ˆæœ¬çš„ç±»åº“é¡¹ç›®" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET-Standard/" rel="tag">.NET Standard</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">é¡¹ç›®</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190403-thread-and-thread-pool" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/thread-and-thread-pool/" class="article-date">
  <time class="dt-published" datetime="2019-04-03T12:21:00.000Z" itemprop="datePublished">2019-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/thread-and-thread-pool/">çº¿ç¨‹ä¸çº¿ç¨‹æ± </a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h2><ul>
<li><code>Thread</code> æ˜¯å‰å°çº¿ç¨‹ï¼Œå¯åŠ¨åéœ€è¦æ‰§è¡Œå®Œæˆåæ‰ä¼šé€€å‡ºã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡ <code>IsBackground</code> å°†å…¶è®¾ç½®ä¸ºåå°çº¿ç¨‹ï¼Œç¨‹åºé€€å‡ºè¯¥çº¿ç¨‹ä¹Ÿä¼šç«‹å³é€€å‡ºã€‚</li>
<li>å¦‚æœå¸Œæœ›ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆåå†ç»§ç»­æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨ <code>Join()</code> æ–¹æ³•ã€‚</li>
<li><code>Thread</code> æ²¡æœ‰å›è°ƒï¼Œä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚</li>
</ul>
<h2 id="ThreadPool"><a href="#ThreadPool" class="headerlink" title="ThreadPool"></a>ThreadPool</h2><h3 id="CLRçº¿ç¨‹æ± ï¼š"><a href="#CLRçº¿ç¨‹æ± ï¼š" class="headerlink" title="CLRçº¿ç¨‹æ± ï¼š"></a>CLRçº¿ç¨‹æ± ï¼š</h3><p>ç®¡ç†çº¿ç¨‹å¼€é”€æœ€å¥½çš„æ–¹å¼ï¼š</p>
<ul>
<li>å°½é‡å°‘çš„åˆ›å»ºçº¿ç¨‹å¹¶ä¸”èƒ½å°†çº¿ç¨‹åå¤åˆ©ç”¨(çº¿ç¨‹æ± åˆå§‹åŒ–æ—¶æ²¡æœ‰çº¿ç¨‹ï¼Œæœ‰ç¨‹åºè¯·æ±‚çº¿ç¨‹åˆ™åˆ›å»ºçº¿ç¨‹)ï¼›</li>
<li>æœ€å¥½ä¸è¦é”€æ¯è€Œæ˜¯æŒ‚èµ·çº¿ç¨‹è¾¾åˆ°é¿å…æ€§èƒ½æŸå¤±(çº¿ç¨‹æ± åˆ›å»ºçš„çº¿ç¨‹å®Œæˆä»»åŠ¡åä»¥æŒ‚èµ·çŠ¶æ€å›åˆ°çº¿ç¨‹æ± ä¸­ï¼Œç­‰å¾…ä¸‹æ¬¡è¯·æ±‚)ï¼›</li>
<li>é€šè¿‡ä¸€ä¸ªæŠ€æœ¯è¾¾åˆ°è®©åº”ç”¨ç¨‹åºä¸€ä¸ªä¸ªæ‰§è¡Œå·¥ä½œï¼Œç±»ä¼¼äºä¸€ä¸ªé˜Ÿåˆ—(å¤šä¸ªåº”ç”¨ç¨‹åºè¯·æ±‚çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± ä¼šå°†å„ä¸ªåº”ç”¨ç¨‹åºæ’é˜Ÿå¤„ç†)ï¼›</li>
<li>å¦‚æœæŸä¸€çº¿ç¨‹é•¿æ—¶é—´æŒ‚èµ·è€Œä¸å·¥ä½œçš„è¯ï¼Œéœ€è¦å½»åº•é”€æ¯å¹¶ä¸”é‡Šæ”¾èµ„æº(çº¿ç¨‹æ± è‡ªåŠ¨ç›‘æ§é•¿æ—¶é—´ä¸å·¥ä½œçš„çº¿ç¨‹ï¼Œè‡ªåŠ¨é”€æ¯)ï¼›</li>
<li>å¦‚æœçº¿ç¨‹ä¸å¤Ÿç”¨çš„è¯èƒ½å¤Ÿåˆ›å»ºçº¿ç¨‹ï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥è‡ªå·±å®šåˆ¶æœ€å¤§çº¿ç¨‹åˆ›å»ºçš„æ•°é‡(å½“é˜Ÿåˆ—è¿‡é•¿ï¼Œçº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹ä¸å¤Ÿç”¨æ—¶ï¼Œçº¿ç¨‹æ± ä¸ä¼šåè§†ä¸ç†)ï¼›</li>
</ul>
<p>å®ç°ï¼š</p>
<ul>
<li><code>C#2.0</code> æ—¶æ”¯æŒï¼Œå®ç°ä¸ºäº«å…ƒæ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€‚</li>
<li>CLRçº¿ç¨‹æ± å¹¶ä¸ä¼šåœ¨CLRåˆå§‹åŒ–æ—¶ç«‹å³å»ºç«‹çº¿ç¨‹ï¼Œè€Œæ˜¯åœ¨åº”ç”¨ç¨‹åºè¦åˆ›å»ºçº¿ç¨‹æ¥è¿è¡Œä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± æ‰åˆå§‹åŒ–ä¸€ä¸ªçº¿ç¨‹ã€‚</li>
<li>çº¿ç¨‹æ± åˆå§‹åŒ–æ—¶æ˜¯æ²¡æœ‰çº¿ç¨‹çš„ï¼Œçº¿ç¨‹æ± é‡Œçš„ã€‚çº¿ç¨‹çš„åˆå§‹åŒ–ä¸å…¶ä»–çº¿ç¨‹ä¸€æ ·ï¼Œä½†æ˜¯åœ¨å®Œæˆä»»åŠ¡ä»¥åï¼Œè¯¥çº¿ç¨‹ä¸ä¼šè‡ªè¡Œé”€æ¯ï¼Œè€Œæ˜¯ä»¥æŒ‚èµ·çš„çŠ¶æ€è¿”å›åˆ°çº¿ç¨‹æ± ã€‚ç›´åˆ°åº”ç”¨ç¨‹åºå†æ¬¡å‘çº¿ç¨‹æ± å‘å‡ºè¯·æ±‚æ—¶ï¼Œçº¿ç¨‹æ± é‡ŒæŒ‚èµ·çš„çº¿ç¨‹å°±ä¼šå†åº¦æ¿€æ´»æ‰§è¡Œä»»åŠ¡ã€‚è¿™æ ·æ—¢èŠ‚çœäº†å»ºç«‹çº¿ç¨‹æ‰€é€ æˆçš„æ€§èƒ½æŸè€—ï¼Œä¹Ÿå¯ä»¥è®©å¤šä¸ªä»»åŠ¡åå¤é‡ç”¨åŒä¸€çº¿ç¨‹ï¼Œä»è€Œåœ¨åº”ç”¨ç¨‹åºç”Ÿå­˜æœŸå†…èŠ‚çº¦å¤§é‡å¼€é”€ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>é€šè¿‡CLRçº¿ç¨‹æ± æ‰€å»ºç«‹çš„çº¿ç¨‹æ€»æ˜¯é»˜è®¤ä¸ºåå°çº¿ç¨‹ï¼Œä¼˜å…ˆçº§æ•°ä¸ºThreadPriority.Normalã€‚</p>
<h3 id="å·¥ä½œè€…çº¿ç¨‹ä¸I-Oçº¿ç¨‹"><a href="#å·¥ä½œè€…çº¿ç¨‹ä¸I-Oçº¿ç¨‹" class="headerlink" title="å·¥ä½œè€…çº¿ç¨‹ä¸I/Oçº¿ç¨‹"></a>å·¥ä½œè€…çº¿ç¨‹ä¸I/Oçº¿ç¨‹</h3><p><code>CLR</code> çº¿ç¨‹æ± åˆ†ä¸ºå·¥ä½œè€…çº¿ç¨‹( <code>workerThreads</code> )ä¸ <code>I/O</code> çº¿ç¨‹( <code>completionPortThreads</code> )ä¸¤ç§:</p>
<ul>
<li>å·¥ä½œè€…çº¿ç¨‹ï¼šä¸»è¦ç”¨ä½œç®¡ç† <code>CLR</code> å†…éƒ¨å¯¹è±¡çš„è¿ä½œï¼Œé€šå¸¸ç”¨äºè®¡ç®—å¯†é›†çš„ä»»åŠ¡ã€‚</li>
<li><code>I/O</code> ( <code>Input</code>/ <code>Output</code> )çº¿ç¨‹ä¸»è¦ç”¨äºä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ä¿¡æ¯ï¼Œå¦‚è¾“å…¥è¾“å‡ºï¼Œ <code>CPU</code> ä»…éœ€åœ¨ä»»åŠ¡å¼€å§‹çš„æ—¶å€™ï¼Œå°†ä»»åŠ¡çš„å‚æ•°ä¼ é€’ç»™è®¾å¤‡ï¼Œç„¶åå¯åŠ¨ç¡¬ä»¶è®¾å¤‡å³å¯ã€‚ç­‰ä»»åŠ¡å®Œæˆçš„æ—¶å€™ï¼Œ <code>CPU</code> æ”¶åˆ°ä¸€ä¸ªé€šçŸ¥ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸€ä¸ªç¡¬ä»¶çš„ä¸­æ–­ä¿¡å·ï¼Œæ­¤æ—¶ <code>CPU</code> ç»§ç»­åç»§çš„å¤„ç†å·¥ä½œã€‚åœ¨å¤„ç†è¿‡ç¨‹ä¸­ï¼Œ <code>CPU</code> æ˜¯ä¸å¿…å®Œå…¨å‚ä¸å¤„ç†è¿‡ç¨‹çš„ï¼Œå¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ä¸äº¤å‡º <code>CPU</code> çš„æ§åˆ¶æƒï¼Œé‚£ä¹ˆçº¿ç¨‹ä¹Ÿåªèƒ½å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå³ä½¿æ“ä½œç³»ç»Ÿå°†å½“å‰çš„ <code>CPU</code> è°ƒåº¦ç»™å…¶ä»–çº¿ç¨‹ï¼Œæ­¤æ—¶çº¿ç¨‹æ‰€å ç”¨çš„ç©ºé—´è¿˜æ˜¯è¢«å ç”¨ï¼Œè€Œå¹¶æ²¡æœ‰ <code>CPU</code> å¤„ç†è¿™ä¸ªçº¿ç¨‹ï¼Œå¯èƒ½å‡ºç°çº¿ç¨‹èµ„æºæµªè´¹çš„é—®é¢˜ã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ªç½‘ç»œæœåŠ¡ç¨‹åºï¼Œæ¯ä¸€ä¸ªç½‘ç»œè¿æ¥éƒ½ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ç®¡ç†ï¼Œå¯èƒ½å‡ºç°å¤§é‡çº¿ç¨‹éƒ½åœ¨ç­‰å¾…ç½‘ç»œé€šä¿¡ï¼Œéšç€ç½‘ç»œè¿æ¥çš„ä¸æ–­å¢åŠ ï¼Œå¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹å°†ä¼šå¾ˆæ¶ˆè€—å°½æ‰€æœ‰çš„å†…å­˜èµ„æºã€‚å¯ä»¥è€ƒè™‘ä½¿ç”¨çº¿ç¨‹æ± è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li>
</ul>
<p>çº¿ç¨‹æ± çš„æœ€å¤§å€¼ä¸€èˆ¬é»˜è®¤ä¸º1000ã€2000ã€‚å½“å¤§äºæ­¤æ•°ç›®çš„è¯·æ±‚æ—¶ï¼Œå°†ä¿æŒæ’é˜ŸçŠ¶æ€ï¼Œç›´åˆ°çº¿ç¨‹æ± é‡Œæœ‰çº¿ç¨‹å¯ç”¨ã€‚</p>
<p>ä½¿ç”¨ <code>CLR</code> çº¿ç¨‹æ± çš„å·¥ä½œè€…çº¿ç¨‹ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>é€šè¿‡ <code>ThreadPool.QueueUserWorkItem()</code> æ–¹æ³•ï¼›</li>
<li>é€šè¿‡å§”æ‰˜ï¼›</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ä¸è®ºæ˜¯é€šè¿‡ThreadPool.QueueUserWorkItem()è¿˜æ˜¯å§”æ‰˜ï¼Œè°ƒç”¨çš„éƒ½æ˜¯çº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹ã€‚</p>
<h3 id="ThreadPool-ç±»å¸¸ç”¨æ–¹æ³•"><a href="#ThreadPool-ç±»å¸¸ç”¨æ–¹æ³•" class="headerlink" title="ThreadPool ç±»å¸¸ç”¨æ–¹æ³•"></a><code>ThreadPool</code> ç±»å¸¸ç”¨æ–¹æ³•</h3><p>é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è¯»å–å’Œè®¾ç½®CLRçº¿ç¨‹æ± ä¸­å·¥ä½œè€…çº¿ç¨‹ä¸I/Oçº¿ç¨‹çš„æœ€å¤§çº¿ç¨‹æ•°ï¼š</p>
<ul>
<li><code>ThreadPool.GetMax(out in workerThreads,out int completionPortThreads)</code></li>
<li><code>ThreadPool.SetMax(int workerThreads,int completionPortThreads)</code></li>
</ul>
<p>è‹¥æƒ³æµ‹è¯•çº¿ç¨‹æ± ä¸­æœ‰å¤šå°‘çº¿ç¨‹æ­£åœ¨æŠ•å…¥ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ <code>ThreadPool.GetAvailableThreads(out in workThreads,out int conoletionPortThreads)</code> æ–¹æ³•ã€‚</p>
<table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>GetAvailableThreads</code></td>
<td align="left">å‰©ä½™ç©ºé—²çº¿ç¨‹æ•°</td>
</tr>
<tr>
<td align="left"><code>GetMaxThreads</code></td>
<td align="left">æœ€å¤šå¯ç”¨çº¿ç¨‹æ•°ï¼Œæ‰€æœ‰å¤§äºæ­¤æ•°ç›®çš„è¯·æ±‚å°†ä¿æŒæ’é˜ŸçŠ¶æ€ï¼Œç›´åˆ°çº¿ç¨‹æ± çº¿ç¨‹å˜ä¸ºå¯ç”¨</td>
</tr>
<tr>
<td align="left"><code>GetMinThreads</code></td>
<td align="left">æ£€ç´¢çº¿ç¨‹æ± åœ¨æ–°è¯·æ±‚é¢„æµ‹ä¸­ç»´æŠ¤çš„ç©ºé—²çº¿ç¨‹æ•°ã€‚</td>
</tr>
<tr>
<td align="left"><code>QueueUserWorkItem</code></td>
<td align="left">å¯åŠ¨çº¿ç¨‹æ± é‡Œå¾—ä¸€ä¸ªçº¿ç¨‹(é˜Ÿåˆ—çš„æ–¹å¼ï¼Œå¦‚çº¿ç¨‹æ± æš‚æ—¶æ²¡ç©ºé—²çº¿ç¨‹ï¼Œåˆ™è¿›å…¥é˜Ÿåˆ—æ’é˜Ÿ)</td>
</tr>
<tr>
<td align="left"><code>SetMaxThreads</code></td>
<td align="left">è®¾ç½®çº¿ç¨‹æ± ä¸­çš„æœ€å¤§çº¿ç¨‹æ•°</td>
</tr>
<tr>
<td align="left"><code>SetMinThreads</code></td>
<td align="left">è®¾ç½®çº¿ç¨‹æ± æœ€å°‘éœ€è¦ä¿ç•™çš„çº¿ç¨‹æ•°</td>
</tr>
</tbody></table>
<h3 id="å„ç§è°ƒç”¨çº¿ç¨‹æ± çº¿ç¨‹çš„æ–¹æ³•"><a href="#å„ç§è°ƒç”¨çº¿ç¨‹æ± çº¿ç¨‹çš„æ–¹æ³•" class="headerlink" title="å„ç§è°ƒç”¨çº¿ç¨‹æ± çº¿ç¨‹çš„æ–¹æ³•"></a>å„ç§è°ƒç”¨çº¿ç¨‹æ± çº¿ç¨‹çš„æ–¹æ³•</h3><h4 id="é€šè¿‡-QueueUserWorkItem-å¯åŠ¨å·¥ä½œè€…çº¿ç¨‹"><a href="#é€šè¿‡-QueueUserWorkItem-å¯åŠ¨å·¥ä½œè€…çº¿ç¨‹" class="headerlink" title="é€šè¿‡ QueueUserWorkItem å¯åŠ¨å·¥ä½œè€…çº¿ç¨‹"></a>é€šè¿‡ <code>QueueUserWorkItem</code> å¯åŠ¨å·¥ä½œè€…çº¿ç¨‹</h4><p><code>ThreadPool</code> çº¿ç¨‹æ± ä¸­æœ‰ä¸¤ä¸ªé‡è½½çš„é™æ€æ–¹æ³•å¯ä»¥ç›´æ¥å¯åŠ¨å·¥ä½œè€…</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ThreadPool.QueueUserWorkItem(waitCallback);</span><br><span class="line">ThreadPool.QueueUserWorkItem(waitCallback,Object);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ <code>ThreadPool.QueueUserWork</code> å¯åŠ¨å·¥ä½œè€…çº¿ç¨‹éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯ <code>WaitCallback</code> å§”æ‰˜æŒ‡å‘çš„å¿…é¡»æ˜¯ä¸€ä¸ªå¸¦æœ‰ <code>object</code> å‚æ•°çš„æ— è¿”å›å€¼æ–¹æ³•ã€‚æ‰€ä»¥è¿™ä¸ªæ–¹æ³•å¯åŠ¨çš„å·¥ä½œè€…çº¿ç¨‹ä»…ä»…é€‚åˆäºå¸¦å•ä¸ªå‚æ•°å’Œæ— è¿”å›å€¼çš„æƒ…å†µã€‚å¦‚æœè¦ä¼ é€’å¤šä¸ªå‚æ•°å’Œè¦æœ‰è¿”å›å€¼ï¼Œé‚£å°±åªæœ‰é€šè¿‡å§”æ‰˜ã€‚</p>
<h4 id="BeginInvoke-ä¸-EndInvoke-å§”æ‰˜å¼‚æ­¥è°ƒç”¨çº¿ç¨‹"><a href="#BeginInvoke-ä¸-EndInvoke-å§”æ‰˜å¼‚æ­¥è°ƒç”¨çº¿ç¨‹" class="headerlink" title="BeginInvoke ä¸ EndInvoke å§”æ‰˜å¼‚æ­¥è°ƒç”¨çº¿ç¨‹"></a><code>BeginInvoke</code> ä¸ <code>EndInvoke</code> å§”æ‰˜å¼‚æ­¥è°ƒç”¨çº¿ç¨‹</h4><ol>
<li>å»ºç«‹ä¸€ä¸ªå§”æ‰˜å¯¹è±¡ï¼Œé€šè¿‡ <code>IAsyncResult BeginInvoke(string name,AsyncCallback callback,object state)</code> å¼‚æ­¥è°ƒç”¨å§”æ‰˜æ–¹æ³•ï¼Œ <code>BeginInvoke</code> æ–¹æ³•é™¤æœ€åçš„ä¸¤ä¸ªå‚æ•°å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æ˜¯ä¸æ–¹æ³•å‚æ•°ç›¸å¯¹åº”çš„;</li>
<li>åˆ©ç”¨ <code>EndInvoke</code> ( <code>IAsyncResult</code> â€“ä¸Šä¸€æ­¥ <code>BeginInvoke</code> è¿”å›çš„å¯¹è±¡)æ–¹æ³•å°±å¯ä»¥ç»“æŸå¼‚æ­¥æ“ä½œï¼Œè·å–å§”æ‰˜çš„è¿è¡Œç»“æœ;</li>
</ol>
<p><strong>ç¼ºç‚¹ï¼š</strong>ä¸çŸ¥é“å¼‚æ­¥æ“ä½œä»€ä¹ˆæ—¶å€™æ‰§è¡Œå®Œï¼Œä»€ä¹ˆæ—¶å€™å¼€å§‹è°ƒç”¨EndInvokeï¼Œå› ä¸ºä¸€æ—¦EndInvokeä¸»çº¿ç¨‹å°±ä¼šå¤„äºé˜»å¡ç­‰å¾…çŠ¶æ€ã€‚</p>
<h4 id="IAsyncResult-è½®è¯¢"><a href="#IAsyncResult-è½®è¯¢" class="headerlink" title="IAsyncResult è½®è¯¢"></a><code>IAsyncResult</code> è½®è¯¢</h4><p>å…‹æœä¸Šé¢æåˆ°çš„ç¼ºç‚¹ï¼Œå¯ä»¥å¥½å¥½åˆ©ç”¨ <code>IAsyncResult</code> æé«˜ä¸»çº¿ç¨‹çš„å·¥ä½œæ€§èƒ½ï¼š</p>
<ul>
<li><code>IsCompleted</code> å±æ€§ï¼šè·å–å¼‚æ­¥æ“ä½œæ˜¯å¦å·²å®Œæˆï¼›</li>
<li><code>WaitOne</code> ï¼šåˆ¤æ–­å•ä¸ªå¼‚æ­¥çº¿ç¨‹æ˜¯å¦å®Œæˆï¼›</li>
<li><code>WaitAny</code> ï¼šåˆ¤æ–­æ˜¯å¦å¼‚æ­¥çº¿ç¨‹æ˜¯å¦æœ‰æŒ‡å®šæ•°é‡ä¸ªå·²å®Œæˆï¼›</li>
<li><code>WaitAll</code> ï¼šåˆ¤æ–­æ˜¯å¦æ‰€æœ‰çš„å¼‚æ­¥çº¿ç¨‹å·²å®Œæˆï¼›</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Func&lt;<span class="built_in">string</span>, <span class="built_in">int</span>, <span class="built_in">string</span>&gt; func = (name, age) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Thread.Sleep(<span class="number">20000</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">$&quot;My name is <span class="subst">&#123;name&#125;</span>, I&#x27;m <span class="subst">&#123;age&#125;</span> years old.&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line">IAsyncResult asyncResult = func.BeginInvoke(<span class="string">&quot;Jane&quot;</span>, <span class="number">12</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line"><span class="comment">//IAsyncResult.IsCompletedå±æ€§</span></span><br><span class="line"><span class="keyword">while</span> (!asyncResult.IsCompleted)</span><br><span class="line">&#123;</span><br><span class="line">    Thread.Sleep(<span class="number">500</span>);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;*************WAITING*************&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span>/AsyncWaitHandle.WaitOne()æ–¹æ³•</span></span><br><span class="line"><span class="comment">//while (!asyncResult.AsyncWaitHandle.WaitOne(200))</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    Console.WriteLine(&quot;*************WAITING*************&quot;);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>/WaitHandle.WaitAny()æ–¹æ³•</span></span><br><span class="line"><span class="comment">//WaitHandle[] waitHandleList1 = new WaitHandle[] &#123; asyncResult.AsyncWaitHandle &#125;;</span></span><br><span class="line"><span class="comment">//while (WaitHandle.WaitAny(waitHandleList1, 200) &gt; 0)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    Console.WriteLine(&quot;*************WAITING*************&quot;);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>/WaitHandle.WaitAll()æ–¹æ³•</span></span><br><span class="line"><span class="comment">//WaitHandle[] waitHandleList2 = new WaitHandle[] &#123; asyncResult.AsyncWaitHandle &#125;;</span></span><br><span class="line"><span class="comment">//while (WaitHandle.WaitAll(waitHandleList2, 200))</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    Console.WriteLine(&quot;*************WAITING*************&quot;);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">Console.WriteLine(func.EndInvoke(asyncResult));</span><br></pre></td></tr></table></figure>
<h4 id="IAsyncResult-å›è°ƒå‡½æ•°"><a href="#IAsyncResult-å›è°ƒå‡½æ•°" class="headerlink" title="IAsyncResult å›è°ƒå‡½æ•°"></a><code>IAsyncResult</code> å›è°ƒå‡½æ•°</h4><p>ä½¿ç”¨è½®è¯¢æ–¹å¼æ¥æ£€æµ‹å¼‚æ­¥æ–¹æ³•çš„çŠ¶æ€éå¸¸éº»çƒ¦ï¼Œè€Œä¸”å½±å“äº†ä¸»çº¿ç¨‹ï¼Œæ•ˆç‡ä¸é«˜ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨IAsyncResultå¯¹è±¡ï¼Œå½“å¼‚æ­¥çº¿ç¨‹å®Œæˆäº†å°±ç›´æ¥è°ƒç”¨å®ç°å®šä¹‰å¥½çš„å¤„ç†å‡½æ•°ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Func&lt;<span class="built_in">string</span>, <span class="built_in">int</span>, <span class="built_in">string</span>&gt; func = (name, age) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Thread.Sleep(<span class="number">2000</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">$&quot;My name is <span class="subst">&#123;name&#125;</span>, I&#x27;m <span class="subst">&#123;age&#125;</span> years old.&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line">IAsyncResult asyncResult = <span class="literal">null</span>;</span><br><span class="line">AsyncCallback callback = (t) =&gt; </span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(func.EndInvoke(asyncResult));</span><br><span class="line">&#125;;</span><br><span class="line">asyncResult = func.BeginInvoke(<span class="string">&quot;Jane&quot;</span>, <span class="number">12</span>, callback, <span class="literal">null</span>);</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å›è°ƒå‡½æ•°ä¾ç„¶æ˜¯åœ¨è¾…åŠ©çº¿ç¨‹ä¸­æ‰§è¡Œçš„ï¼Œè¿™æ ·å°±ä¸ä¼šå½±å“ä¸»çº¿ç¨‹çš„è¿è¡Œã€‚</li>
<li>çº¿ç¨‹æ± çš„çº¿ç¨‹é»˜è®¤æ˜¯åå°çº¿ç¨‹ã€‚ä½†æ˜¯å¦‚æœä¸»çº¿ç¨‹æ¯”è¾…åŠ©çº¿ç¨‹ä¼˜å…ˆå®Œæˆï¼Œé‚£ä¹ˆç¨‹åºå·²ç»å¸è½½ï¼Œå›è°ƒå‡½æ•°æœªå¿…ä¼šæ‰§è¡Œã€‚å¦‚æœä¸å¸Œæœ›ä¸¢å¤±å›è°ƒå‡½æ•°ä¸­çš„æ“ä½œï¼Œè¦ä¹ˆæŠŠå¼‚æ­¥çº¿ç¨‹è®¾ä¸ºå‰å°çº¿ç¨‹ï¼Œè¦ä¹ˆç¡®ä¿ä¸»çº¿ç¨‹å°†æ¯”è¾…åŠ©çº¿ç¨‹è¿Ÿå®Œæˆã€‚</li>
</ul>
<h3 id="ManualResetEvent"><a href="#ManualResetEvent" class="headerlink" title="ManualResetEvent"></a><code>ManualResetEvent</code></h3><p>å¸¸ç”¨æ–¹æ³•ï¼š <code>Set()</code> ã€ <code>ReSet()</code> ã€ <code>WaitOne()</code></p>
<ul>
<li><code>Set()</code> : ç”¨äºå‘ <code>ManualResetEvent</code> å‘é€ä¿¡å·ï¼Œä½¿å…¶å–æ¶ˆé˜»å¡çŠ¶æ€ï¼ˆå”¤é†’è¿›ç¨‹ï¼‰æˆ–è€…å¼€å§‹é˜»å¡è¿›ç¨‹ï¼Œè¿™åŸºäº  <code>ManualResetEvent</code> çš„åˆå§‹çŠ¶æ€ã€‚</li>
<li><code>ReSet()</code> : å°† <code>ManualResetEvent</code> çš„çŠ¶æ€é‡ç½®è‡³åˆå§‹çŠ¶æ€ï¼ˆå³ä½¿ç”¨ <code>Set()</code> æ–¹æ³•ä¹‹å‰çš„çŠ¶æ€ï¼‰ã€‚</li>
<li><code>WaitOne()</code> : ä½¿ <code>ManualResetEvent</code> è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå¼€å§‹ç­‰å¾…å”¤é†’ä¿¡å·ã€‚å¦‚æœæœ‰ä¿¡å·ï¼Œåˆ™ä¸ä¼šé˜»å¡ï¼Œç›´æ¥é€šè¿‡ã€‚</li>
<li>ä¿¡å· : å½“ <code>new ManualResetEvent(bool arg)</code> æ—¶ï¼Œ <code>arg</code> å‚æ•°å°±æ˜¯ä¿¡å·çŠ¶æ€ï¼Œå‡å¦‚ä¸º <code>false</code> ï¼Œåˆ™è¡¨ç¤ºå½“å‰æ— ä¿¡å·ï¼Œå¦‚æœä¸º <code>true</code> ï¼Œåˆ™æœ‰ä¿¡å·ã€‚</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/thread-and-thread-pool/" data-id="cklhsu170001705rjb4529cco" data-title="çº¿ç¨‹ä¸çº¿ç¨‹æ± " class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag">å¤šçº¿ç¨‹</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190402-asynchronous-and-multithreading" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/asynchronous-and-multithreading/" class="article-date">
  <time class="dt-published" datetime="2019-04-02T14:18:00.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a>â–º<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/asynchronous-and-multithreading/">å¼‚æ­¥å¤šçº¿ç¨‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h3><p>é¦–å…ˆæ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œå¯ä»¥æŸ¥çœ‹ç”µè„‘å½“å‰è¿è¡Œçš„è¿›ç¨‹ã€‚  </p>
<p>ä»ä»»åŠ¡ç®¡ç†å™¨é‡Œé¢å¯ä»¥çœ‹åˆ°å½“å‰æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚</p>
<p><strong>é‚£ä¹ˆç©¶ç«Ÿä»€ä¹ˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿ</strong></p>
<p>è¿›ç¨‹( <code>Process</code> )æ˜¯ <code>Windows</code> ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œå®ƒåŒ…å«ç€ä¸€ä¸ªè¿è¡Œç¨‹åºæ‰€éœ€è¦çš„èµ„æºã€‚ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºåœ¨æ“ä½œç³»ç»Ÿä¸­è¢«è§†ä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹å¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚  </p>
<p>çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…å¤„ç†å™¨æ—¶é—´çš„åŸºæœ¬å•å…ƒï¼Œåœ¨è¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œä»£ç ã€‚è¿›ç¨‹ä¹‹é—´æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ï¼Œä¸€ä¸ªè¿›ç¨‹æ— æ³•è®¿é—®å¦ä¸€ä¸ªè¿›ç¨‹çš„æ•°æ®(é™¤éåˆ©ç”¨åˆ†å¸ƒå¼è®¡ç®—æ–¹å¼)ï¼Œä¸€ä¸ªè¿›ç¨‹è¿è¡Œçš„å¤±è´¥ä¹Ÿä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹çš„è¿è¡Œï¼Œ <code>Windows</code> ç³»ç»Ÿå°±æ˜¯åˆ©ç”¨è¿›ç¨‹æŠŠå·¥ä½œåˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„åŒºåŸŸçš„ã€‚  </p>
<p>è¿›ç¨‹å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç¨‹åºçš„åŸºæœ¬è¾¹ç•Œã€‚æ˜¯åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªè¿è¡Œä¾‹ç¨‹ï¼Œæ˜¯åº”ç”¨ç¨‹åºçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œè¿‡ç¨‹ã€‚</p>
<h3 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h3><p>åœ¨ä»»åŠ¡ç®¡ç†å™¨ï¼Œ æ€§èƒ½ -&gt; <code>CPU</code> ä¸­å¯ä»¥æŸ¥çœ‹å½“å‰ç”µè„‘å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°é‡ã€‚  </p>
<p>çº¿ç¨‹( <code>Thread</code> )æ˜¯è¿›ç¨‹ä¸­çš„åŸºæœ¬æ‰§è¡Œå•å…ƒï¼Œæ˜¯æ“ä½œç³»ç»Ÿåˆ†é… <code>CPU</code> æ—¶é—´çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«è‹¥å¹²ä¸ªçº¿ç¨‹ï¼Œåœ¨è¿›ç¨‹å…¥å£æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªçº¿ç¨‹è¢«è§†ä¸ºè¿™ä¸ªè¿›ç¨‹çš„ä¸»çº¿ç¨‹ã€‚  </p>
<p>åœ¨ <code>.NET</code> åº”ç”¨ç¨‹åºä¸­ï¼Œéƒ½æ˜¯ä»¥ <code>Main()</code> æ–¹æ³•ä½œä¸ºå…¥å£çš„ï¼Œå½“è°ƒç”¨æ­¤æ–¹æ³•æ—¶ç³»ç»Ÿå°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ã€‚çº¿ç¨‹ä¸»è¦æ˜¯ç”± <code>CPU</code> å¯„å­˜å™¨ã€è°ƒç”¨æ ˆå’Œçº¿ç¨‹æœ¬åœ°å­˜å‚¨å™¨( <code>Thread Local Storage</code> ï¼Œ <code>TLS</code> )ç»„æˆçš„ã€‚  </p>
<p><code>CPU</code> å¯„å­˜å™¨ä¸»è¦è®°å½•å½“å‰æ‰€æ‰§è¡Œçº¿ç¨‹çš„çŠ¶æ€ï¼Œè°ƒç”¨æ ˆä¸»è¦ç”¨äºç»´æŠ¤çº¿ç¨‹æ‰€è°ƒç”¨åˆ°çš„å†…å­˜ä¸æ•°æ®ï¼Œ <code>TLS</code> ä¸»è¦ç”¨äºå­˜æ”¾çº¿ç¨‹çš„çŠ¶æ€ä¿¡æ¯ã€‚</p>
<h2 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h2><h3 id="å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"><a href="#å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"></a>å¤šçº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</h3><p>å¤šçº¿ç¨‹çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¯ä»¥åŒæ—¶å®Œæˆå¤šä¸ªä»»åŠ¡ï¼›</li>
<li>å¯ä»¥ä½¿ç¨‹åºçš„å“åº”é€Ÿåº¦æ›´å¿«ï¼›</li>
<li>å¯ä»¥è®©å ç”¨å¤§é‡å¤„ç†æ—¶é—´çš„ä»»åŠ¡æˆ–å½“å‰æ²¡æœ‰è¿›è¡Œå¤„ç†çš„ä»»åŠ¡å®šæœŸå°†å¤„ç†æ—¶é—´è®©ç»™åˆ«çš„ä»»åŠ¡ï¼›</li>
<li>å¯ä»¥éšæ—¶åœæ­¢ä»»åŠ¡ï¼›</li>
<li>å¯ä»¥è®¾ç½®æ¯ä¸ªä»»åŠ¡çš„ä¼˜å…ˆçº§ä»¥ä¼˜åŒ–ç¨‹åºæ€§èƒ½ã€‚</li>
</ul>
<p>é‚£ä¹ˆå¯èƒ½æœ‰äººä¼šé—®ï¼šä¸ºä»€ä¹ˆå¯ä»¥å¤šçº¿ç¨‹æ‰§è¡Œå‘¢ï¼Ÿ</p>
<p>æ€»ç»“èµ·æ¥æœ‰ä¸‹é¢ä¸¤æ–¹é¢çš„åŸå› ï¼š</p>
<ul>
<li>CPUè¿è¡Œé€Ÿåº¦å¤ªå¿«ï¼Œç¡¬ä»¶å¤„ç†é€Ÿåº¦è·Ÿä¸ä¸Šï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿè¿›è¡Œåˆ†æ—¶é—´ç‰‡ç®¡ç†ã€‚è¿™æ ·ï¼Œä»å®è§‚è§’åº¦æ¥è¯´æ˜¯å¤šçº¿ç¨‹å¹¶å‘çš„ï¼Œå› ä¸ºCPUé€Ÿåº¦å¤ªå¿«ï¼Œå¯Ÿè§‰ä¸åˆ°ï¼Œçœ‹èµ·æ¥æ˜¯åŒä¸€æ—¶åˆ»æ‰§è¡Œäº†ä¸åŒçš„æ“ä½œã€‚ä½†æ˜¯ä»å¾®è§‚è§’åº¦æ¥è®²ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å¤„ç†ã€‚</li>
<li>ç›®å‰ç”µè„‘éƒ½æ˜¯å¤šæ ¸å¤šCPUçš„ï¼Œä¸€ä¸ªCPUåœ¨åŒä¸€æ—¶åˆ»åªèƒ½è¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å¤šä¸ªCPUåœ¨åŒä¸€æ—¶åˆ»å°±å¯ä»¥è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œå¤šçº¿ç¨‹è™½ç„¶æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä½†æ˜¯ä¹Ÿå¿…é¡»è®¤è¯†åˆ°å¤šçº¿ç¨‹å¯èƒ½å­˜åœ¨å½±å“ç³»ç»Ÿæ€§èƒ½çš„ä¸åˆ©æ–¹é¢ï¼Œæ‰èƒ½æ­£ç¡®ä½¿ç”¨çº¿ç¨‹ã€‚</p>
<p>ä¸åˆ©æ–¹é¢ä¸»è¦æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>çº¿ç¨‹ä¹Ÿæ˜¯ç¨‹åºï¼Œæ‰€ä»¥çº¿ç¨‹éœ€è¦å ç”¨å†…å­˜ï¼Œçº¿ç¨‹è¶Šå¤šï¼Œå ç”¨å†…å­˜ä¹Ÿè¶Šå¤šã€‚</li>
<li>å¤šçº¿ç¨‹éœ€è¦åè°ƒå’Œç®¡ç†ï¼Œæ‰€ä»¥éœ€è¦å ç”¨CPUæ—¶é—´ä»¥ä¾¿è·Ÿè¸ªçº¿ç¨‹ã€‚</li>
<li>çº¿ç¨‹ä¹‹é—´å¯¹å…±äº«èµ„æºçš„è®¿é—®ä¼šç›¸äº’å½±å“ï¼Œå¿…é¡»è§£å†³äº‰ç”¨å…±äº«èµ„æºçš„é—®é¢˜ã€‚</li>
<li>çº¿ç¨‹å¤ªå¤šä¼šå¯¼è‡´æ§åˆ¶å¤ªå¤æ‚ï¼Œæœ€ç»ˆå¯èƒ½é€ æˆå¾ˆå¤šç¨‹åºç¼ºé™·ã€‚</li>
</ul>
<h4 id="å¤šçº¿ç¨‹-1"><a href="#å¤šçº¿ç¨‹-1" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h4><p>å½“å¯åŠ¨ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºæ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ã€‚åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œ <code>C#</code> ç¨‹åºå…·æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œæ­¤çº¿ç¨‹æ‰§è¡Œç¨‹åºä¸­ä»¥ <code>Main</code> æ–¹æ³•å¼€å§‹å’Œç»“æŸçš„ä»£ç ï¼Œ <code>Main()</code> æ–¹æ³•ç›´æ¥æˆ–é—´æ¥æ‰§è¡Œçš„æ¯ä¸€ä¸ªå‘½ä»¤éƒ½æœ‰é»˜è®¤çº¿ç¨‹(ä¸»çº¿ç¨‹)æ‰§è¡Œï¼Œå½“ <code>Main()</code> æ–¹æ³•è¿”å›æ—¶æ­¤çº¿ç¨‹ä¹Ÿå°†ç»ˆæ­¢ã€‚  </p>
<p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä»¥æ‰§è¡Œä¸è¯¥è¿›ç¨‹å…³è”çš„éƒ¨åˆ†ç¨‹åºä»£ç ã€‚åœ¨ <code>C#</code> ä¸­ï¼Œçº¿ç¨‹æ˜¯ä½¿ç”¨ <code>Thread</code> ç±»å¤„ç†çš„ï¼Œè¯¥ç±»åœ¨ <code>System.Threading</code> å‘½åç©ºé—´ä¸­ã€‚  </p>
<p>ä½¿ç”¨ <code>Thread</code> ç±»åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œåªéœ€è¦æä¾›çº¿ç¨‹å…¥å£ï¼Œçº¿ç¨‹å…¥å£å‘Šè¯‰ç¨‹åºè®©è¿™ä¸ªçº¿ç¨‹åšä»€ä¹ˆã€‚é€šè¿‡å®ä¾‹åŒ–ä¸€ä¸ª <code>Thread</code> ç±»çš„å¯¹è±¡å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚  </p>
<p>åˆ›å»ºæ–°çš„ <code>Thread</code> å¯¹è±¡æ—¶ï¼Œå°†åˆ›å»ºæ–°çš„æ‰˜ç®¡çº¿ç¨‹ã€‚ <code>Thread</code> ç±»æ¥æ”¶ä¸€ä¸ª <code>ThreadStart</code> å§”æ‰˜æˆ– <code>ParameterizedThreadStart</code> å§”æ‰˜çš„æ„é€ å‡½æ•°ï¼Œè¯¥å§”æ‰˜åŒ…è£…äº†è°ƒç”¨ <code>Start</code> æ–¹æ³•æ—¶ç”±æ–°çº¿ç¨‹è°ƒç”¨çš„æ–¹æ³•ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Thread thread=<span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(method));<span class="comment">//åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">thread.Start();                                   <span class="comment">//å¯åŠ¨çº¿ç¨‹</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç å®ä¾‹åŒ–äº†ä¸€ä¸ª <code>Thread</code> å¯¹è±¡ï¼Œå¹¶æŒ‡æ˜å°†è¦è°ƒç”¨çš„æ–¹æ³• <code>method()</code> ï¼Œç„¶åå¯åŠ¨çº¿ç¨‹ã€‚ <code>ThreadStart</code> å§”æ‰˜ä¸­ä½œä¸ºå‚æ•°çš„æ–¹æ³•ä¸éœ€è¦å‚æ•°ï¼Œå¹¶ä¸”æ²¡æœ‰è¿”å›å€¼ã€‚ <code>ParameterizedThreadStart</code> å§”æ‰˜ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œåˆ©ç”¨è¿™ä¸ªå‚æ•°å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å‘çº¿ç¨‹ä¼ é€’å‚æ•°ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Thread thread=<span class="keyword">new</span> Thread(<span class="keyword">new</span> ParameterizedThreadStart(method));<span class="comment">//åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">thread.Start(<span class="number">3</span>);                                               <span class="comment">//å¯åŠ¨çº¿ç¨‹</span></span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå¤šçº¿ç¨‹çš„æ­¥éª¤ï¼š</p>
<ol>
<li>ç¼–å†™çº¿ç¨‹æ‰€è¦æ‰§è¡Œçš„æ–¹æ³•</li>
<li>å®ä¾‹åŒ– <code>Thread</code> ç±»ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªæŒ‡å‘çº¿ç¨‹æ‰€è¦æ‰§è¡Œæ–¹æ³•çš„å§”æ‰˜ã€‚(è¿™æ—¶çº¿ç¨‹å·²ç»äº§ç”Ÿï¼Œä½†è¿˜æ²¡æœ‰è¿è¡Œ)</li>
<li>è°ƒç”¨ <code>Thread</code> å®ä¾‹çš„ <code>Start</code> æ–¹æ³•ï¼Œæ ‡è®°è¯¥çº¿ç¨‹å¯ä»¥è¢« <code>CPU</code> æ‰§è¡Œäº†ï¼Œä½†å…·ä½“æ‰§è¡Œæ—¶é—´ç”± <code>CPU</code> å†³å®š</li>
</ol>
<h3 id="System-Threading-Thread-ç±»"><a href="#System-Threading-Thread-ç±»" class="headerlink" title="System.Threading.Thread ç±»"></a><code>System.Threading.Thread</code> ç±»</h3><p>Threadç±»æ˜¯æ˜¯æ§åˆ¶çº¿ç¨‹çš„åŸºç¡€ç±»ï¼Œä½äºSystem.Threadingå‘½åç©ºé—´ä¸‹ï¼Œå…·æœ‰4ä¸ªé‡è½½çš„æ„é€ å‡½æ•°ï¼š</p>
<ul>
<li><code>Thread(ParameterizedThreadStart)</code> åˆå§‹åŒ– <code>Thread</code> ç±»çš„æ–°å®ä¾‹ï¼ŒæŒ‡å®šå…è®¸å¯¹è±¡åœ¨çº¿ç¨‹å¯åŠ¨æ—¶ä¼ é€’ç»™çº¿ç¨‹çš„å§”æ‰˜ã€‚è¦æ‰§è¡Œçš„æ–¹æ³•æ˜¯æœ‰å‚çš„ã€‚</li>
<li><code>Thread(ParameterizedThreadStart, Int32)</code> åˆå§‹åŒ– <code>Thread</code> ç±»çš„æ–°å®ä¾‹ï¼ŒæŒ‡å®šå…è®¸å¯¹è±¡åœ¨çº¿ç¨‹å¯åŠ¨æ—¶ä¼ é€’ç»™çº¿ç¨‹çš„å§”æ‰˜ï¼Œå¹¶æŒ‡å®šçº¿ç¨‹çš„æœ€å¤§å †æ ˆå¤§å°ã€‚</li>
<li><code>Thread(ThreadStart)</code> åˆå§‹åŒ– <code>Thread</code> ç±»çš„æ–°å®ä¾‹ã€‚è¦æ‰§è¡Œçš„æ–¹æ³•æ˜¯æ— å‚çš„ã€‚</li>
<li><code>Thread(ThreadStart, Int32)</code> åˆå§‹åŒ– <code>Thread</code> ç±»çš„æ–°å®ä¾‹ï¼ŒæŒ‡å®šçº¿ç¨‹çš„æœ€å¤§å †æ ˆå¤§å°ã€‚</li>
<li><code>ThreadStart</code> æ˜¯ä¸€ä¸ªæ— å‚çš„ã€è¿”å›å€¼ä¸º <code>void</code> çš„å§”æ‰˜ã€‚</li>
<li><code>ParameterizedThreadStart</code> æ˜¯ä¸€ä¸ªæœ‰å‚çš„ã€è¿”å›å€¼ä¸º <code>void</code> çš„å§”æ‰˜ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong> <code>ParameterizedThreadStart</code> å§”æ‰˜çš„å‚æ•°ç±»å‹å¿…é¡»æ˜¯ <code>Object</code> çš„ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ä¸å¸¦å‚æ•°çš„å§”æ‰˜ï¼Œä¸èƒ½ä½¿ç”¨å¸¦å‚æ•°çš„ <code>Start</code> æ–¹æ³•è¿è¡Œçº¿ç¨‹ï¼Œå¦åˆ™ç³»ç»Ÿä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ä½†ä½¿ç”¨å¸¦å‚æ•°çš„å§”æ‰˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>thread.Start()</code> æ¥è¿è¡Œçº¿ç¨‹ï¼Œè¿™æ—¶æ‰€ä¼ é€’çš„å‚æ•°å€¼ä¸º <code>null</code> ã€‚</p>
<h3 id="çº¿ç¨‹çš„å¸¸ç”¨å±æ€§"><a href="#çº¿ç¨‹çš„å¸¸ç”¨å±æ€§" class="headerlink" title="çº¿ç¨‹çš„å¸¸ç”¨å±æ€§"></a>çº¿ç¨‹çš„å¸¸ç”¨å±æ€§</h3><ul>
<li><code>CurrentContext</code> è·å–çº¿ç¨‹æ­£åœ¨å…¶ä¸­æ‰§è¡Œçš„å½“å‰ä¸Šä¸‹æ–‡ã€‚</li>
<li><code>CurrentThread</code> è·å–å½“å‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ã€‚</li>
<li><code>ExecutionContext</code> è·å–ä¸€ä¸ª <code>ExecutionContext</code> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æœ‰å…³å½“å‰çº¿ç¨‹çš„å„ç§ä¸Šä¸‹æ–‡çš„ä¿¡æ¯ã€‚</li>
<li><code>IsAlive</code> è·å–ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºå½“å‰çº¿ç¨‹çš„æ‰§è¡ŒçŠ¶æ€ã€‚</li>
<li><code>IsBackground</code> è·å–æˆ–è®¾ç½®ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºæŸä¸ªçº¿ç¨‹æ˜¯å¦ä¸ºåå°çº¿ç¨‹ã€‚</li>
<li><code>IsThreadPoolThread</code> è·å–ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºçº¿ç¨‹æ˜¯å¦å±äºæ‰˜ç®¡çº¿ç¨‹æ± ã€‚</li>
<li><code>ManagedThreadId</code> è·å–å½“å‰æ‰˜ç®¡çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</li>
<li><code>Name</code> è·å–æˆ–è®¾ç½®çº¿ç¨‹çš„åç§°ã€‚</li>
<li><code>Priority</code> è·å–æˆ–è®¾ç½®ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºçº¿ç¨‹çš„è°ƒåº¦ä¼˜å…ˆçº§ã€‚</li>
<li><code>ThreadState</code> è·å–ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼åŒ…å«å½“å‰çº¿ç¨‹çš„çŠ¶æ€ã€‚</li>
</ul>
<h4 id="çº¿ç¨‹çš„æ ‡è¯†ç¬¦"><a href="#çº¿ç¨‹çš„æ ‡è¯†ç¬¦" class="headerlink" title="çº¿ç¨‹çš„æ ‡è¯†ç¬¦"></a>çº¿ç¨‹çš„æ ‡è¯†ç¬¦</h4><p><code>ManagedThreadId</code> æ˜¯ç¡®è®¤çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç¨‹åºåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯é€šè¿‡ <code>Thread.ManagedThreadId</code> æ¥è¾¨åˆ«çº¿ç¨‹çš„ã€‚è€ŒNameæ˜¯ä¸€ä¸ªå¯å˜å€¼ï¼Œåœ¨é»˜è®¤æ—¶å€™ï¼Œ <code>Name</code> ä¸ºä¸€ä¸ªç©ºå€¼ <code>Null</code> ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ç¨‹åºè®¾ç½®çº¿ç¨‹çš„åç§°ï¼Œä½†è¿™åªæ˜¯ä¸€ä¸ªè¾…åŠ©åŠŸèƒ½ã€‚</p>
<h4 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«"><a href="#çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«" class="headerlink" title="çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«"></a>çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«</h4><p>å½“çº¿ç¨‹ä¹‹é—´äº‰å¤º <code>CPU</code> æ—¶é—´æ—¶ï¼Œ <code>CPU</code> æŒ‰ç…§çº¿ç¨‹çš„ä¼˜å…ˆçº§ç»™äºˆæœåŠ¡ã€‚é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å¯ä»¥å®Œå…¨é˜»æ­¢ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹æ‰§è¡Œã€‚</p>
<p><code>.NET</code> ä¸ºçº¿ç¨‹è®¾ç½®äº† <code>Priority</code> å±æ€§æ¥å®šä¹‰çº¿ç¨‹æ‰§è¡Œçš„ä¼˜å…ˆçº§åˆ«ï¼Œé‡Œé¢åŒ…å«5ä¸ªé€‰é¡¹ï¼Œå…¶ä¸­ <code>Normal</code> æ˜¯é»˜è®¤å€¼ã€‚é™¤éç³»ç»Ÿæœ‰ç‰¹æ®Šè¦æ±‚ï¼Œå¦åˆ™ä¸åº”è¯¥éšä¾¿è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«ã€‚</p>
<ul>
<li><code>Lowest</code> å¯ä»¥å°† <code>Thread</code> å®‰æ’åœ¨å…·æœ‰ä»»ä½•å…¶ä»–ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹åã€‚</li>
<li><code>BelowNormal</code> å¯ä»¥å°† <code>Thread</code> å®‰æ’åœ¨å…·æœ‰ <code>Normal</code> ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹åï¼Œåœ¨å…·æœ‰ <code>Lowest</code> ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹å‰ã€‚</li>
<li><code>Normal</code> é»˜è®¤é€‰æ‹©ã€‚å¯ä»¥å°† <code>Thread</code> å®‰æ’åœ¨å…·æœ‰ <code>AboveNormal</code> ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹åï¼Œåœ¨å…·æœ‰ <code>BelowNormal</code> ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹å‰ã€‚</li>
<li><code>AboveNormal</code> å¯ä»¥å°† <code>Thread</code> å®‰æ’åœ¨å…·æœ‰ <code>Highest</code> ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹åï¼Œåœ¨å…·æœ‰ <code>Normal</code> ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹å‰ã€‚</li>
<li><code>Highest</code>     å¯ä»¥å°† <code>Thread</code> å®‰æ’åœ¨å…·æœ‰ä»»ä½•å…¶ä»–ä¼˜å…ˆçº§çš„çº¿ç¨‹ä¹‹å‰ã€‚</li>
</ul>
<h4 id="çº¿ç¨‹çš„çŠ¶æ€"><a href="#çº¿ç¨‹çš„çŠ¶æ€" class="headerlink" title="çº¿ç¨‹çš„çŠ¶æ€"></a>çº¿ç¨‹çš„çŠ¶æ€</h4><p>é€šè¿‡ <code>ThreadState</code> å¯ä»¥æ£€æµ‹çº¿ç¨‹æ˜¯å¤„äº <code>Unstarted</code> ã€ <code>Sleeping</code> ã€ <code>Running</code> ç­‰ç­‰çŠ¶æ€ï¼Œå®ƒæ¯” <code>IsAlive</code> å±æ€§èƒ½æä¾›æ›´å¤šçš„ç‰¹å®šä¿¡æ¯ã€‚  </p>
<p>å‰é¢è¯´è¿‡ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºåŸŸä¸­å¯èƒ½åŒ…æ‹¬å¤šä¸ªä¸Šä¸‹æ–‡ï¼Œè€Œé€šè¿‡ <code>CurrentContext</code> å¯ä»¥è·å–çº¿ç¨‹å½“å‰çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p><code>CurrentThread</code> æ˜¯æœ€å¸¸ç”¨çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæ˜¯ç”¨äºè·å–å½“å‰è¿è¡Œçš„çº¿ç¨‹ã€‚</p>
<h4 id="System-Threading-Thread-çš„æ–¹æ³•"><a href="#System-Threading-Thread-çš„æ–¹æ³•" class="headerlink" title="System.Threading.Thread çš„æ–¹æ³•"></a><code>System.Threading.Thread</code> çš„æ–¹æ³•</h4><p><code>Thread</code> ä¸­åŒ…æ‹¬äº†å¤šä¸ªæ–¹æ³•æ¥æ§åˆ¶çº¿ç¨‹çš„åˆ›å»ºã€æŒ‚èµ·ã€åœæ­¢ã€é”€æ¯ï¼Œä»¥åæ¥çš„ä¾‹å­ä¸­ä¼šç»å¸¸ä½¿ç”¨ã€‚</p>
<ul>
<li><code>Abort()</code> ç»ˆæ­¢æœ¬çº¿ç¨‹ã€‚</li>
<li><code>GetDomain()</code> è¿”å›å½“å‰çº¿ç¨‹æ­£åœ¨å…¶ä¸­è¿è¡Œçš„å½“å‰åŸŸã€‚</li>
<li><code>GetDomainId()</code> è¿”å›å½“å‰çº¿ç¨‹æ­£åœ¨å…¶ä¸­è¿è¡Œçš„å½“å‰åŸŸIdã€‚</li>
<li><code>Interrupt()</code> ä¸­æ–­å¤„äº <code>WaitSleepJoin</code> çº¿ç¨‹çŠ¶æ€çš„çº¿ç¨‹ã€‚</li>
<li><code>Join()</code> å·²é‡è½½ã€‚ é˜»å¡è°ƒç”¨çº¿ç¨‹ï¼Œç›´åˆ°æŸä¸ªçº¿ç¨‹ç»ˆæ­¢æ—¶ä¸ºæ­¢ã€‚</li>
<li><code>Resume()</code> ç»§ç»­è¿è¡Œå·²æŒ‚èµ·çš„çº¿ç¨‹ã€‚</li>
<li><code>Start()</code> æ‰§è¡Œæœ¬çº¿ç¨‹ã€‚</li>
<li><code>Suspend()</code> æŒ‚èµ·å½“å‰çº¿ç¨‹ï¼Œå¦‚æœå½“å‰çº¿ç¨‹å·²å±äºæŒ‚èµ·çŠ¶æ€åˆ™æ­¤ä¸èµ·ä½œç”¨</li>
<li><code>Sleep()</code> æŠŠæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æŒ‚èµ·ä¸€æ®µæ—¶é—´ã€‚</li>
</ul>
<h3 id="å‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹"><a href="#å‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹" class="headerlink" title="å‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹"></a>å‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹</h3><ul>
<li>å‰å°çº¿ç¨‹ï¼šåªæœ‰æ‰€æœ‰çš„å‰å°çº¿ç¨‹éƒ½ç»“æŸï¼Œåº”ç”¨ç¨‹åºæ‰èƒ½ç»“æŸã€‚é»˜è®¤æƒ…å†µä¸‹åˆ›å»ºçš„çº¿ç¨‹éƒ½æ˜¯å‰å°çº¿ç¨‹ã€‚</li>
<li>åå°çº¿ç¨‹ï¼šåªè¦æ‰€æœ‰çš„å‰å°çº¿ç¨‹ç»“æŸï¼Œåå°çº¿ç¨‹è‡ªåŠ¨ç»“æŸã€‚é€šè¿‡ <code>Thread.IsBackground</code> è®¾ç½®åå°çº¿ç¨‹ã€‚å¿…é¡»åœ¨è°ƒç”¨ <code>Start</code> æ–¹æ³•ä¹‹å‰è®¾ç½®çº¿ç¨‹çš„ç±»å‹ï¼Œå¦åˆ™ä¸€æ—¦çº¿ç¨‹è¿è¡Œï¼Œå°†æ— æ³•æ”¹å˜å…¶ç±»å‹ã€‚é€šè¿‡ <code>BeginXXX</code> æ–¹æ³•è¿è¡Œçš„çº¿ç¨‹éƒ½æ˜¯åå°çº¿ç¨‹ã€‚åå°çº¿ç¨‹ä¸€èˆ¬ç”¨äºå¤„ç†ä¸é‡è¦çš„äº‹æƒ…ï¼Œåº”ç”¨ç¨‹åºç»“æŸæ—¶ï¼Œåå°çº¿ç¨‹æ˜¯å¦æ‰§è¡Œå®Œæˆå¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºæ²¡æœ‰å½±å“ã€‚å¦‚æœè¦æ‰§è¡Œçš„äº‹æƒ…å¾ˆé‡è¦ï¼Œéœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå‰å°çº¿ç¨‹ã€‚</li>
</ul>
<h3 id="çº¿ç¨‹åŒæ­¥"><a href="#çº¿ç¨‹åŒæ­¥" class="headerlink" title="çº¿ç¨‹åŒæ­¥"></a>çº¿ç¨‹åŒæ­¥</h3><p>æ‰€è°“åŒæ­¥ï¼šæ˜¯æŒ‡åœ¨æŸä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®å˜é‡ã€‚  </p>
<p>å¦‚æœä¸èƒ½ç¡®ä¿å¯¹å˜é‡çš„è®¿é—®æ˜¯åŒæ­¥çš„ï¼Œå°±ä¼šäº§ç”Ÿé”™è¯¯ã€‚  </p>
<p><code>C#</code> ä¸ºåŒæ­¥è®¿é—®å˜é‡æä¾›äº†ä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹å¼ï¼Œå³ä½¿ç”¨ <code>C#</code> è¯­è¨€çš„å…³é”®å­— <code>Lock</code> ï¼Œå®ƒå¯ä»¥æŠŠä¸€æ®µä»£ç å®šä¹‰ä¸ºäº’æ–¥æ®µï¼Œäº’æ–¥æ®µåœ¨ä¸€ä¸ªæ—¶åˆ»å†…åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è¿›å…¥æ‰§è¡Œï¼Œè€Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å¾…ã€‚åœ¨ <code>C#</code> ä¸­ï¼Œå…³é”®å­— <code>Lock</code> å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Lock(expression)</span><br><span class="line">&#123;</span><br><span class="line">    statement_block</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>expression</code> ä»£è¡¨ä½ å¸Œæœ›è·Ÿè¸ªçš„å¯¹è±¡ï¼šå¦‚æœä½ æƒ³ä¿æŠ¤ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œä¸€èˆ¬åœ°ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>this</code> ï¼›å¦‚æœä½ æƒ³ä¿æŠ¤ä¸€ä¸ªé™æ€å˜é‡(å¦‚äº’æ–¥ä»£ç æ®µåœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…éƒ¨)ï¼Œä¸€èˆ¬ä½¿ç”¨ç±»åå°±å¯ä»¥äº†ã€‚è€Œ <code>statement_block</code> å°±ç®—äº’æ–¥æ®µçš„ä»£ç ï¼Œè¿™æ®µä»£ç åœ¨ä¸€ä¸ªæ—¶åˆ»å†…åªå¯èƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚</p>
<h3 id="è·¨çº¿ç¨‹è®¿é—®"><a href="#è·¨çº¿ç¨‹è®¿é—®" class="headerlink" title="è·¨çº¿ç¨‹è®¿é—®"></a>è·¨çº¿ç¨‹è®¿é—®</h3><p>åˆ›å»ºçª—ä½“åº”ç”¨ç¨‹åºï¼Œå¢åŠ ä¸€ä¸ªæµ‹è¯•æŒ‰é’®å’Œä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œç‚¹å‡»â€œæµ‹è¯•â€ï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä»0å¾ªç¯åˆ°10000ç»™æ–‡æœ¬æ¡†èµ‹å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btn_Test_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªæ–¹æ³•:åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤æ˜¯å‰å°çº¿ç¨‹</span></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(Test));</span><br><span class="line">    <span class="comment">//Startæ–¹æ³•æ ‡è®°è¿™ä¸ªçº¿ç¨‹å°±ç»ªäº†ï¼Œå¯ä»¥éšæ—¶è¢«æ‰§è¡Œï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™æ‰§è¡Œè¿™ä¸ªçº¿ç¨‹ï¼Œç”±CPUå†³å®š</span></span><br><span class="line">    <span class="comment">//å°†çº¿ç¨‹è®¾ç½®ä¸ºåå°çº¿ç¨‹</span></span><br><span class="line">    thread.IsBackground = <span class="literal">true</span>;</span><br><span class="line">    thread.Start();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)</span><br><span class="line">    &#123;               </span><br><span class="line">        <span class="keyword">this</span>.textBox1.Text = i.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿è¡Œç»“æœä¼šæŠ¥é”™ï¼šçº¿ç¨‹é—´æ“ä½œæ— æ•ˆï¼šä¸æ˜¯åˆ›å»ºâ€œtextBox1â€çš„çº¿ç¨‹è®¿é—®å®ƒã€‚  </p>
</blockquote>
<blockquote>
<p>äº§ç”Ÿé”™è¯¯çš„åŸå› ï¼štextBox1æ˜¯ç”±ä¸»çº¿ç¨‹åˆ›å»ºçš„ï¼Œthreadçº¿ç¨‹æ˜¯å¦å¤–åˆ›å»ºçš„ä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨.NETä¸Šæ‰§è¡Œçš„æ˜¯æ‰˜ç®¡ä»£ç ï¼ŒC#å¼ºåˆ¶è¦æ±‚è¿™äº›ä»£ç å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå³ä¸å…è®¸è·¨çº¿ç¨‹è®¿é—®Windowsçª—ä½“çš„æ§ä»¶ã€‚</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>åœ¨çª—ä½“çš„åŠ è½½äº‹ä»¶ä¸­ï¼Œå°† <code>C#</code> å†…ç½®æ§ä»¶( <code>Control</code> )ç±»çš„ <code>CheckForIllegalCrossThreadCalls</code> å±æ€§è®¾ç½®ä¸º <code>false</code> ï¼Œå±è”½æ‰ <code>C#</code> ç¼–è¯‘å™¨å¯¹è·¨çº¿ç¨‹è°ƒç”¨çš„æ£€æŸ¥ã€‚</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">       <span class="comment">//å–æ¶ˆè·¨çº¿ç¨‹çš„è®¿é—®</span></span><br><span class="line">       Control.CheckForIllegalCrossThreadCalls = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨ä¸Šè¿°çš„æ–¹æ³•è™½ç„¶å¯ä»¥ä¿è¯ç¨‹åºæ­£å¸¸è¿è¡Œå¹¶å®ç°åº”ç”¨çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨å®é™…çš„è½¯ä»¶å¼€å‘ä¸­ï¼Œåšå¦‚æ­¤è®¾ç½®æ˜¯ä¸å®‰å…¨çš„(ä¸ç¬¦åˆ <code>.NET</code> çš„å®‰å…¨è§„èŒƒ)ï¼Œåœ¨äº§å“è½¯ä»¶çš„å¼€å‘ä¸­ï¼Œæ­¤ç±»æƒ…å†µæ˜¯ä¸å…è®¸çš„ã€‚å¦‚æœè¦åœ¨éµå®ˆ.NETå®‰å…¨æ ‡å‡†çš„å‰æä¸‹ï¼Œå®ç°ä»ä¸€ä¸ªçº¿ç¨‹æˆåŠŸåœ°è®¿é—®å¦ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºçš„ç©ºé—´ï¼Œè¦ä½¿ç”¨ <code>C#</code> çš„æ–¹æ³•å›è°ƒæœºåˆ¶ã€‚</p>
</blockquote>
<ol start="2">
<li>ä½¿ç”¨å›è°ƒå‡½æ•°</li>
</ol>
<p>å›è°ƒå®ç°çš„ä¸€èˆ¬è¿‡ç¨‹ï¼š <code>C#</code> çš„æ–¹æ³•å›è°ƒæœºåˆ¶ï¼Œä¹Ÿæ˜¯å»ºç«‹åœ¨å§”æ‰˜åŸºç¡€ä¸Šçš„ï¼Œä¸‹é¢ç»™å‡ºå®ƒçš„å…¸å‹å®ç°è¿‡ç¨‹ã€‚</p>
<ul>
<li>å®šä¹‰ã€å£°æ˜å›è°ƒã€‚</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰å›è°ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">DoSomeCallBack</span>(<span class="params">Type para</span>)</span>;</span><br><span class="line"><span class="comment">//å£°æ˜å›è°ƒ</span></span><br><span class="line">DoSomeCallBack doSomaCallBack;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œå®šä¹‰å£°æ˜çš„â€œå›è°ƒâ€( <code>doSomaCallBack</code> )å…¶å®å°±æ˜¯ä¸€ä¸ªå§”æ‰˜ã€‚</p>
<ul>
<li>åˆå§‹åŒ–å›è°ƒæ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">doSomeCallBack = <span class="keyword">new</span> DoSomeCallBack(DoSomeMethod);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰€è°“â€œåˆå§‹åŒ–å›è°ƒæ–¹æ³•â€å®é™…ä¸Šå°±æ˜¯å®ä¾‹åŒ–åˆšåˆšå®šä¹‰äº†çš„å§”æ‰˜ï¼Œè¿™é‡Œä½œä¸ºå‚æ•°çš„ <code>DoSomeMethod</code> ç§°ä¸ºâ€œå›è°ƒæ–¹æ³•â€ï¼Œå®ƒå°è£…äº†å¯¹å¦ä¸€ä¸ªçº¿ç¨‹ä¸­ç›®æ ‡å¯¹è±¡ï¼ˆçª—ä½“æ§ä»¶æˆ–å…¶ä»–ç±»ï¼‰çš„æ“ä½œä»£ç ã€‚</p>
</blockquote>
<ul>
<li>è§¦å‘å¯¹è±¡åŠ¨ä½œ</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Opt obj.Invoke(doSomeCallBack, arg);</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ <code>Opt obj</code> ä¸ºç›®æ ‡æ“ä½œå¯¹è±¡ï¼Œåœ¨æ­¤å‡è®¾å®ƒæ˜¯æŸæ§ä»¶ï¼Œæ•…è°ƒç”¨å…¶ <code>Invoke</code> æ–¹æ³•ã€‚ <code>Invoke</code> æ–¹æ³•ç­¾åä¸ºï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> Control.Invoke(Delegate method, <span class="keyword">params</span> <span class="built_in">object</span>[] args);</span><br></pre></td></tr></table></figure>
<p>å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå§”æ‰˜ç±»å‹ï¼Œå¯è§â€œè§¦å‘å¯¹è±¡åŠ¨ä½œâ€çš„æœ¬è´¨ï¼Œå°±æ˜¯æŠŠå§”æ‰˜ <code>doSomeCallBack</code> ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ§ä»¶çš„ <code>Invoke</code> æ–¹æ³•ï¼Œè¿™ä¸å§”æ‰˜çš„ä½¿ç”¨æ–¹å¼æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚<br>æœ€ç»ˆä½œç”¨äºå¯¹è±¡ <code>Opt obj</code> çš„ä»£ç æ˜¯ç½®äºå›è°ƒæ–¹æ³•ä½“ <code>DoSomeMethod()</code> ä¸­çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DoSomeMethod</span>(<span class="params">type para</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//æ–¹æ³•ä½“</span></span><br><span class="line">    Opt obj.someMethod(para);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸ç”¨å›è°ƒï¼Œè€Œæ˜¯ç›´æ¥åœ¨ç¨‹åºä¸­ä½¿ç”¨ <code>Opt obj.someMethod(para);</code> ï¼Œåˆ™å½“å¯¹è±¡ <code>Opt obj</code> ä¸åœ¨æœ¬çº¿ç¨‹ï¼ˆè·¨çº¿ç¨‹è®¿é—®ï¼‰æ—¶å°±ä¼šå‘ç”Ÿä¸Šé¢æ‰€ç¤ºçš„é”™è¯¯ã€‚</p>
<p>ä»ä»¥ä¸Šå›è°ƒå®ç°çš„ä¸€èˆ¬è¿‡ç¨‹å¯çŸ¥ï¼š <code>C#</code> çš„å›è°ƒæœºåˆ¶ï¼Œå®è´¨ä¸Šæ˜¯å§”æ‰˜çš„ä¸€ç§åº”ç”¨ã€‚åœ¨ <code>C#</code> ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œå›è°ƒçš„åº”ç”¨æ˜¯éå¸¸æ™®éçš„ï¼Œæœ‰äº†æ–¹æ³•å›è°ƒï¼Œå°±å¯ä»¥åœ¨ <code>.NET</code> ä¸Šå†™å‡ºçº¿ç¨‹å®‰å…¨çš„ä»£ç äº†ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•å›è°ƒï¼Œå®ç°ç»™æ–‡æœ¬æ¡†èµ‹å€¼ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">MultiThreadDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å®šä¹‰å›è°ƒ</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">setTextValueCallBack</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span>;</span><br><span class="line">        <span class="comment">//å£°æ˜å›è°ƒ</span></span><br><span class="line">        <span class="keyword">private</span> setTextValueCallBack setCallBack;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btn_Test_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//å®ä¾‹åŒ–å›è°ƒ</span></span><br><span class="line">            setCallBack = <span class="keyword">new</span> setTextValueCallBack(SetValue);</span><br><span class="line">            <span class="comment">//åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œè¿™ä¸ªæ–¹æ³•:åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤æ˜¯å‰å°çº¿ç¨‹</span></span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(Test));</span><br><span class="line">            <span class="comment">//Startæ–¹æ³•æ ‡è®°è¿™ä¸ªçº¿ç¨‹å°±ç»ªäº†ï¼Œå¯ä»¥éšæ—¶è¢«æ‰§è¡Œï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™æ‰§è¡Œè¿™ä¸ªçº¿ç¨‹ï¼Œç”±CPUå†³å®š</span></span><br><span class="line">            <span class="comment">//å°†çº¿ç¨‹è®¾ç½®ä¸ºåå°çº¿ç¨‹</span></span><br><span class="line">            thread.IsBackground = <span class="literal">true</span>;</span><br><span class="line">            thread.Start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)</span><br><span class="line">            &#123;               </span><br><span class="line">                <span class="comment">//ä½¿ç”¨å›è°ƒ</span></span><br><span class="line">                textBox1.Invoke(setCallBack, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å®šä¹‰å›è°ƒä½¿ç”¨çš„æ–¹æ³•</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SetValue</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">this</span>.textBox1.Text = <span class="keyword">value</span>.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç»ˆæ­¢çº¿ç¨‹"><a href="#ç»ˆæ­¢çº¿ç¨‹" class="headerlink" title="ç»ˆæ­¢çº¿ç¨‹"></a>ç»ˆæ­¢çº¿ç¨‹</h3><p>è‹¥æƒ³ç»ˆæ­¢æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>Abort()</code> æ–¹æ³•ã€‚</p>
<h2 id="åŒæ­¥å’Œå¼‚æ­¥"><a href="#åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥"></a>åŒæ­¥å’Œå¼‚æ­¥</h2><p>åŒæ­¥å’Œå¼‚æ­¥æ˜¯å¯¹æ–¹æ³•æ‰§è¡Œé¡ºåºçš„æè¿°ã€‚</p>
<p>åŒæ­¥ï¼šç­‰å¾…ä¸Šä¸€è¡Œå®Œæˆè®¡ç®—ä¹‹åï¼Œæ‰ä¼šè¿›å…¥ä¸‹ä¸€è¡Œã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ï¼šè¯·åŒäº‹åƒé¥­ï¼ŒåŒäº‹è¯´å¾ˆå¿™ï¼Œç„¶åå°±ç­‰ç€åŒäº‹å¿™å®Œï¼Œç„¶åä¸€èµ·å»åƒé¥­ã€‚</p>
</blockquote>
<p>å¼‚æ­¥ï¼šä¸ä¼šç­‰å¾…æ–¹æ³•çš„å®Œæˆï¼Œä¼šç›´æ¥è¿›å…¥ä¸‹ä¸€è¡Œï¼Œæ˜¯éé˜»å¡çš„ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ï¼šè¯·åŒäº‹åƒé¥­ï¼ŒåŒäº‹è¯´å¾ˆå¿™ï¼Œé‚£åŒäº‹å…ˆå¿™ï¼Œè‡ªå·±å»åƒé¥­ï¼ŒåŒäº‹å¿™å®Œäº†ä»–è‡ªå·±å»åƒé¥­ã€‚</p>
</blockquote>
<p>åŒæ­¥æ–¹æ³•å’Œå¼‚æ­¥æ–¹æ³•çš„åŒºåˆ«ï¼š</p>
<ol>
<li><ul>
<li>åŒæ­¥æ–¹æ³•ç”±äºä¸»çº¿ç¨‹å¿™äºè®¡ç®—ï¼Œæ‰€ä»¥ä¼šå¡ä½ç•Œé¢ã€‚</li>
<li>å¼‚æ­¥æ–¹æ³•ç”±äºä¸»çº¿ç¨‹æ‰§è¡Œå®Œäº†ï¼Œå…¶ä»–è®¡ç®—ä»»åŠ¡äº¤ç»™å­çº¿ç¨‹å»æ‰§è¡Œï¼Œæ‰€ä»¥ä¸ä¼šå¡ä½ç•Œé¢ï¼Œç”¨æˆ·ä½“éªŒæ€§å¥½ã€‚</li>
</ul>
</li>
<li><ul>
<li>åŒæ­¥æ–¹æ³•ç”±äºåªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è®¡ç®—ï¼Œæ‰€ä»¥æ‰§è¡Œé€Ÿåº¦æ…¢ã€‚</li>
<li>å¼‚æ­¥æ–¹æ³•ç”±å¤šä¸ªçº¿ç¨‹å¹¶å‘è¿ç®—ï¼Œæ‰€ä»¥æ‰§è¡Œé€Ÿåº¦å¿«ï¼Œä½†å¹¶ä¸æ˜¯çº¿æ€§å¢é•¿çš„ï¼ˆèµ„æºå¯èƒ½ä¸å¤Ÿï¼‰ã€‚å¤šçº¿ç¨‹ä¹Ÿä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œåªæœ‰å¤šä¸ªç‹¬ç«‹çš„ä»»åŠ¡åŒæ—¶è¿è¡Œï¼Œæ‰èƒ½åŠ å¿«é€Ÿåº¦ã€‚</li>
</ul>
</li>
<li><ul>
<li>åŒæ­¥æ–¹æ³•æ˜¯æœ‰åºçš„ã€‚</li>
<li>å¼‚æ­¥å¤šçº¿ç¨‹æ˜¯æ— åºçš„ï¼šå¯åŠ¨æ— åºï¼Œæ‰§è¡Œæ—¶é—´ä¸ç¡®å®šï¼Œæ‰€ä»¥ç»“æŸä¹Ÿæ˜¯æ— åºçš„ã€‚ä¸€å®šä¸è¦é€šè¿‡ç­‰å¾…å‡ æ¯«ç§’çš„å½¢å¼æ¥æ§åˆ¶çº¿ç¨‹å¯åŠ¨/æ‰§è¡Œæ—¶é—´/ç»“æŸã€‚</li>
</ul>
</li>
</ol>
<h3 id="å›è°ƒ"><a href="#å›è°ƒ" class="headerlink" title="å›è°ƒ"></a>å›è°ƒ</h3><ul>
<li>å¼‚æ­¥å¤šçº¿ç¨‹æ˜¯æ— åºçš„ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨å›è°ƒè§£å†³å¼‚æ­¥å¤šçº¿ç¨‹æ˜¯æ— åºçš„é—®é¢˜ã€‚</li>
<li>è·å–å§”æ‰˜å¼‚æ­¥è°ƒç”¨çš„è¿”å›å€¼ï¼šä½¿ç”¨ <code>EndInvoke()</code> å¯ä»¥è·å–å§”æ‰˜å¼‚æ­¥è°ƒç”¨çš„è¿”å›å€¼ã€‚æ³¨æ„è°ƒç”¨è¯¥æ–¹æ³•ä¼šç­‰å¾…å¼‚æ­¥æ‰§è¡Œå®Œæˆï¼Œæ‰€ä»¥åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¼šå¼ºåˆ¶ç­‰å¾…å§”æ‰˜æ‰§è¡Œå®Œæˆï¼Œè€Œåœ¨å›è°ƒä¸­æ‰§è¡Œå› ä¸ºå§”æ‰˜å…¶å®å·²ç»æ‰§è¡Œå®Œæˆï¼Œæ‰€ä»¥æ­¤æ—¶ <code>EndInvoke()</code> å•çº¯ä¸ºäº†è·å–å§”æ‰˜æ‰§è¡Œçš„ç»“æœã€‚</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/asynchronous-and-multithreading/" data-id="cklhsu1bo00bt05rj1l85781m" data-title="å¼‚æ­¥å¤šçº¿ç¨‹" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag">å¤šçº¿ç¨‹</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&laquo; ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/8/">ä¸‹ä¸€é¡µ &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/">å¼€å‘</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/C/ASP-NET-Core/">ASP.NET Core</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/C/WPF/">WPF</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E4%B8%9A%E5%8A%A1/">ä¸šåŠ¡</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%9F%BA%E7%A1%80/">åŸºç¡€</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/">å·¥å…·</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/">Oracle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/PostgreSQL/">PostgreSQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL-Server/">SQL Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLite/">SQLite</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%9D%82%E8%B0%88/">æ‚è°ˆ</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">æ“ä½œç³»ç»Ÿ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/MacOS/">MacOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%B7%A5%E5%85%B7/">å·¥å…·</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BD%AF%E4%BB%B6/">è½¯ä»¶</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/">æ—¥å¿—</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/%E5%85%AC%E5%91%8A/">å…¬å‘Š</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/%E5%BC%80%E7%AE%B1/">å¼€ç®±</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/%E6%9D%82%E8%B0%88/">æ‚è°ˆ</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET-Standard/" rel="tag">.NET Standard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASCII/" rel="tag">ASCII</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ActiveX/" rel="tag">ActiveX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Attribute/" rel="tag">Attribute</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Autofac/" rel="tag">Autofac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFG/" rel="tag">BFG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CCProxy/" rel="tag">CCProxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DBeaver/" rel="tag">DBeaver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Expression/" rel="tag">Expression</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fody/" rel="tag">Fody</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GDI/" rel="tag">GDI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitea/" rel="tag">Gitea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HIS/" rel="tag">HIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HongYang/" rel="tag">HongYang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/" rel="tag">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IE/" rel="tag">IE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jint/" rel="tag">Jint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/" rel="tag">Json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kindle/" rel="tag">Kindle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LIS/" rel="tag">LIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LODOP/" rel="tag">LODOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVC/" rel="tag">MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/" rel="tag">Math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NHibernate/" rel="tag">NHibernate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nexus3/" rel="tag">Nexus3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NuGet/" rel="tag">NuGet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOA/" rel="tag">SOA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/" rel="tag">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/" rel="tag">TCP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Telegram/" rel="tag">Telegram</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TreeView/" rel="tag">TreeView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tuple/" rel="tag">Tuple</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI/" rel="tag">UI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML/" rel="tag">UML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS/" rel="tag">VS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VSCode/" rel="tag">VSCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ValueTuple/" rel="tag">ValueTuple</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WCF/" rel="tag">WCF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WPF/" rel="tag">WPF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebApi/" rel="tag">WebApi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebService/" rel="tag">WebService</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WinForm/" rel="tag">WinForm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows-XP/" rel="tag">Windows XP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xml/" rel="tag">Xml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/decimal/" rel="tag">decimal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/frp/" rel="tag">frp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdbc/" rel="tag">jdbc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mstsc/" rel="tag">mstsc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%B2%E5%8F%A3/" rel="tag">ä¸²å£</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%94%E7%AC%94/" rel="tag">äº”ç¬”</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">ä»£ç†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/" rel="tag">ä¾èµ–æ³¨å…¥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E7%BB%84/" rel="tag">å…ƒç»„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E5%AF%86/" rel="tag">åŠ å¯†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/" rel="tag">åŠ¨æ€é“¾æ¥åº“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E5%B0%84/" rel="tag">åå°„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/" rel="tag">å›¾ç‰‡å‹ç¼©</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag">å¤šçº¿ç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A7%94%E6%89%98/" rel="tag">å§”æ‰˜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">å·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E9%BE%84/" rel="tag">å¹´é¾„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" rel="tag">åºåˆ—åŒ–</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%83%E5%85%83/" rel="tag">å¼ƒå…ƒ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%93%E5%8D%B0/" rel="tag">æ‰“å°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%BC%E9%9F%B3/" rel="tag">æ‹¼éŸ³</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">æ—¥å¿—</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/" rel="tag">æ„é€ å‡½æ•°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0/" rel="tag">ææ„å‡½æ•°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%9A%E4%B8%BE/" rel="tag">æšä¸¾</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99/" rel="tag">æ­£åˆ™</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%89%E5%AD%97/" rel="tag">æ±‰å­—</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%9B%E5%9E%8B/" rel="tag">æ³›å‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">çˆ¬è™«</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%91%9E%E7%BE%8E/" rel="tag">ç‘ç¾</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">è™šæ‹Ÿæœº</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%80%E7%90%83%E4%BB%AA/" rel="tag">è¡€çƒä»ª</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%A3%E6%9E%84%E5%87%BD%E6%95%B0/" rel="tag">è§£æ„å‡½æ•°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">è®¾è®¡æ¨¡å¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E8%AF%95/" rel="tag">è°ƒè¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9D%E5%85%8B%E6%9B%BC/" rel="tag">è´å…‹æ›¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BA%AB%E4%BB%BD%E8%AF%81%E8%AF%BB%E5%8D%A1/" rel="tag">èº«ä»½è¯è¯»å¡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6/" rel="tag">è½¯ä»¶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B/" rel="tag">è¿œç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AA%E9%80%80/" rel="tag">é—ªé€€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">é¡¹ç›®</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/NET-Standard/" style="font-size: 10px;">.NET Standard</a> <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/ASCII/" style="font-size: 10px;">ASCII</a> <a href="/tags/ActiveX/" style="font-size: 10px;">ActiveX</a> <a href="/tags/Attribute/" style="font-size: 10px;">Attribute</a> <a href="/tags/Autofac/" style="font-size: 10px;">Autofac</a> <a href="/tags/BFG/" style="font-size: 10px;">BFG</a> <a href="/tags/CCProxy/" style="font-size: 10px;">CCProxy</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/DBeaver/" style="font-size: 12.5px;">DBeaver</a> <a href="/tags/Expression/" style="font-size: 10px;">Expression</a> <a href="/tags/Fody/" style="font-size: 10px;">Fody</a> <a href="/tags/GDI/" style="font-size: 12.5px;">GDI</a> <a href="/tags/Git/" style="font-size: 12.5px;">Git</a> <a href="/tags/GitHub/" style="font-size: 12.5px;">GitHub</a> <a href="/tags/Gitea/" style="font-size: 10px;">Gitea</a> <a href="/tags/HIS/" style="font-size: 12.5px;">HIS</a> <a href="/tags/HongYang/" style="font-size: 10px;">HongYang</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/IE/" style="font-size: 10px;">IE</a> <a href="/tags/JavaScript/" style="font-size: 12.5px;">JavaScript</a> <a href="/tags/Jint/" style="font-size: 12.5px;">Jint</a> <a href="/tags/Json/" style="font-size: 10px;">Json</a> <a href="/tags/Kindle/" style="font-size: 10px;">Kindle</a> <a href="/tags/LIS/" style="font-size: 20px;">LIS</a> <a href="/tags/LODOP/" style="font-size: 10px;">LODOP</a> <a href="/tags/MVC/" style="font-size: 10px;">MVC</a> <a href="/tags/MacOS/" style="font-size: 10px;">MacOS</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/NHibernate/" style="font-size: 10px;">NHibernate</a> <a href="/tags/Nexus3/" style="font-size: 10px;">Nexus3</a> <a href="/tags/Note/" style="font-size: 10px;">Note</a> <a href="/tags/NuGet/" style="font-size: 10px;">NuGet</a> <a href="/tags/OOP/" style="font-size: 10px;">OOP</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/SOA/" style="font-size: 17.5px;">SOA</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/TreeView/" style="font-size: 10px;">TreeView</a> <a href="/tags/Tuple/" style="font-size: 10px;">Tuple</a> <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a> <a href="/tags/Unity/" style="font-size: 10px;">Unity</a> <a href="/tags/VS/" style="font-size: 10px;">VS</a> <a href="/tags/VSCode/" style="font-size: 10px;">VSCode</a> <a href="/tags/ValueTuple/" style="font-size: 10px;">ValueTuple</a> <a href="/tags/WCF/" style="font-size: 12.5px;">WCF</a> <a href="/tags/WPF/" style="font-size: 10px;">WPF</a> <a href="/tags/WebApi/" style="font-size: 15px;">WebApi</a> <a href="/tags/WebService/" style="font-size: 15px;">WebService</a> <a href="/tags/WinForm/" style="font-size: 10px;">WinForm</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/Windows-XP/" style="font-size: 12.5px;">Windows XP</a> <a href="/tags/Xml/" style="font-size: 10px;">Xml</a> <a href="/tags/decimal/" style="font-size: 10px;">decimal</a> <a href="/tags/frp/" style="font-size: 10px;">frp</a> <a href="/tags/jdbc/" style="font-size: 10px;">jdbc</a> <a href="/tags/mstsc/" style="font-size: 10px;">mstsc</a> <a href="/tags/%E4%B8%B2%E5%8F%A3/" style="font-size: 12.5px;">ä¸²å£</a> <a href="/tags/%E4%BA%94%E7%AC%94/" style="font-size: 10px;">äº”ç¬”</a> <a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 12.5px;">ä»£ç†</a> <a href="/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/" style="font-size: 10px;">ä¾èµ–æ³¨å…¥</a> <a href="/tags/%E5%85%83%E7%BB%84/" style="font-size: 12.5px;">å…ƒç»„</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 10px;">åŠ å¯†</a> <a href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/" style="font-size: 10px;">åŠ¨æ€é“¾æ¥åº“</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">åå°„</a> <a href="/tags/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/" style="font-size: 10px;">å›¾ç‰‡å‹ç¼©</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 20px;">å¤šçº¿ç¨‹</a> <a href="/tags/%E5%A7%94%E6%89%98/" style="font-size: 10px;">å§”æ‰˜</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">å·¥å…·</a> <a href="/tags/%E5%B9%B4%E9%BE%84/" style="font-size: 10px;">å¹´é¾„</a> <a href="/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 10px;">åºåˆ—åŒ–</a> <a href="/tags/%E5%BC%83%E5%85%83/" style="font-size: 10px;">å¼ƒå…ƒ</a> <a href="/tags/%E6%89%93%E5%8D%B0/" style="font-size: 10px;">æ‰“å°</a> <a href="/tags/%E6%8B%BC%E9%9F%B3/" style="font-size: 10px;">æ‹¼éŸ³</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 10px;">æ—¥å¿—</a> <a href="/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/" style="font-size: 10px;">æ„é€ å‡½æ•°</a> <a href="/tags/%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0/" style="font-size: 10px;">ææ„å‡½æ•°</a> <a href="/tags/%E6%9E%9A%E4%B8%BE/" style="font-size: 10px;">æšä¸¾</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size: 15px;">æ­£åˆ™</a> <a href="/tags/%E6%B1%89%E5%AD%97/" style="font-size: 10px;">æ±‰å­—</a> <a href="/tags/%E6%B3%9B%E5%9E%8B/" style="font-size: 12.5px;">æ³›å‹</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">çˆ¬è™«</a> <a href="/tags/%E7%91%9E%E7%BE%8E/" style="font-size: 10px;">ç‘ç¾</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 12.5px;">è™šæ‹Ÿæœº</a> <a href="/tags/%E8%A1%80%E7%90%83%E4%BB%AA/" style="font-size: 10px;">è¡€çƒä»ª</a> <a href="/tags/%E8%A7%A3%E6%9E%84%E5%87%BD%E6%95%B0/" style="font-size: 10px;">è§£æ„å‡½æ•°</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12.5px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/%E8%B0%83%E8%AF%95/" style="font-size: 10px;">è°ƒè¯•</a> <a href="/tags/%E8%B4%9D%E5%85%8B%E6%9B%BC/" style="font-size: 10px;">è´å…‹æ›¼</a> <a href="/tags/%E8%BA%AB%E4%BB%BD%E8%AF%81%E8%AF%BB%E5%8D%A1/" style="font-size: 10px;">èº«ä»½è¯è¯»å¡</a> <a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 10px;">è½¯ä»¶</a> <a href="/tags/%E8%BF%9C%E7%A8%8B/" style="font-size: 10px;">è¿œç¨‹</a> <a href="/tags/%E9%97%AA%E9%80%80/" style="font-size: 10px;">é—ªé€€</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 10px;">é¡¹ç›®</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">äºŒæœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">åäºŒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">åä¸€æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">ä¹æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">äº”æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">ä¸‰æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">äºŒæœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">ä¸€æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">åäºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">ä¸ƒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">äº”æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">å››æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/chinese-helper/">æ±‰å­—å¸®åŠ©ç±»â€”â€”è·å–æ‹¼éŸ³ä¸äº”ç¬”ç®€ç </a>
          </li>
        
          <li>
            <a href="/how-to-process-images/">å¦‚ä½•å¤„ç†å›¾ç‰‡</a>
          </li>
        
          <li>
            <a href="/instrument-communication/">æ£€éªŒä»ªå™¨å¸¸è§é€šä¿¡æ–¹æ¡ˆ</a>
          </li>
        
          <li>
            <a href="/back-in-2020/">å›é¡¾2020å¹´</a>
          </li>
        
          <li>
            <a href="/csharp-expression-script-evaluation-problems/">C# ä¸­è¡¨è¾¾å¼è®¡ç®—é—®é¢˜</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 hd2y<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>