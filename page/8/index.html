<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>华灯</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="盈月舞清风，华灯自摇曳。">
<meta property="og:type" content="website">
<meta property="og:title" content="华灯">
<meta property="og:url" content="https://hd2y.github.io/page/8/index.html">
<meta property="og:site_name" content="华灯">
<meta property="og:description" content="盈月舞清风，华灯自摇曳。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hd2y">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="华灯" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">华灯</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hd2y.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-190402-review-of-object-oriented-knowledge-points" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/review-of-object-oriented-knowledge-points/" class="article-date">
  <time class="dt-published" datetime="2019-04-02T14:01:00.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/review-of-object-oriented-knowledge-points/">面向对象知识点回顾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><h3 id="访问修饰符"><a href="#访问修饰符" class="headerlink" title="访问修饰符"></a>访问修饰符</h3><ul>
<li><code>public</code> ：完全公开</li>
<li><code>private</code> ：只有类内部能够访问</li>
<li><code>internal</code> ：同项目中能够访问</li>
<li><code>protected</code> ：类和派生类可以访问</li>
<li><code>protected internal</code> ：internal和protected二者的结合</li>
</ul>
<h3 id="封装-1"><a href="#封装-1" class="headerlink" title="封装"></a>封装</h3><p>封装是实现面向对象程序设计的第一步，封装就是将数据或函数等集合在一个个的单元中(我们称之为类)。被封装的对象通常被称为抽象数据类型。</p>
<h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><p>封装的意义在于保护或者防止代码（数据）被我们无意中破坏。在面向对象程序设计中数据被看作是一个中心的元素并且和使用它的函数结合的很密切，从而保护它不被其它的函数意外的修改。  </p>
<p>封装提供了一个有效的途径来保护数据不被意外的破坏。相比我们将数据(用域来实现)在程序中定义为公用的( <code>public</code> )我们将它们( <code>fields</code> )定义为私有的( <code>privat</code> )在很多方面会更好。私有的数据可以用两种方式来间接的控制。  </p>
<p>第一种方法，我们使用传统的存、取方法。第二种方法我们用属性（property）。使用属性不仅可以控制存取数据的合法性，同时也提供了“读写”、“只读”、“只写”灵活的操作方法。继承：继承主要实现重用代码，节省开发时间</p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="意义-1"><a href="#意义-1" class="headerlink" title="意义"></a>意义</h3><p>继承主要实现重用代码，节省开发时间。</p>
<h3 id="继承的规则"><a href="#继承的规则" class="headerlink" title="继承的规则"></a>继承的规则</h3><p>继承是可传递的。如果 <code>C</code> 从 <code>B</code> 中派生， <code>B</code> 又从 <code>A</code> 中派生，那么 <code>C</code> 不仅继承了 <code>B</code> 中声明的成员，同样也继承了 <code>A</code> 中的成员。 <code>object</code> 类作为所有类的基类。  </p>
<p>派生类应当是对基类的扩展。派生类可以添加新的成员，但不能除去已经继承的成员的定义。  </p>
<p>构造函数和析构函数不能被继承。除此之外的其它成员，不论对它们定义了怎样的访问方式，都能被继承。基类中成员的访问方式只能决定派生类能否访问它们。  </p>
<p>派生类如果定义了与继承而来的成员同名的新成员，就可以覆盖已继承的成员。但这并不因为这派生类删除了这些成员，只是不能再访问这些成员。  </p>
<p>类可以定义虚方法、虚属性以及虚索引指示器，它的派生类能够重载这些成员，从而实现类可以展示出多态性。</p>
<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><ul>
<li>重载：继承中的重载和类内的成员方法的重载是一样的，只要在子类中新建了和父类中同名的但参数列表不同的成员方法就重载了父类的成员方法，但前题是要能继承该成员方法。</li>
<li>重写：是在子类中重新改写从父类中继承过来的某个方法，用新的方法代替原有的方法，这里要用关键字virtual override。</li>
<li>隐藏：也是在子类中重新改写从父类中继承过来的某个方法，但不是把父类的方法替换掉，而是隐藏起来，要用关键字new。</li>
<li>base：可以调用父类的成员方法，除了构造函数和析构函数，派生类将隐式的继承了继承基类的所有成员。也可以显示的调用父类的构造函数来构造子类的成员数据。</li>
<li>this：引用类当前的实例，还用于将对象传递到属于其他类的方法。</li>
</ul>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><h3 id="new-的用法"><a href="#new-的用法" class="headerlink" title="new 的用法"></a><code>new</code> 的用法</h3><p>当派生类与基类型相同的方法使用 <code>new</code> 修饰时，派生类对象转换后，调用的是基类的方法。其实可以理解为，使用 <code>new</code> 关键字后，使得派生类中的方法和基类中的方法成为毫不相关的两个方法，只是它们的名字碰巧相同而已。所以，基类中的方法不管用还是不用 <code>virtual</code> 修饰，也不管访问权限如何，或者是没有，都不会对派生类的方法产生什么影响(只是因为使用了 <code>new</code> 关键字，如果派生类没用 <code>new</code> 关键字从基类继承同名方法，编译器会输出警告)。这可能是设计者有意这么设计的，因为有时候我们就是要达到这种效果。严格的说，不能说通过使用 <code>new</code> 来实现多态，只能说在某些特定的时候碰巧实现了多态的效果。</p>
<h3 id="override-实现多态"><a href="#override-实现多态" class="headerlink" title="override 实现多态"></a><code>override</code> 实现多态</h3><p>真正的多态使用 <code>override</code> 来实现的，在基类中将方法用virtual标记为虚拟方法，再在派生类中用 <code>override</code> 对需要重写的方法修饰进行重写，就可以很简单的实现多态。需要注意的是，要对一个类中一个方法用 <code>override</code> 修饰，该类必须从父类中继承了一个对应的用 <code>virtual</code> 修饰的虚拟方法，否则编译器将报错。如果父类方法用 <code>override</code> 修饰，如果子类继承了该方法，也可以用 <code>override</code> 修饰，多层继承中的多态就是这样实现的。要想终止这种重写，只需重写方法时用 <code>sealed</code> 关键字进行修饰即可。</p>
<h3 id="abstract-override-实现多态"><a href="#abstract-override-实现多态" class="headerlink" title="abstract-override 实现多态"></a><code>abstract-override</code> 实现多态</h3><p><code>abstract</code> 修饰的抽象方法只是对方法进行了定义，而没有实现，如果一个类包含了抽象方法，那么该类也必须用 <code>abstract</code> 声明为抽象类，一个抽象类是不能被实例化的。对于类中的抽象方法，可以再其派生类中用 <code>override</code> 进行重写，如果不重写，其派生类也要被声明为抽象类。</p>
<p><code>abstract-override</code> 可以和 <code>virtual-override</code> 一样地实现多态，包括多层继承也是一样的。不同之处在于，包含虚拟方法的类可以被实例化，而包含抽象方法的类不能被实例化。</p>
<h3 id="接口实现多态"><a href="#接口实现多态" class="headerlink" title="接口实现多态"></a>接口实现多态</h3><p>接口存在的意义就是为了实现多态，另外接口解决了类的多继承问题，解决了类继承以后体积庞大的问题，接口之间可以实现多继承。接口中的成员必须不能有实现，接口不能实例化，成员不能有访问修饰符(隐式公开)，接口中可以有属性，方法，索引器等(属性，索引器本质上也是方法)，但不能有字段，接口中的所有方法必须被子类中全部实现(除非子类是抽象类，把接口中的成员标记为抽象的)。一个类只能继承一个父类，但是可以实现多个接口，接口只能决定能干什么，怎么干由类来实现。</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol>
<li>接口是一种规范。为了多态。</li>
<li>接口不能被实例化。</li>
<li>接口中的成员不能加“访问修饰符”，接口中的成员访问修饰符为 <code>public</code> ，不能修改。(默认为 <code>public</code> )</li>
<li>接口中的成员不能有任何实现（“光说不做”，只是定义了一组未实现的成员）。</li>
<li>接口中只能有方法、属性、索引器、事件，不能有“字段”。</li>
<li>接口与接口之间可以继承，并且可以多继承。</li>
<li>实现接口的子类必须实现该接口的全部成员。</li>
<li>一个类可以同时继承一个类并实现多个接口，如果一个子类同时继承了父类 <code>A</code> ，并实现了接口 <code>IA</code> ,那么语法上A必须写在 <code>IA</code> 的前面。 <code>class MyClass:A,IA&#123;&#125;</code> ，因为类是单继承的。</li>
<li>当一个抽象类实现接口的时候，如果不想把接口中的成员实现，可以把该成员实现为 <code>abstract</code> 。(抽象类也能实现接口，用 <code>abstrac</code> 标记)</li>
<li>“显示实现接口”，只能通过接口变量来调用 (因为显示实现接口后成员为 <code>private</code> )。</li>
</ol>
<h3 id="接口和抽象类的区别"><a href="#接口和抽象类的区别" class="headerlink" title="接口和抽象类的区别"></a>接口和抽象类的区别</h3><ol>
<li><p>抽象类适用于同一系列，并且有需要继承的成员。</p>
</li>
<li><p>接口适用于不同系列的类具有相同的动作(行为、动作、方法)。对于不是相同的系列，但具有相同的行为，这个就考虑使用接口。</p>
</li>
<li><p>接口解决了类不能多继承问题。</p>
</li>
<li><p>接口定义类的公共行为，抽象类定义类的公共实现。</p>
</li>
<li><p>一个类只能继承自一个类(抽象类)，但是可以同时实现多个接口。</p>
</li>
<li><p>接口中不能有实现，抽象类中可以有未实现成员也可以有实现的成员。</p>
</li>
<li><p>接口中未实现的方法必须在子类中实现，抽象类中未实现的成员必须在子类中重写。</p>
<h3 id="接口和类的异同"><a href="#接口和类的异同" class="headerlink" title="接口和类的异同"></a>接口和类的异同</h3></li>
</ol>
<ul>
<li>不同点：不能直接实例化接口。接口不包含方法的实现。接口可以多继承，类只能单继承。类定义可在不同的源文件之间进行拆分。</li>
<li>相同点：接口、类和结构都可以从多个接口继承。接口类似于抽象基类：继承接口的任何非抽象类型都必须实现接口的所有成员。接口和类都可以包含事件、索引器、方法和属性。</li>
</ul>
<p><strong>C#支持多重继承么？</strong></p>
<p>类之间不支持，接口之间支持。类对接口叫做实现，不叫继承。类是父亲、接口是能力，能有多个能力，但不能有多个父亲。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/review-of-object-oriented-knowledge-points/" data-id="cklhsu16v001105rj8j6ocyas" data-title="面向对象知识点回顾" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OOP/" rel="tag">OOP</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190402-common-serializer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/common-serializer/" class="article-date">
  <time class="dt-published" datetime="2019-04-02T13:54:00.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/common-serializer/">常见序列化器</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="常见序列化器"><a href="#常见序列化器" class="headerlink" title="常见序列化器"></a>常见序列化器</h2><h3 id="二进制序列化器"><a href="#二进制序列化器" class="headerlink" title="二进制序列化器"></a>二进制序列化器</h3><p>命名空间 <code>System.Runtime.Serialization.Formatters.Binary;</code></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//序列化</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = <span class="keyword">new</span> FileStream(path, FileMode.Create, FileAccess.ReadWrite))</span><br><span class="line">&#123;</span><br><span class="line">    BinaryFormatter binaryFormatter = <span class="keyword">new</span> BinaryFormatter();<span class="comment">//创建二进制序列化器</span></span><br><span class="line">    binaryFormatter.Serialize(fileStream, ListPersons);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = <span class="keyword">new</span> FileStream(path, FileMode.Open, FileAccess.ReadWrite))</span><br><span class="line">&#123;</span><br><span class="line">    BinaryFormatter binaryFormatter = <span class="keyword">new</span> BinaryFormatter();<span class="comment">//创建二进制序列化器</span></span><br><span class="line">    fileStream.Position = <span class="number">0</span>;<span class="comment">//重置流位置</span></span><br><span class="line">    List&lt;Human&gt; list = (List&lt;Human&gt;)binaryFormatter.Deserialize(fileStream);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        item.Action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Soap-序列化器"><a href="#Soap-序列化器" class="headerlink" title="Soap 序列化器"></a><code>Soap</code> 序列化器</h3><p>命名空间 <code>System.Runtime.Serialization.Formatters.Soap;</code></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//序列化</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = <span class="keyword">new</span> FileStream(path, FileMode.Create, FileAccess.ReadWrite))</span><br><span class="line">&#123;</span><br><span class="line">    SoapFormatter soapFormatter = <span class="keyword">new</span> SoapFormatter();<span class="comment">//创建Soap序列化器</span></span><br><span class="line">    soapFormatter.Serialize(fileStream, ListPersons.ToArray());<span class="comment">//不支持泛型</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = <span class="keyword">new</span> FileStream(path, FileMode.Open, FileAccess.ReadWrite))</span><br><span class="line">&#123;</span><br><span class="line">    SoapFormatter soapFormatter = <span class="keyword">new</span> SoapFormatter();<span class="comment">//创建Soap序列化器</span></span><br><span class="line">    fileStream.Position = <span class="number">0</span>;<span class="comment">//重置流位置</span></span><br><span class="line">    List&lt;Human&gt; list = ((Human[])soapFormatter.Deserialize(fileStream)).ToList();<span class="comment">//不支持泛型</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        item.Action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="XML序列化器"><a href="#XML序列化器" class="headerlink" title="XML序列化器"></a>XML序列化器</h3><p>命名空间： <code>System.Xml.Serialization;</code>  </p>
<p><strong>XML：标记语言</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//序列化</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = <span class="keyword">new</span> FileStream(path, FileMode.Create, FileAccess.ReadWrite))</span><br><span class="line">&#123;</span><br><span class="line">    XmlSerializer xmlSerializer = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(List&lt;Human&gt;));<span class="comment">//创建Xml序列化器 需要指定对象的类型</span></span><br><span class="line">    xmlSerializer.Serialize(fileStream, ListPersons);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = <span class="keyword">new</span> FileStream(path, FileMode.Open, FileAccess.ReadWrite))</span><br><span class="line">&#123;</span><br><span class="line">    XmlSerializer xmlSerializer = <span class="keyword">new</span> XmlSerializer(<span class="keyword">typeof</span>(List&lt;Human&gt;));<span class="comment">//创建Xml序列化器 需要指定对象的类型</span></span><br><span class="line">    fileStream.Position = <span class="number">0</span>;<span class="comment">//重置流位置</span></span><br><span class="line">    List&lt;Human&gt; list = (List&lt;Human&gt;)xmlSerializer.Deserialize(fileStream);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        item.Action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Json-序列化器"><a href="#Json-序列化器" class="headerlink" title="Json 序列化器"></a><code>Json</code> 序列化器</h3><p>命名空间：<code>System.Web.Script.Serialization;</code> 或引用 <code>System.Web.Extentsion;</code> 或者 <code>Newtonsoft.Json;</code></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaScriptSerializer序列化</span></span><br><span class="line">&#123;<span class="comment">//内置</span></span><br><span class="line">    JavaScriptSerializer javaScriptSerializer = <span class="keyword">new</span> JavaScriptSerializer();<span class="comment">//创建Json序列化器</span></span><br><span class="line">    <span class="built_in">string</span> sJson = javaScriptSerializer.Serialize(ListPersons);</span><br><span class="line">    File.WriteAllText(path1, sJson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//JavaScriptSerializer反序列化</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> sText = File.ReadAllText(path1);</span><br><span class="line">    JavaScriptSerializer javaScriptSerializer = <span class="keyword">new</span> JavaScriptSerializer();<span class="comment">//创建Json序列化器</span></span><br><span class="line">    List&lt;Human&gt; list = javaScriptSerializer.Deserialize&lt;List&lt;Human&gt;&gt;(sText);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        item.Action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Newtonsoft.Json序列化</span></span><br><span class="line">&#123;<span class="comment">//nuget</span></span><br><span class="line">    <span class="built_in">string</span> sJson = JsonConvert.SerializeObject(ListPersons);</span><br><span class="line">    File.WriteAllText(path2, sJson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Newtonsoft.Json反序列化</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> sText = File.ReadAllText(path1);</span><br><span class="line">    List&lt;Human&gt; list = JsonConvert.DeserializeObject&lt;List&lt;Human&gt;&gt;(sText);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        item.Action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>常用 <code>Newtonsoft.Json</code> ，因其效率高于内置的 <code>JavaScriptSerializer</code> ，另如果使用内置序列化器，需要对应序列化的类型指定 <code>[Serializable]</code> 的特性。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/common-serializer/" data-id="cklhsu16r000s05rjbji465lp" data-title="常见序列化器" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Json/" rel="tag">Json</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Xml/" rel="tag">Xml</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" rel="tag">序列化</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190402-file-operations-in-csharp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/file-operations-in-csharp/" class="article-date">
  <time class="dt-published" datetime="2019-04-02T10:01:00.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/file-operations-in-csharp/">C#中的文件操作</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="文件夹-文件-操作"><a href="#文件夹-文件-操作" class="headerlink" title="文件夹/文件 操作"></a>文件夹/文件 操作</h2><h3 id="文件夹-文件检查"><a href="#文件夹-文件检查" class="headerlink" title="文件夹/文件检查"></a>文件夹/文件检查</h3><p>主要是 <code>Directory</code> / <code>File</code> / <code>DirectoryInfo</code> / <code>FileInfo</code> 几个类来操作检查。</p>
<p><strong>注：Path是路径字符串的拼接、剪切、检查操作类，并不会执行IO操作。</strong></p>
<h3 id="文件夹-文件新增"><a href="#文件夹-文件新增" class="headerlink" title="文件夹/文件新增"></a>文件夹/文件新增</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Directory.CreateDirectory(path);<span class="comment">//新增</span></span><br><span class="line">File.Create(path);<span class="comment">//新增或覆盖</span></span><br><span class="line">File.AppendText(path);<span class="comment">//新增或追加</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>文件夹新增时，dotnet会自动逐层创建，例如“C:\test1\test2”，“test1”文件夹不存在会先创建“test1”文件夹。</p>
</blockquote>
<h3 id="文件夹-文件复制"><a href="#文件夹-文件复制" class="headerlink" title="文件夹/文件复制"></a>文件夹/文件复制</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件夹无法复制</span></span><br><span class="line">File.Copy(path1, path2);</span><br></pre></td></tr></table></figure>
<h3 id="文件夹-文件移动"><a href="#文件夹-文件移动" class="headerlink" title="文件夹/文件移动"></a>文件夹/文件移动</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Directory.Move(path1, path2);</span><br><span class="line">File.Move(path1, path2);</span><br></pre></td></tr></table></figure>
<h3 id="文件夹-文件删除"><a href="#文件夹-文件删除" class="headerlink" title="文件夹/文件删除"></a>文件夹/文件删除</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Directory.Delete(path, <span class="literal">true</span>);<span class="comment">//第二个参数是指定是否删除目录内文件夹与文件 若不指定默认false 当为false文件夹内存在文件或文件夹会报错</span></span><br><span class="line">File.Delete(path);</span><br></pre></td></tr></table></figure>
<h2 id="文件写入-读取"><a href="#文件写入-读取" class="headerlink" title="文件写入/读取"></a>文件写入/读取</h2><h3 id="常见写入方法："><a href="#常见写入方法：" class="headerlink" title="常见写入方法："></a>常见写入方法：</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//新增或覆盖</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = File.Create(path))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> sText = <span class="string">&quot;My name is Li Lei.&quot;</span>;</span><br><span class="line">    <span class="built_in">byte</span>[] bytes = Encoding.Default.GetBytes(sText);</span><br><span class="line">    fileStream.Write(bytes, <span class="number">0</span>, bytes.Length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//新增或覆盖</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = File.Create(path))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> (StreamWriter streamWriter = <span class="keyword">new</span> StreamWriter(fileStream))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> sText = <span class="string">&quot;My name is Han Meimei.&quot;</span>;</span><br><span class="line">        streamWriter.Write(sText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//新增或追加</span></span><br><span class="line"><span class="keyword">using</span> (StreamWriter streamWriter = File.AppendText(path))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> sText = <span class="string">&quot;Nice to meet you.&quot;</span>;</span><br><span class="line">    <span class="built_in">byte</span>[] bytes = Encoding.Default.GetBytes(sText);</span><br><span class="line">    streamWriter.BaseStream.Write(bytes, <span class="number">0</span>, bytes.Length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//新增或追加</span></span><br><span class="line"><span class="keyword">using</span> (StreamWriter streamWriter = File.AppendText(path))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> sText = <span class="string">&quot;Nice to meet you too.&quot;</span>;</span><br><span class="line">    streamWriter.Write(sText);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="常见读取方法："><a href="#常见读取方法：" class="headerlink" title="常见读取方法："></a>常见读取方法：</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一次读取</span></span><br><span class="line"><span class="built_in">byte</span>[] bytes = File.ReadAllBytes(path);</span><br><span class="line"><span class="built_in">string</span> sText = File.ReadAllText(path);</span><br><span class="line"><span class="built_in">string</span>[] aLineText = File.ReadAllLines(path);</span><br><span class="line">IEnumerable&lt;<span class="built_in">string</span>&gt; listLineText = File.ReadLines(path);</span><br><span class="line"><span class="comment">//大文件读取</span></span><br><span class="line"><span class="keyword">using</span> (FileStream fileStream = File.OpenRead(path))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> length = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">byte</span>[] bytes = <span class="keyword">new</span> <span class="built_in">byte</span>[length];</span><br><span class="line">        result = fileStream.Read(bytes, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">        Console.WriteLine(Encoding.Default.GetString(bytes));</span><br><span class="line">    &#125; <span class="keyword">while</span> (length == result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="磁盘操作"><a href="#磁盘操作" class="headerlink" title="磁盘操作"></a>磁盘操作</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">DriveInfo[] aInfo = DriveInfo.GetDrives();</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> info <span class="keyword">in</span> aInfo)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;----------------------------------------------------&quot;</span>);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;驱动器的名称：&quot;</span> + info.Name);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;驱动器根目录：&quot;</span> + info.RootDirectory);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;指示驱动器上可用空闲空间总量：&quot;</span> + info.AvailableFreeSpace);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;文件系统名称：&quot;</span> + info.DriveFormat);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;驱动器类型：&quot;</span> + info.DriveType);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;获取一个指示驱动器是否已经准备好：&quot;</span> + info.IsReady);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;获取驱动器上可用空闲空间总量：&quot;</span> + info.TotalFreeSpace);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;获取驱动器空间总大小：&quot;</span> + info.TotalSize);</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;获取或设置驱动器的卷标：&quot;</span> + info.VolumeLabel);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这部分原本感觉没必要提交上来，因为这部分内容太太基础。</p>
<p>但是实际工作中，经常会遗忘一部分方法怎么使用，所以提交上来供以后查阅。</p>
<p>另外由于经常翻看前辈代码，IO有部分需要特别注意一下：</p>
<ul>
<li>多线程操作文件读写，一定要加锁，尽量避免使用<code>try</code>处理文件被占用引发的异常；</li>
<li>文件夹创建碰到多层级无需逐层创建，dotnet底层会自动帮我们逐层创建；</li>
<li>记录日志文件，内容使用流操作写文件，直接使用 <code>File.AppendText()</code> 方法即可，而且不用判断文件是否存在，dotnet会在不存在时自动帮我们创建；</li>
</ul>
<p>先写这些，有些细节以后想到了再补。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/file-operations-in-csharp/" data-id="cklhsu16t000y05rj4rk80gsm" data-title="C#中的文件操作" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-190402-anonymous-type-extension-method-var-dynamic" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/anonymous-type-extension-method-var-dynamic/" class="article-date">
  <time class="dt-published" datetime="2019-04-02T09:33:00.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/anonymous-type-extension-method-var-dynamic/">匿名类型、扩展方法、var、dynamic</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="匿名类型"><a href="#匿名类型" class="headerlink" title="匿名类型"></a>匿名类型</h2><p><code>C#</code>在<code>3.0</code>版本以后，允许使用<code>new</code>关键字直接创造对象，方便我们在临时使用一特定类型时，无需单独的创建一个类：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> user = <span class="keyword">new</span></span><br><span class="line">&#123;</span><br><span class="line">    Id = <span class="number">1</span>,</span><br><span class="line">    Name = <span class="string">&quot;Kangkang&quot;</span>,</span><br><span class="line">    Age = <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//Console.WriteLine(user.Id);//无法获取 因为是object类型 该问题可以使用var关键字解决</span></span><br></pre></td></tr></table></figure>
<h2 id="var-关键字"><a href="#var-关键字" class="headerlink" title="var 关键字"></a>var 关键字</h2><p>在方法范围内声明的变量可以具有隐式“类型” <code>var</code>。</p>
<p>隐式类型本地变量为强类型，就像用户已经自行声明该类型，但编译器决定类型一样(语法糖)。</p>
<h3 id="声明现有类型"><a href="#声明现有类型" class="headerlink" title="声明现有类型"></a>声明现有类型</h3><p>编译器会自行推断左侧变量的类型，如下代码编译器会识别为<code>int</code>类型：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h3 id="声明匿名类型"><a href="#声明匿名类型" class="headerlink" title="声明匿名类型"></a>声明匿名类型</h3><p>创建的匿名类型我们并不知道编译器为我们生成的类型名称，但是我们可以使用<code>var</code>关键字让编译器自己根据编译的结果来推断：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span></span><br><span class="line">&#123;</span><br><span class="line">    Id = <span class="number">1</span>,</span><br><span class="line">    Name = <span class="string">&quot;Kangkang&quot;</span>,</span><br><span class="line">    Age = <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line">Console.WriteLine(user.Id);</span><br></pre></td></tr></table></figure>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li>必须在定义时初始化，也就是必须是 <code>var s = &quot;abcd&quot;</code> 形式</li>
<li>一但初始化完成，就不能再给变量赋与初始化值类型不同的值</li>
<li>var要求是局部变量</li>
<li>使用var定义变量和object不同，它在效率上和使用强类型方式定义变量完全一样</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;**************** 匿名类型与var ****************&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> user = <span class="keyword">new</span></span><br><span class="line">    &#123;</span><br><span class="line">        Id = <span class="number">1</span>,</span><br><span class="line">        Name = <span class="string">&quot;Kangkang&quot;</span>,</span><br><span class="line">        Age = <span class="number">12</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//user.Name = &quot;Xiaoming&quot;;//匿名类型属性只读</span></span><br><span class="line">    Type type = user.GetType();</span><br><span class="line">    <span class="keyword">var</span> properties = type.GetProperties();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> properties)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//只读属性反射也无法修改属性值</span></span><br><span class="line">        <span class="comment">//if (item.Name == &quot;Name&quot;)</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//    item.SetValue(user, &quot;Xiaoming&quot;, null);</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Property name is <span class="subst">&#123;item.Name&#125;</span>, value is <span class="subst">&#123;item.GetValue(user, <span class="literal">null</span>)&#125;</span>.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="扩展方法"><a href="#扩展方法" class="headerlink" title="扩展方法"></a>扩展方法</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>静态类里的静态方法，第一个参数类型前加this关键字  </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ExtensionClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Human <span class="title">CheckHuman</span>(<span class="params"><span class="keyword">this</span> Human human</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        human = human ?? <span class="keyword">new</span> Human(<span class="string">&quot;Kangkang&quot;</span>,<span class="string">&quot;China&quot;</span>);</span><br><span class="line">        human.Name = <span class="built_in">string</span>.IsNullOrEmpty(human.Name) ? <span class="string">&quot;EmptyName&quot;</span> : human.Name;</span><br><span class="line">        human.Country = <span class="built_in">string</span>.IsNullOrEmpty(human.Country) ? <span class="string">&quot;China&quot;</span> : human.Country;</span><br><span class="line">        <span class="keyword">return</span> human;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如上，在不修改类型封装的前提下，给类型额外的扩展一个方法（密封类也可以），扩展的方法为实例方法。</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>既然为实例方法，我们便可以像实例方法一样调用：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;**************** 扩展方法的使用 ****************&quot;</span>);</span><br><span class="line">    Human human = <span class="literal">null</span>;</span><br><span class="line">    human.CheckHuman().SayHi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>如果与实例方法相同，优先实例方法；不能滥用扩展方法，尤其是基类型。</p>
<h2 id="dynamic"><a href="#dynamic" class="headerlink" title="dynamic"></a>dynamic</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p><code>dynamic</code> 类型是一种静态类型，但类型为 <code>dynamic</code> 的对象会跳过静态类型检查。 大多数情况下，该对象就像具有类型 <code>object</code> 一样。 在编译时，将假定类型化为 <code>dynamic</code> 的元素支持任何操作。 因此，您不必考虑对象是从 <code>COM</code> <code>API</code>、从动态语言（例如 <code>IronPython</code>）、从 <code>HTML</code> 文档对象模型 (DOM)、从反射还是从程序中的其他位置获取自己的值。 但是，如果代码无效，则在运行时会捕获到错误。</p>
<h3 id="与-var-对比"><a href="#与-var-对比" class="headerlink" title="与 var 对比"></a>与 <code>var</code> 对比</h3><p>一旦被编译，编译期会自动匹配var 变量的实际类型，并用实际类型来替换该变量的申明，这看上去就好像我们在编码的时候是用实际类型进行申明的。<br>而dynamic被编译后，实际是一个object类型，只不过编译器会对dynamic类型进行特殊处理，让它在编译期间不进行任何的类型检查，而是将类型检查放到了运行期。  </p>
<p>以 <code>var</code> 声明的变量，支持“智能感知”，因为 <code>Visual Studio</code> 能推断出 <code>var</code> 类型的实际类型，而以 <code>dynamic</code> 声明的变量却不支持“智能感知”，因为编译器对其运行期的类型一无所知。对 <code>dynamic</code> 变量使用“智能感知”，会提示“此操作将在运行时解析”。</p>
<h3 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dynamic</span> para = <span class="keyword">new</span> System.Dynamic.ExpandoObject();</span><br><span class="line">para.name = <span class="string">&quot;Kangkang&quot;</span>;</span><br><span class="line">para.country = <span class="string">&quot;China&quot;</span>;</span><br><span class="line">para.age = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以直接调用</span></span><br><span class="line">Console.WriteLine(para.name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以重新赋值其他类型</span></span><br><span class="line">para.name = <span class="number">007</span>;</span><br><span class="line">Console.WriteLine(para.name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以理解其为一个特殊的字典 我们可以使用字典的方式遍历</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> para <span class="keyword">as</span> IDictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;item.Key&#125;</span> <span class="subst">&#123;item.Value&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用不存在的“属性”编译时不会报错 但是运行时会报错</span></span><br><span class="line"><span class="comment">// Microsoft.CSharp.RuntimeBinder.RuntimeBinderException:“&#x27;System.Dynamic.ExpandoObject&#x27; does not contain a definition for &#x27;hobby&#x27;”</span></span><br><span class="line">Console.WriteLine(para.hobby);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/anonymous-type-extension-method-var-dynamic/" data-id="cklhsu16q000q05rje9bgas4r" data-title="匿名类型、扩展方法、var、dynamic" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-190402-delegate-and-event-in-csharp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/delegate-and-event-in-csharp/" class="article-date">
  <time class="dt-published" datetime="2019-04-02T09:04:00.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/delegate-and-event-in-csharp/">C#中的委托与事件</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h2><h3 id="关于委托"><a href="#关于委托" class="headerlink" title="关于委托"></a>关于委托</h3><p><code>delegate</code> 关键字创建的类型就是 <code>System.MuticastDelegate</code> (多播委托)，使用反编译工具可以查看， <code>System.MuticastDelegate</code> 是保留类不允许继承。本质上委托都是多播委托，后期定义委托只有添加了多个方法才称为多播委托。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">NoReturnNoParametersDelegate</span>(<span class="params"></span>)</span>;</span><br></pre></td></tr></table></figure>
<h3 id="常见实例化方式"><a href="#常见实例化方式" class="headerlink" title="常见实例化方式"></a>常见实例化方式</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//new关键字实例化</span></span><br><span class="line">NoReturnNoParametersDelegate delegate1 = <span class="keyword">new</span> NoReturnNoParametersDelegate(DoNothing);</span><br><span class="line"><span class="comment">//赋值一个方法</span></span><br><span class="line">NoReturnNoParametersDelegate delegate2 = DoNothing;</span><br><span class="line"><span class="comment">//lambda表达式</span></span><br><span class="line">NoReturnNoParametersDelegate delegate3 = () =&gt;Console.WriteLine(<span class="string">&quot;This is a do nothing method.&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="常见调用方式"><a href="#常见调用方式" class="headerlink" title="常见调用方式"></a>常见调用方式</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delegate1.Invoke();<span class="comment">//常规调用</span></span><br><span class="line">delegate2();<span class="comment">//像方法一样调用</span></span><br><span class="line">delegate3.BeginInvoke(<span class="literal">null</span>, <span class="literal">null</span>);<span class="comment">//异步调用</span></span><br></pre></td></tr></table></figure>
<h3 id="委托的意义"><a href="#委托的意义" class="headerlink" title="委托的意义"></a>委托的意义</h3><p>逻辑和行为作为参数来传递</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//公用的SQL执行方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> T <span class="title">ExcuteSql</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> sql, Func&lt;IDbCommand, T&gt; func</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span>(SqlConnection conn = <span class="keyword">new</span> SqlConnection(<span class="string">&quot;&quot;</span>))</span><br><span class="line">	 &#123;</span><br><span class="line">	     conn.Open();</span><br><span class="line">		 IDbCommand cmd = conn.CreateCommand();</span><br><span class="line">		 cmd.CommandText = sql;</span><br><span class="line">		 cmd.CommandType = CommandType.Text;</span><br><span class="line">		 <span class="keyword">return</span> func(cmd);</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//执行查询</span></span><br><span class="line">Func&lt;IDbCommand, Student&gt; func = (cmd) =&gt; </span><br><span class="line">&#123;</span><br><span class="line">    IDataReader reader = cmd.ExecuteReader();</span><br><span class="line">	 Student student = <span class="literal">null</span>;</span><br><span class="line">	 <span class="keyword">if</span>(reader.Read())</span><br><span class="line">	 &#123;</span><br><span class="line">	     <span class="comment">//对student赋值</span></span><br><span class="line">	     student = <span class="keyword">new</span> Student();</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="keyword">return</span> student;</span><br><span class="line">&#125;;</span><br><span class="line">Student student = ExcuteSql&lt;Student&gt;(<span class="string">&quot;select top 1 * from [Student]&quot;</span>, func);</span><br><span class="line"><span class="comment">//公用异常处理方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SafeInvoke</span>(<span class="params">Action act</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">	 &#123;</span><br><span class="line">	     act.Invoke();</span><br><span class="line">	 &#125;</span><br><span class="line">	 catch(Exception exc)</span><br><span class="line">	 &#123;</span><br><span class="line">	     Console.WriteLine(exc.Message);</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line">SafeInvoke(() =&gt; ExcuteSql&lt;Student&gt;(<span class="string">&quot;select top 1 * from [Student]&quot;</span>, func));</span><br></pre></td></tr></table></figure>
<h3 id="多播委托"><a href="#多播委托" class="headerlink" title="多播委托"></a>多播委托</h3><ul>
<li><code>+=</code> 就是在委托的实例后面增加注册更多的方法，像一个链子，执行的时候按添加顺序执行</li>
<li><code>-=</code> 就是在委托的实例后面移除注册的方法，从链子的尾部开始匹配，找到一个完全匹配的移除，没有不异常</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NoReturnNoParametersDelegate @delegate = DoNothing;</span><br><span class="line">@delegate += DoNothing;</span><br><span class="line">@delegate += DoNothing;</span><br><span class="line">@delegate += DoNothing;</span><br><span class="line">@delegate -= DoNothing;</span><br><span class="line">@delegate.Invoke();</span><br></pre></td></tr></table></figure>
<h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//观察者模式的标准做法就是将内容抽象 实现抽象接口方法DoAction() 添加到集合后遍历执行DoAction()方法</span></span><br><span class="line">Action miaoAction = () =&gt; Console.WriteLine(<span class="string">&quot;Cat miao!&quot;</span>);<span class="comment">//多播委托做法</span></span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Mourse run!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Dog wang!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Baby cry!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Brother turn!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Mother whisper!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Father roar!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Neighbor awake!&quot;</span>);</span><br><span class="line">miaoAction += () =&gt; Console.WriteLine(<span class="string">&quot;Thief hide!&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><h3 id="事件定义"><a href="#事件定义" class="headerlink" title="事件定义"></a>事件定义</h3><p>委托的实例，加一个 <code>event</code> 关键字（一组方法）</p>
<h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个事件</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EventTestClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//事件的发布者</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action TestEvent;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestEventMethod</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;TestEventMethod invoke.&quot;</span>);</span><br><span class="line">        TestEvent?.Invoke();<span class="comment">//非空才执行</span></span><br><span class="line">        <span class="comment">//if (TestEvent!=null)</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//    TestEvent.Invoke();</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//事件注册</span></span><br><span class="line">EventTestClass eventTest = <span class="keyword">new</span> EventTestClass();</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Cat miao!&quot;</span>);<span class="comment">//绑定方法 订户的订阅动作</span></span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Mourse run!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Dog wang!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Baby cry!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Brother turn!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Mother whisper!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Father roar!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Neighbor awake!&quot;</span>);</span><br><span class="line">eventTest.TestEvent += () =&gt; Console.WriteLine(<span class="string">&quot;Thief hide!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//事件“EventTestClass.TestEvent”只能出现在 += 或 -= 的左边(从类型“EventTestClass”中使用时除外)</span></span><br><span class="line"><span class="comment">//eventTest.TestEvent = null;</span></span><br><span class="line"><span class="comment">//eventTest.TestEvent?.Invoke();</span></span><br><span class="line"></span><br><span class="line">eventTest.TestEventMethod();</span><br></pre></td></tr></table></figure>
<h3 id="事件与委托的关系"><a href="#事件与委托的关系" class="headerlink" title="事件与委托的关系"></a>事件与委托的关系</h3><p>委托是一种类型，事件是委托的一个实例。  </p>
<p><code>event</code> 关键字限制了权限，保证安全。  </p>
<p>事件只能由发布者调用，外部不能调用也不能赋值，但是可以使用 <code>+=</code> 和 <code>-=</code> 向事件注册方法。  </p>
<p>这个流程可以理解为解耦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(发布者)--&gt;|动作| B(订户A)</span><br><span class="line">A--&gt;|动作| C(订户B)</span><br><span class="line">A--&gt;|动作| D(订户C)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/delegate-and-event-in-csharp/" data-id="cklhsu16s000w05rjgcvocw2k" data-title="C#中的委托与事件" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A7%94%E6%89%98/" rel="tag">委托</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190401-lets-just-talk-about-my-view-of-the-smartisan-and-laoluo" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/lets-just-talk-about-my-view-of-the-smartisan-and-laoluo/" class="article-date">
  <time class="dt-published" datetime="2019-04-01T11:07:00.000Z" itemprop="datePublished">2019-04-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%97%A5%E5%BF%97/">日志</a>►<a class="article-category-link" href="/categories/%E6%97%A5%E5%BF%97/%E6%9D%82%E8%B0%88/">杂谈</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/lets-just-talk-about-my-view-of-the-smartisan-and-laoluo/">简单谈谈我对锤子及老罗的看法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>不知不觉间，距上次锤子科技发布手机新品发布会已经接近一年了，而下一次感觉也是遥遥无期。手机行业，就是我这个外行人也知道，没有新品意味着什么 —— “死亡”。</p>
<h2 id="老罗"><a href="#老罗" class="headerlink" title="老罗"></a>老罗</h2><p>其实开始我并不熟悉老罗，即便他曾经说出过像“彪悍的人生不需要解释”这种网络流行语。</p>
<p>我和大多数人认识老罗的过程是不一样的，好多人应该是认识老罗后，知道老罗去做手机，而我是在知道锤子手机后才认识的老罗。</p>
<p>我自认为自己一直是老罗的路人粉，自从看了他的锤子T1发布会之后。</p>
<p>那个时候还在武汉读书，从几次手机产品的发布，能真真切切的感受到他是想做出一款理想的产品，能够得到他人认可的产品。</p>
<p>而且可能是因为自己是一个工科男，所以对于其在系统、软件功能的创新，感觉特别的痴迷。</p>
<p>而现在，老罗这个名字，之前在各个社交网站论坛上，还能经常看到讽刺甚至谩骂他的文章，现在也慢慢少了，偶尔翻到只能是一声叹息。</p>
<h2 id="手机"><a href="#手机" class="headerlink" title="手机"></a>手机</h2><p>从锤子T1到坚果R1，几乎每场直播我都有追着看，一部分原因可能就像很多人一样，“看相声”。</p>
<p>比较遗憾的是，到目前为止，我也只买了一款坚果青春款，不过千元的手机把玩了一下，而后因为这个价格区间的性能问题，简单把玩一下就没再用送人了。</p>
<p>个人看来，就外观锤子手机还是很耐看的，每一款都有自己的特点。</p>
<p>但是性能和品控问题一直都有争议，比如我曾经买过的坚果刚买不久就发现信号不佳、音量键有点问题。</p>
<p>基本很少见到身边人用锤子手机的，记得有次出差和另外一个公司的实施人员接触，刚好他用的就是锤子手机，问了一下他的体验也是相比其他手机性能优化要差些，但是对于外观设计赞不绝口。但是也明确表示，下一部手机不会考虑锤子。</p>
<p>我自己最近也有想，锤子眼看着支持不下去了，无论是对于这段经历的一个纪念，还是补一张发布会的入场券，再买一部坚果。不过这个后面真的入手了再发开箱体验吧。</p>
<h2 id="Smartisan-OS"><a href="#Smartisan-OS" class="headerlink" title="Smartisan OS"></a>Smartisan OS</h2><p>其实对于一个理工男，做软件开发的人来说，外观有时候并不是那么重要，我更看重的是“有趣的灵魂”。</p>
<p>说实话，在我看来，可能老罗不是一个合格的老板，但他绝对是一个优秀的产品经理。</p>
<p>一步、大爆炸、闪念胶囊、TNT，是我最看好的几个产品设计，作为效率工具来说设计新颖，改进的人机交互体验让人耳目一新。</p>
<p>说实话，发布会的产品介绍视频，外观那部分我感觉并不让我心动，但是系统和软件介绍我基本上都要翻来覆去看几遍。真的，有些设计点真的很戳心。</p>
<h2 id="TNT工作站"><a href="#TNT工作站" class="headerlink" title="TNT工作站"></a>TNT工作站</h2><p>在我看来，网上对于老罗的讽刺和谩骂，好像都是从“TNT”发布时的“李姐万岁”开始的。</p>
<p>看着这个产品的没落渐渐销声匿迹真的感觉非常遗憾，我也不止一次的在社交平台上发表过自己对于这个产品的看法，感觉很是惋惜。</p>
<p><strong>我在B站上的一些回复：</strong></p>
<blockquote>
<p>文字工作者基本任务胜任我服，视频媒体呢，程序员呢，建立在这一套软硬件总是有瓶颈的吧，讲真老罗也就适合说相声，下次演讲就是海舟你来吧</p>
<blockquote>
<p>5g时代配合云平台，手机不需要太好的性能也不需要做什么适配，复杂运算云服务搞定，还是很不错的选择。不是都说未来只需要一部计算机就行了吗？哈哈。</p>
</blockquote>
</blockquote>
<blockquote>
<p>手机都不兼容 pc生态圈 他搞这个pc模式有什么意义啊…手机什么时候可以取代pc主机…在考虑这方面问题再说吧…</p>
<blockquote>
<p>5g网络时代应该能联网就行，可以远程搞云服务器云计算，可以外接显示器，笔记本就没有用武之地了。挺看好这种模式的，就是不知道锤子能不能坚持到产品更新升级的那一刻。╮(￣▽￣)╭</p>
</blockquote>
</blockquote>
<p><strong>我在知乎上关于『如何评价锤子科技此次发布的坚果 TNT 工作站（显示器）？』的回答：</strong></p>
<blockquote>
<p>客观来说，适用的人群比较少，这个也是因为产品不够成熟，能够配套使用的办公软件更少。而且功能上有争议(我不建议用手机功能来对标PC，TNT这个功能应该凸显的是便携，而不是那个带触控的显示器，可能老罗太想卖产品了，其实只是作为一个idea可能不会那么多人喷)。<br><br>我是想如果一个手机，连接一个显示器就能够兼顾家用娱乐与商务办公，那真是省事不少。<br><br>作为一个经常出差的码农，希望手机可以运行ide环境(使用远程工具搭配云主机也是可以的)，搭配一个投影设备或者出差地点提供的显示器工作，那真的是再好不过了。不过短期来看，不太现实，好像没有人向这个方向努力，老罗这一次让我看到了些许希望。<br><br>笔记本再便携，都不如手机方便，希望5G网络时代，能够让手机这种移动设备真正的替代桌面PC。(手机+云计算)</p>
</blockquote>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>对于老罗这个人，我也不做太多评论，但是网上一些网友的戾气是真的重，很多人都是为了黑而黑，逞口舌之快罢了。</p>
<p>而在我看来，去年的失利，就是老罗就是步子迈得太大。不知道是不是资金的压力，还是这么多年过去，产品销量上不去着急了，TNT显示器的发布可能是造成后续口碑严重下滑的一个重要因素。</p>
<p>看到老罗做聊天宝，卖行李箱、空气净化器……其实发布会能感觉到发自内心的不开心，为了资金资本，不能投入全部精力做自己喜欢的产品。听说最近又准备卖电子烟……</p>
<p>唉，看来真的是离做手机越来越远了啊。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/lets-just-talk-about-my-view-of-the-smartisan-and-laoluo/" data-id="cklhsu16m000k05rja5unarm8" data-title="简单谈谈我对锤子及老罗的看法" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-190401-reflector-in-csharp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/reflector-in-csharp/" class="article-date">
  <time class="dt-published" datetime="2019-04-01T06:03:00.000Z" itemprop="datePublished">2019-04-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/reflector-in-csharp/">C#中的反射</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="dll-IL-metadata-反射"><a href="#dll-IL-metadata-反射" class="headerlink" title="dll-IL-metadata-反射"></a>dll-IL-metadata-反射</h2><p><code>C#</code> 高级语言(人类语言) -&gt; 编译器(编译) -&gt; <code>DLL/EXE</code> (<code>metadata</code>(元数据)+<code>IL</code>(中间语言)) -&gt; <code>CLR/JIT</code> -&gt; 机器码(<code>CPU</code> 执行)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(C#高级语言) --&gt; B(编译器)</span><br><span class="line">B --&gt; C(DLL &#x2F; EXE)</span><br><span class="line">C --&gt; D(CLR &#x2F; JIT)</span><br><span class="line">D --&gt; E(机器码)</span><br></pre></td></tr></table></figure>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><h3 id="反射-1"><a href="#反射-1" class="headerlink" title="反射"></a>反射</h3><p>反射是 <code>.net framework</code> 提供一个访问 <code>metadata</code> 的帮助类库，可以获取信息并使用。</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>创建类型用于测试：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;eat&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GenericClass</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Show</span>(<span class="params">T1 t</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;type is <span class="subst">&#123;<span class="keyword">typeof</span>(T1).Name&#125;</span> value equals <span class="subst">&#123;t&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Human</span> : <span class="title">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Human</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">string</span> country</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">this</span>.Country = country;</span><br><span class="line">        <span class="keyword">this</span>.Name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Country &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Hobby</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;sleep&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SayHi</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;My name is <span class="subst">&#123;<span class="keyword">this</span>.Name&#125;</span>, I&#x27;m come from <span class="subst">&#123;<span class="keyword">this</span>.Country&#125;</span>!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用命名空间</span></span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"><span class="comment">//加载程序集</span></span><br><span class="line">Assembly assembly1 = Assembly.Load(<span class="string">&quot;TestClassLibrary&quot;</span>);<span class="comment">//文件名</span></span><br><span class="line">Assembly assembly2 = Assembly.LoadFile(System.IO.Path.Combine(AppDomain.CurrentDomain.BaseDirectory, <span class="string">&quot;TestClassLibrary.dll&quot;</span>));<span class="comment">//文件路径</span></span><br><span class="line">Assembly assembly3 = Assembly.LoadFrom(System.IO.Path.Combine(AppDomain.CurrentDomain.BaseDirectory, <span class="string">&quot;TestClassLibrary.dll&quot;</span>));<span class="comment">//文件名或文件路径</span></span><br><span class="line"><span class="comment">//获取属性 模块 类型</span></span><br><span class="line">assembly1.GetCustomAttributes();</span><br><span class="line">assembly1.GetModules();</span><br><span class="line">assembly1.GetTypes();</span><br><span class="line"><span class="comment">//获取指定类型</span></span><br><span class="line">Type type1 = assembly1.GetType(<span class="string">&quot;TestClassLibrary.Human&quot;</span>);<span class="comment">//普通类</span></span><br><span class="line">Type type2 = assembly1.GetType(<span class="string">&quot;TestClassLibrary.GenericClass`2&quot;</span>);<span class="comment">//泛型类</span></span><br><span class="line"><span class="comment">//泛型类或泛型方法使用前需要指定泛型类型</span></span><br><span class="line">type2 = type2.MakeGenericType(<span class="keyword">typeof</span>(<span class="built_in">string</span>), <span class="keyword">typeof</span>(<span class="built_in">string</span>));<span class="comment">//Method使用MakeGenericMethod方法</span></span><br><span class="line"><span class="comment">//实例化</span></span><br><span class="line"><span class="built_in">object</span> oSingleton1 = Activator.CreateInstance(type1, <span class="keyword">new</span> <span class="built_in">object</span>[] &#123; <span class="string">&quot;Kangkang&quot;</span>, <span class="string">&quot;China&quot;</span> &#125;);<span class="comment">//有参数构造函数实例化</span></span><br><span class="line"><span class="built_in">object</span> oSingleton2 = Activator.CreateInstance(type2);<span class="comment">//调用实例化方法入参需要传入实例化对象 静态方法可忽略</span></span><br><span class="line">type1.GetMethod(<span class="string">&quot;Action&quot;</span>).Invoke(oSingleton1, <span class="literal">null</span>);<span class="comment">//实例化方法</span></span><br><span class="line">type1.GetMethod(<span class="string">&quot;Hobby&quot;</span>).Invoke(oSingleton1, <span class="literal">null</span>);<span class="comment">//静态方法</span></span><br><span class="line">type1.GetMethod(<span class="string">&quot;Hobby&quot;</span>).Invoke(<span class="literal">null</span>, <span class="literal">null</span>);<span class="comment">//静态方法</span></span><br><span class="line">type1.GetMethod(<span class="string">&quot;SayHi&quot;</span>).Invoke(oSingleton1, <span class="literal">null</span>);<span class="comment">//实例化方法</span></span><br><span class="line">type2.GetMethod(<span class="string">&quot;Show&quot;</span>).Invoke(oSingleton2, <span class="keyword">new</span> <span class="built_in">object</span>[] &#123; <span class="string">&quot;test&quot;</span> &#125;);<span class="comment">//泛型类有参数的方法</span></span><br></pre></td></tr></table></figure>
<h2 id="字段和属性值"><a href="#字段和属性值" class="headerlink" title="字段和属性值"></a>字段和属性值</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Assembly assembly = Assembly.Load(<span class="string">&quot;TestClassLibrary&quot;</span>);</span><br><span class="line">Type type = assembly.GetType(<span class="string">&quot;TestClassLibrary.Human&quot;</span>);</span><br><span class="line"><span class="built_in">object</span> oSingleton = Activator.CreateInstance(type, <span class="keyword">new</span> <span class="built_in">object</span>[] &#123; <span class="string">&quot;Kangkang&quot;</span>, <span class="string">&quot;China&quot;</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> fields = type.GetFields();<span class="comment">//获取字段</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> fields)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;name:<span class="subst">&#123;item.Name&#125;</span> value:<span class="subst">&#123;item.GetValue(oSingleton)&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> properties = type.GetProperties();<span class="comment">//获取属性</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> properties)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;name:<span class="subst">&#123;item.Name&#125;</span> type:<span class="subst">&#123;item.GetValue(oSingleton)&#125;</span>&quot;</span>);<span class="comment">//GetValue() 获取属性或字段值</span></span><br><span class="line">&#125;</span><br><span class="line">type.GetProperty(<span class="string">&quot;Name&quot;</span>).SetValue(oSingleton, <span class="string">&quot;Xiaoming&quot;</span>);<span class="comment">//SetValue() 设置属性或字段值</span></span><br><span class="line">type.GetMethod(<span class="string">&quot;SayHi&quot;</span>).Invoke(oSingleton, <span class="literal">null</span>);</span><br></pre></td></tr></table></figure>
<h2 id="反射的优点和局限"><a href="#反射的优点和局限" class="headerlink" title="反射的优点和局限"></a>反射的优点和局限</h2><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>代码量较多书写麻烦</li>
<li>性能消耗较大</li>
<li>避开编译器检查</li>
</ul>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>动态可拓展</li>
<li>工厂模式</li>
<li>分析类库文件</li>
<li>访问不能访问的变量和属性破解第三方的代码</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/reflector-in-csharp/" data-id="cklhsu16p000o05rjfb6zgf6y" data-title="C#中的反射" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8F%8D%E5%B0%84/" rel="tag">反射</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190331-generic-part-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/generic-part-2/" class="article-date">
  <time class="dt-published" datetime="2019-03-31T14:10:00.000Z" itemprop="datePublished">2019-03-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/generic-part-2/">泛型（Part 2）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h2><h3 id="基类约束"><a href="#基类约束" class="headerlink" title="基类约束"></a>基类约束</h3><p>可以访问基类的属性和方法，限制以后参数类型只能是该类型或其子类。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GenericMethod</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T :GenericClass</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="接口约束"><a href="#接口约束" class="headerlink" title="接口约束"></a>接口约束</h3><p>可以访问接口的属性和方法，限制以后参数类型必须有实现该接口。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GenericMethod</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T : IGeneric</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="引用类型约束"><a href="#引用类型约束" class="headerlink" title="引用类型约束"></a>引用类型约束</h3><p>限制参数类型只能是引用类型。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GenericMethod</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T : <span class="keyword">class</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="值类型约束"><a href="#值类型约束" class="headerlink" title="值类型约束"></a>值类型约束</h3><p>限制参数类型只能是值类型。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GenericMethod</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T : <span class="keyword">struct</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="无参数构造函数约束"><a href="#无参数构造函数约束" class="headerlink" title="无参数构造函数约束"></a>无参数构造函数约束</h3><p>限制参数类型可以被无参数构造函数实例化。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GenericMethod</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T : <span class="keyword">new</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：以上可以根据需求多重约束，叠加使用，其是“且”的关系。</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GenericMethod</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>) <span class="keyword">where</span> T : GenericClass,IGeneric</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="协变与逆变"><a href="#协变与逆变" class="headerlink" title="协变与逆变"></a>协变与逆变</h2><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><p>逆变（contravariant）与协变（covariant）是C#4新增的概念，在此之前泛型的参数是不能变化的，无论是“逆”还是“顺”(协)。</p>
<p>而在泛型参数上添加了in关键字作为泛型修饰符的话，那么那个泛型参数就只能用作方法的输入参数，或者只写属性的参数，不能作为方法返回值等，总之就是只能是“入”，不能出。out关键字反之。</p>
<ul>
<li>协变(covariant)：out 修饰返回值。例如 <code>Func&lt;out T&gt;</code></li>
<li>逆变(contravariant)：in 修饰传入参数。例如 <code>Action&lt;in T&gt;</code></li>
</ul>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bird</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Sparrow</span>:<span class="title">Bird</span>&#123;&#125;</span><br><span class="line">&#123;</span><br><span class="line">    Bird bird1 = <span class="keyword">new</span> Bird();</span><br><span class="line">    Bird bird2 = <span class="keyword">new</span> Sparrow();</span><br><span class="line">    Sparrow sparrow1 = <span class="keyword">new</span> Sparrow();</span><br><span class="line">    <span class="comment">//Sparrow sparrow2 = new Bird(); //麻雀是鸟 但是鸟未必是麻雀</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICustomerOut</span>&lt;<span class="keyword">out</span> <span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">T <span class="title">Get</span>(<span class="params"></span>)</span>;<span class="comment">//协变 只能作为返回值 不能作为传入参数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICustomerIn</span>&lt;<span class="keyword">in</span> <span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Set</span>(<span class="params">T t</span>)</span>;<span class="comment">//逆变 只能作为传入参数 不能作为返回值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomerOut</span>&lt;<span class="title">T</span>&gt; : <span class="title">ICustomerOut</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomerIn</span>&lt;<span class="title">T</span>&gt; : <span class="title">ICustomerIn</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Set</span>(<span class="params">T t</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    List&lt;Bird&gt; listBird1 = <span class="keyword">new</span> List&lt;Bird&gt;();</span><br><span class="line">    <span class="comment">//List&lt;Bird&gt; listBird2 = new List&lt;Sparrow&gt;();    //不是父子关系，没有继承关系</span></span><br><span class="line">    List&lt;Bird&gt; listBird3 = <span class="keyword">new</span> List&lt;Sparrow&gt;().Select(s =&gt; s <span class="keyword">as</span> Bird).ToList();<span class="comment">//一群麻雀一定是一群鸟</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">//协变 只能作为返回值 不能作为传入参数</span></span><br><span class="line">    IEnumerable&lt;Bird&gt; listBird1 = <span class="keyword">new</span> List&lt;Bird&gt;();</span><br><span class="line">    IEnumerable&lt;Bird&gt; listBird2 = <span class="keyword">new</span> List&lt;Sparrow&gt;(); <span class="comment">//协变 一群麻雀一定是一群鸟 类型转换由编译器执行</span></span><br><span class="line">    <span class="comment">//IEnumerable&lt;Sparrow&gt; listBird3 = new List&lt;Bird&gt;();</span></span><br><span class="line">    </span><br><span class="line">    ICustomerOut&lt;Bird&gt; customer4 = <span class="keyword">new</span> CustomerOut&lt;Bird&gt;();</span><br><span class="line">    ICustomerOut&lt;Bird&gt; customer5 = <span class="keyword">new</span> CustomerOut&lt;Sparrow&gt;();</span><br><span class="line">    <span class="comment">//ICustomerOut&lt;Sparrow&gt; customer6 = new CustomerOut&lt;Bird&gt;();//接口应用</span></span><br><span class="line">    </span><br><span class="line">    Action&lt;<span class="built_in">int</span>&gt; action = (a) =&gt; &#123; &#125;;<span class="comment">//委托应用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">//逆变 只能作为传入参数 不能作为返回值</span></span><br><span class="line">    ICustomerIn&lt;Bird&gt; customer1 = <span class="keyword">new</span> CustomerIn&lt;Bird&gt;();</span><br><span class="line">    <span class="comment">//ICustomerIn&lt;Bird&gt; customer2 = new CustomerIn&lt;Sparrow&gt;();</span></span><br><span class="line">    ICustomerIn&lt;Sparrow&gt; customer3 = <span class="keyword">new</span> CustomerIn&lt;Bird&gt;();<span class="comment">//接口应用</span></span><br><span class="line">    </span><br><span class="line">    Func&lt;<span class="built_in">int</span>&gt; func = () =&gt; &#123; <span class="keyword">return</span> <span class="literal">default</span>(<span class="built_in">int</span>); &#125;; <span class="comment">//委托应用</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>逆变(in) 英语单词字面理解就是入参，而中文的字面意思就是逆向的即从子向父转换，可以参考系统提供的委托 <code>Action&lt;T&gt;</code>。</p>
<p><code>Action&lt;T&gt;</code> 委托这样使用可以理解为一个已经限制了入参为派生类的委托，那么这个委托将不能赋值给入参为基类型的委托。也就是说如果已经限制了一个委托的入参类型，那么这个委托的入参只能是该类型或该类型的派生类型，否则会影响委托内方法、属性等的调用。所以反之我们可以将一个入参为基类型的委托赋值给一个入参是派生类型的委托。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// public delegate void Action&lt;in T&gt;(T obj);</span></span><br><span class="line">Action&lt;Animal&gt; actAnimal = (animal) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    animal.Eat();</span><br><span class="line">    <span class="comment">//animal.Meow();</span></span><br><span class="line">&#125;;</span><br><span class="line">Action&lt;Cat&gt; actCat = (cat) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    cat.Eat();</span><br><span class="line">    cat.Meow();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// actAnimal = actCat; //报错：猫咪会喵喵叫，但是不是所有动物都会喵喵叫。</span></span><br><span class="line">actCat = actAnimal;</span><br></pre></td></tr></table></figure>
<p>协变(out) 英语单词字面理解就是出参，而中文的字面意思就是正向(协有顺的意思)的即从父向子转换，可以参考系统提供的委托 <code>Func&lt;T&gt;</code>。</p>
<p><code>Func&lt;T&gt;</code> 委托这样使用可以理解为一个已经限制返回值为基类型的委托，那么这个委托将不能赋值给返回值为派生类的委托。也就是说已经限制了一个委托的返回值类型，那么这个委托的返回值只能是该类型或该类型的基类型，因为我们并不能确定该返回值的类型是否是该派生类型。所以反之我们可以将返回值为派生类的委托赋值给一个返回值为基类型的委托。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// public delegate TResult Func&lt;out TResult&gt;();</span></span><br><span class="line">Func&lt;Animal&gt; funcAnimal = () =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Animal animal = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> Random().Next() % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        animal = <span class="keyword">new</span> Animal();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        animal = <span class="keyword">new</span> Cat();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> animal;</span><br><span class="line">&#125;;</span><br><span class="line">Func&lt;Cat&gt; funcCat = () =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    Cat cat = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> Random().Next() % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cat = new Animal();</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cat = <span class="keyword">new</span> Cat();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cat;</span><br><span class="line">&#125;;</span><br><span class="line">funcAnimal = funcCat;</span><br><span class="line"><span class="comment">// funcCat = funcAnimal;//报错：猫咪是动物，但是动物未必是喵咪。</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果感觉协变和逆变的内容难以理解，可以参看博客园的文章<a target="_blank" rel="noopener" href="http://www.cnblogs.com/lemontea/archive/2013/02/17/2915065.html">逆变与协变详解</a>，实际我们只需要了解基本概念以及学会如何使用即可，对于内部的实现原理不必深究。</p>
</blockquote>
<h2 id="泛型缓存"><a href="#泛型缓存" class="headerlink" title="泛型缓存"></a>泛型缓存</h2><p>因为每一个泛型类型，都会生成不同副本，适合不同类型，需要缓存一份数据的场景。而无论是线程安全性还是检索速度，泛型缓存都要比字典类型表现更佳。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GenericCache</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">GenericCache</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        GetCache();</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GenericCache</span>(<span class="params"></span>)<span class="comment">//实例化 相当于手动更新缓存</span></span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">	    _cache = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> List&lt;T&gt; _cache = <span class="literal">null</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;T&gt; <span class="title">GetCache</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_cache == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//为缓存赋值 若需要实时更新 可以自己设置策略检查更新是否过期</span></span><br><span class="line">            <span class="comment">//_cache = DbHelper.GetAll&lt;T&gt;();</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> _cache;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/generic-part-2/" data-id="cklhsu16l000i05rjg69o08zo" data-title="泛型（Part 2）" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B3%9B%E5%9E%8B/" rel="tag">泛型</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190331-generic-part-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/generic-part-1/" class="article-date">
  <time class="dt-published" datetime="2019-03-31T10:12:00.000Z" itemprop="datePublished">2019-03-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a>►<a class="article-category-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/generic-part-1/">泛型 （Part 1）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="什么是泛型"><a href="#什么是泛型" class="headerlink" title="什么是泛型"></a>什么是泛型</h2><p>起始版本为 <em>.net framework 2.0 CLR升级</em> 支持的，非语法糖。<strong>为解决针对不同参数类型，有相同的操作行为。</strong></p>
<ul>
<li>延迟声明：声明方法的时候并没有指定参数的类型，而是等调用的时候指定。</li>
<li>延迟思想：推迟一切可以推迟的。（提高程序的灵活性和扩展性）</li>
</ul>
<p>打印泛型集合和字典：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="keyword">typeof</span>(List&lt;&gt;));</span><br><span class="line">Console.WriteLine(<span class="keyword">typeof</span>(Dictionary&lt;,&gt;));</span><br></pre></td></tr></table></figure>
<p>输出内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.Collections.Generic.List\&#96;1[T]</span><br><span class="line">System.Collections.Generic.Dictionary\&#96;2[TKey,TValue]</span><br></pre></td></tr></table></figure>
<p>编译的时候，类型参数被编译为占位符，程序运行时，JIT即时编译为是类型，所以其性能近似普通方法。</p>
<h2 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h2><ul>
<li>定义：<code>MethodName&lt;T&gt;(T t)&#123;&#125;</code>  其中T是类型参数，名称不做限制。</li>
<li>使用：<code>MethodName&lt;int&gt;(123)</code> 或 <code>MethodName(123)</code>  当类型参数可以由编译器推断时，可以不指定参数类型。</li>
</ul>
<h3 id="普通方法"><a href="#普通方法" class="headerlink" title="普通方法"></a>普通方法</h3><p>优点是直观、性能较好；缺点为相同逻辑不能重用，拓展性差。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowInt</span>(<span class="params"><span class="built_in">int</span> i</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;type:<span class="subst">&#123;i.GetType()&#125;</span>\tvalue:<span class="subst">&#123;i&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowString</span>(<span class="params"><span class="built_in">string</span> s</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;type:<span class="subst">&#123;s.GetType()&#125;</span>\tvalue:<span class="subst">&#123;s&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowDateTime</span>(<span class="params">DateTime dt</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;type:<span class="subst">&#123;dt.GetType()&#125;</span>\tvalue:<span class="subst">&#123;dt&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="object-方法"><a href="#object-方法" class="headerlink" title="object 方法"></a>object 方法</h3><p>优点是基类型可以用子类代替，解决相同逻辑复用问题；缺点是存在拆装箱，影响性能。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShowObject</span>(<span class="params">Object o</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;type:<span class="subst">&#123;o.GetType()&#125;</span>\tvalue:<span class="subst">&#123;o&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="泛型方法-1"><a href="#泛型方法-1" class="headerlink" title="泛型方法"></a>泛型方法</h3><p>可以复用，同时不存在性能问题。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Show</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;type:<span class="subst">&#123;t.GetType()&#125;</span>\tvalue:<span class="subst">&#123;t&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//普通方法</span></span><br><span class="line">CommonMethod.ShowInt(<span class="number">123</span>);</span><br><span class="line">CommonMethod.ShowString(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">CommonMethod.ShowDateTime(DateTime.Now);</span><br><span class="line"><span class="comment">//object方法</span></span><br><span class="line">CommonMethod.ShowObject(<span class="number">123</span>);</span><br><span class="line">CommonMethod.ShowObject(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">CommonMethod.ShowObject(DateTime.Now);</span><br><span class="line"><span class="comment">//泛型方法</span></span><br><span class="line">CommonMethod.Show(<span class="number">123</span>);</span><br><span class="line">CommonMethod.Show(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">CommonMethod.Show(DateTime.Now);</span><br></pre></td></tr></table></figure>
<p>输出内容  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">type:System.Int32   value:123</span><br><span class="line">type:System.String  value:123</span><br><span class="line">type:System.DateTime    value:2018&#x2F;5&#x2F;1 20:14:33</span><br><span class="line">type:System.Int32	value:123</span><br><span class="line">type:System.String	value:123</span><br><span class="line">type:System.DateTime	value:2018&#x2F;5&#x2F;1 20:14:33</span><br><span class="line">type:System.Int32	value:123</span><br><span class="line">type:System.String	value:123</span><br><span class="line">type:System.DateTime	value:2018&#x2F;5&#x2F;1 20:14:33</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：object是一切类型的父类；通过继承，子类拥有父类的一切属性和行为；任何子类出现的地方，都可以用父类来代替；值类型转换为引用类型是装箱，引用类型转换为值类型是拆箱。</p>
</blockquote>
<h2 id="其他使用场景"><a href="#其他使用场景" class="headerlink" title="其他使用场景"></a>其他使用场景</h2><p>除泛型方法以外，还可以使用泛型类、泛型接口、泛型委托。</p>
<h3 id="1-泛型类"><a href="#1-泛型类" class="headerlink" title="1. 泛型类"></a>1. 泛型类</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GenericClass</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Show</span>&lt;<span class="title">T1</span>&gt;(<span class="params">T1 t1</span>)</span>&#123; &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> T2 <span class="title">Get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>	&#123;</span><br><span class="line">	    <span class="keyword">return</span> <span class="literal">default</span>(T2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-泛型接口"><a href="#2-泛型接口" class="headerlink" title="2. 泛型接口"></a>2. 泛型接口</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IGeneric</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">T <span class="title">IMethod</span>(<span class="params">T t</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-泛型委托"><a href="#3-泛型委托" class="headerlink" title="3. 泛型委托"></a>3. 泛型委托</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> T <span class="title">GetHandler</span>&lt;<span class="title">T</span>&gt;(<span class="params"></span>)</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：普通类不能直接继承自泛型类也不能直接实现泛型接口，指定参数类型后才可以。泛型类可以继承泛型类。</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GenericClass</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>&gt;&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Child</span>: <span class="title">GernericClass</span>&lt;<span class="title">int</span>, <span class="title">string</span>&gt;, <span class="title">IStudy</span>&lt;<span class="title">DateTime</span>&gt;&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ChildGeneric</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>&gt;: <span class="title">GenericClass</span>&lt;<span class="title">T1</span>, <span class="title">T2</span>&gt;&#123;&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/generic-part-1/" data-id="cklhsu16i000f05rjbs17fosh" data-title="泛型 （Part 1）" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B3%9B%E5%9E%8B/" rel="tag">泛型</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-190331-disclaimer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/disclaimer/" class="article-date">
  <time class="dt-published" datetime="2019-03-31T06:27:00.000Z" itemprop="datePublished">2019-03-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%97%A5%E5%BF%97/">日志</a>►<a class="article-category-link" href="/categories/%E6%97%A5%E5%BF%97/%E5%85%AC%E5%91%8A/">公告</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/disclaimer/">免责声明</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>浏览者在访问本站前，请务必阅读本文以下条款并同意以下声明：</p>
<ol>
<li><p>华灯博客（以下简称本站）所有原创文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处，否则本站有权依法追究其法律责任。</p>
</li>
<li><p>关于本站的所有留言评论、引用文纯属文字原作者个人观点，与本站观点及立场无关；浏览者在本站发表信息时需要遵守中国现行相应法律，不得发布违法信息。</p>
</li>
<li><p>本站部分内容来自互联网，若无意间侵犯到媒体、公司、企业或个人的知识产权，请及时邮件告知，本站将及时处理。</p>
</li>
<li><p>本站转载的部分内容，如有您未署名的作品，请及时邮件联系，本站会及时为您的作品做署名及相关处理。</p>
</li>
</ol>
<p>以上声明内容的最终解释权归<a href="/">华灯博客</a>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hd2y.github.io/disclaimer/" data-id="cklhsu16i000e05rjbpee0tj8" data-title="免责声明" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/9/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/">开发</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/C/">C#</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/C/ASP-NET-Core/">ASP.NET Core</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/C/WPF/">WPF</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E4%B8%9A%E5%8A%A1/">业务</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%9F%BA%E7%A1%80/">基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/">Oracle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/PostgreSQL/">PostgreSQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL-Server/">SQL Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLite/">SQLite</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91/%E6%9D%82%E8%B0%88/">杂谈</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/MacOS/">MacOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BD%AF%E4%BB%B6/">软件</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/">日志</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/%E5%85%AC%E5%91%8A/">公告</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/%E5%BC%80%E7%AE%B1/">开箱</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/%E6%9D%82%E8%B0%88/">杂谈</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET-Standard/" rel="tag">.NET Standard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASCII/" rel="tag">ASCII</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ActiveX/" rel="tag">ActiveX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Attribute/" rel="tag">Attribute</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Autofac/" rel="tag">Autofac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFG/" rel="tag">BFG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CCProxy/" rel="tag">CCProxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DBeaver/" rel="tag">DBeaver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Expression/" rel="tag">Expression</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fody/" rel="tag">Fody</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GDI/" rel="tag">GDI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitea/" rel="tag">Gitea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HIS/" rel="tag">HIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HongYang/" rel="tag">HongYang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/" rel="tag">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IE/" rel="tag">IE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jint/" rel="tag">Jint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/" rel="tag">Json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kindle/" rel="tag">Kindle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LIS/" rel="tag">LIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LODOP/" rel="tag">LODOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVC/" rel="tag">MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/" rel="tag">Math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NHibernate/" rel="tag">NHibernate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nexus3/" rel="tag">Nexus3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NuGet/" rel="tag">NuGet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOA/" rel="tag">SOA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/" rel="tag">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/" rel="tag">TCP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Telegram/" rel="tag">Telegram</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TreeView/" rel="tag">TreeView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tuple/" rel="tag">Tuple</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI/" rel="tag">UI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML/" rel="tag">UML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS/" rel="tag">VS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VSCode/" rel="tag">VSCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ValueTuple/" rel="tag">ValueTuple</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WCF/" rel="tag">WCF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WPF/" rel="tag">WPF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebApi/" rel="tag">WebApi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebService/" rel="tag">WebService</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WinForm/" rel="tag">WinForm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows-XP/" rel="tag">Windows XP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xml/" rel="tag">Xml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/decimal/" rel="tag">decimal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/frp/" rel="tag">frp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdbc/" rel="tag">jdbc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mstsc/" rel="tag">mstsc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%B2%E5%8F%A3/" rel="tag">串口</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%94%E7%AC%94/" rel="tag">五笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">代理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/" rel="tag">依赖注入</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E7%BB%84/" rel="tag">元组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E5%AF%86/" rel="tag">加密</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/" rel="tag">动态链接库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E5%B0%84/" rel="tag">反射</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/" rel="tag">图片压缩</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="tag">多线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A7%94%E6%89%98/" rel="tag">委托</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E9%BE%84/" rel="tag">年龄</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" rel="tag">序列化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%83%E5%85%83/" rel="tag">弃元</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%93%E5%8D%B0/" rel="tag">打印</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%BC%E9%9F%B3/" rel="tag">拼音</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">日志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/" rel="tag">构造函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0/" rel="tag">析构函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%9A%E4%B8%BE/" rel="tag">枚举</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99/" rel="tag">正则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%89%E5%AD%97/" rel="tag">汉字</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%9B%E5%9E%8B/" rel="tag">泛型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%91%9E%E7%BE%8E/" rel="tag">瑞美</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">虚拟机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%80%E7%90%83%E4%BB%AA/" rel="tag">血球仪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%A3%E6%9E%84%E5%87%BD%E6%95%B0/" rel="tag">解构函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E8%AF%95/" rel="tag">调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9D%E5%85%8B%E6%9B%BC/" rel="tag">贝克曼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BA%AB%E4%BB%BD%E8%AF%81%E8%AF%BB%E5%8D%A1/" rel="tag">身份证读卡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6/" rel="tag">软件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B/" rel="tag">远程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AA%E9%80%80/" rel="tag">闪退</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">项目</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/NET-Standard/" style="font-size: 10px;">.NET Standard</a> <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/ASCII/" style="font-size: 10px;">ASCII</a> <a href="/tags/ActiveX/" style="font-size: 10px;">ActiveX</a> <a href="/tags/Attribute/" style="font-size: 10px;">Attribute</a> <a href="/tags/Autofac/" style="font-size: 10px;">Autofac</a> <a href="/tags/BFG/" style="font-size: 10px;">BFG</a> <a href="/tags/CCProxy/" style="font-size: 10px;">CCProxy</a> <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/DBeaver/" style="font-size: 12.5px;">DBeaver</a> <a href="/tags/Expression/" style="font-size: 10px;">Expression</a> <a href="/tags/Fody/" style="font-size: 10px;">Fody</a> <a href="/tags/GDI/" style="font-size: 12.5px;">GDI</a> <a href="/tags/Git/" style="font-size: 12.5px;">Git</a> <a href="/tags/GitHub/" style="font-size: 12.5px;">GitHub</a> <a href="/tags/Gitea/" style="font-size: 10px;">Gitea</a> <a href="/tags/HIS/" style="font-size: 12.5px;">HIS</a> <a href="/tags/HongYang/" style="font-size: 10px;">HongYang</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/IE/" style="font-size: 10px;">IE</a> <a href="/tags/JavaScript/" style="font-size: 12.5px;">JavaScript</a> <a href="/tags/Jint/" style="font-size: 12.5px;">Jint</a> <a href="/tags/Json/" style="font-size: 10px;">Json</a> <a href="/tags/Kindle/" style="font-size: 10px;">Kindle</a> <a href="/tags/LIS/" style="font-size: 20px;">LIS</a> <a href="/tags/LODOP/" style="font-size: 10px;">LODOP</a> <a href="/tags/MVC/" style="font-size: 10px;">MVC</a> <a href="/tags/MacOS/" style="font-size: 10px;">MacOS</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/NHibernate/" style="font-size: 10px;">NHibernate</a> <a href="/tags/Nexus3/" style="font-size: 10px;">Nexus3</a> <a href="/tags/Note/" style="font-size: 10px;">Note</a> <a href="/tags/NuGet/" style="font-size: 10px;">NuGet</a> <a href="/tags/OOP/" style="font-size: 10px;">OOP</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/SOA/" style="font-size: 17.5px;">SOA</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/TreeView/" style="font-size: 10px;">TreeView</a> <a href="/tags/Tuple/" style="font-size: 10px;">Tuple</a> <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a> <a href="/tags/Unity/" style="font-size: 10px;">Unity</a> <a href="/tags/VS/" style="font-size: 10px;">VS</a> <a href="/tags/VSCode/" style="font-size: 10px;">VSCode</a> <a href="/tags/ValueTuple/" style="font-size: 10px;">ValueTuple</a> <a href="/tags/WCF/" style="font-size: 12.5px;">WCF</a> <a href="/tags/WPF/" style="font-size: 10px;">WPF</a> <a href="/tags/WebApi/" style="font-size: 15px;">WebApi</a> <a href="/tags/WebService/" style="font-size: 15px;">WebService</a> <a href="/tags/WinForm/" style="font-size: 10px;">WinForm</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/Windows-XP/" style="font-size: 12.5px;">Windows XP</a> <a href="/tags/Xml/" style="font-size: 10px;">Xml</a> <a href="/tags/decimal/" style="font-size: 10px;">decimal</a> <a href="/tags/frp/" style="font-size: 10px;">frp</a> <a href="/tags/jdbc/" style="font-size: 10px;">jdbc</a> <a href="/tags/mstsc/" style="font-size: 10px;">mstsc</a> <a href="/tags/%E4%B8%B2%E5%8F%A3/" style="font-size: 12.5px;">串口</a> <a href="/tags/%E4%BA%94%E7%AC%94/" style="font-size: 10px;">五笔</a> <a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 12.5px;">代理</a> <a href="/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/" style="font-size: 10px;">依赖注入</a> <a href="/tags/%E5%85%83%E7%BB%84/" style="font-size: 12.5px;">元组</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 10px;">加密</a> <a href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/" style="font-size: 10px;">动态链接库</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">反射</a> <a href="/tags/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/" style="font-size: 10px;">图片压缩</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 20px;">多线程</a> <a href="/tags/%E5%A7%94%E6%89%98/" style="font-size: 10px;">委托</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E5%B9%B4%E9%BE%84/" style="font-size: 10px;">年龄</a> <a href="/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 10px;">序列化</a> <a href="/tags/%E5%BC%83%E5%85%83/" style="font-size: 10px;">弃元</a> <a href="/tags/%E6%89%93%E5%8D%B0/" style="font-size: 10px;">打印</a> <a href="/tags/%E6%8B%BC%E9%9F%B3/" style="font-size: 10px;">拼音</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 10px;">日志</a> <a href="/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/" style="font-size: 10px;">构造函数</a> <a href="/tags/%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0/" style="font-size: 10px;">析构函数</a> <a href="/tags/%E6%9E%9A%E4%B8%BE/" style="font-size: 10px;">枚举</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size: 15px;">正则</a> <a href="/tags/%E6%B1%89%E5%AD%97/" style="font-size: 10px;">汉字</a> <a href="/tags/%E6%B3%9B%E5%9E%8B/" style="font-size: 12.5px;">泛型</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">爬虫</a> <a href="/tags/%E7%91%9E%E7%BE%8E/" style="font-size: 10px;">瑞美</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 12.5px;">虚拟机</a> <a href="/tags/%E8%A1%80%E7%90%83%E4%BB%AA/" style="font-size: 10px;">血球仪</a> <a href="/tags/%E8%A7%A3%E6%9E%84%E5%87%BD%E6%95%B0/" style="font-size: 10px;">解构函数</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12.5px;">设计模式</a> <a href="/tags/%E8%B0%83%E8%AF%95/" style="font-size: 10px;">调试</a> <a href="/tags/%E8%B4%9D%E5%85%8B%E6%9B%BC/" style="font-size: 10px;">贝克曼</a> <a href="/tags/%E8%BA%AB%E4%BB%BD%E8%AF%81%E8%AF%BB%E5%8D%A1/" style="font-size: 10px;">身份证读卡</a> <a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 10px;">软件</a> <a href="/tags/%E8%BF%9C%E7%A8%8B/" style="font-size: 10px;">远程</a> <a href="/tags/%E9%97%AA%E9%80%80/" style="font-size: 10px;">闪退</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 10px;">项目</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/chinese-helper/">汉字帮助类——获取拼音与五笔简码</a>
          </li>
        
          <li>
            <a href="/how-to-process-images/">如何处理图片</a>
          </li>
        
          <li>
            <a href="/instrument-communication/">检验仪器常见通信方案</a>
          </li>
        
          <li>
            <a href="/back-in-2020/">回顾2020年</a>
          </li>
        
          <li>
            <a href="/csharp-expression-script-evaluation-problems/">C# 中表达式计算问题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 hd2y<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>